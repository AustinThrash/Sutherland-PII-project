!function(){"use strict";var t="http://www.w3.org/1999/xhtml",e={svg:"http://www.w3.org/2000/svg",xhtml:t,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function n(t){var n=t+="",r=n.indexOf(":");return r>=0&&"xmlns"!==(n=t.slice(0,r))&&(t=t.slice(r+1)),e.hasOwnProperty(n)?{space:e[n],local:t}:t}function r(e){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===t&&n.documentElement.namespaceURI===t?n.createElement(e):n.createElementNS(r,e)}}function i(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function o(t){var e=n(t);return(e.local?i:r)(e)}function a(){}function s(t){return null==t?a:function(){return this.querySelector(t)}}function l(){return[]}function c(t){return new Array(t.length)}function u(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function f(t,e,n,r,i,o){for(var a,s=0,l=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new u(t,o[s]);for(;s<l;++s)(a=e[s])&&(i[s]=a)}function h(t,e,n,r,i,o,a){var s,l,c,f={},h=e.length,p=o.length,d=new Array(h);for(s=0;s<h;++s)(l=e[s])&&(d[s]=c="$"+a.call(l,l.__data__,s,e),c in f?i[s]=l:f[c]=l);for(s=0;s<p;++s)(l=f[c="$"+a.call(t,o[s],s,o)])?(r[s]=l,l.__data__=o[s],f[c]=null):n[s]=new u(t,o[s]);for(s=0;s<h;++s)(l=e[s])&&f[d[s]]===l&&(i[s]=l)}function p(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function d(t){return function(){this.removeAttribute(t)}}function g(t){return function(){this.removeAttributeNS(t.space,t.local)}}function m(t,e){return function(){this.setAttribute(t,e)}}function y(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function v(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function b(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function x(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function w(t){return function(){this.style.removeProperty(t)}}function k(t,e,n){return function(){this.style.setProperty(t,e,n)}}function M(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function _(t,e){return t.style.getPropertyValue(e)||x(t).getComputedStyle(t,null).getPropertyValue(e)}function A(t){return function(){delete this[t]}}function E(t,e){return function(){this[t]=e}}function T(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function $(t){return t.trim().split(/^|\s+/)}function O(t){return t.classList||new N(t)}function N(t){this._node=t,this._names=$(t.getAttribute("class")||"")}function S(t,e){for(var n=O(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function L(t,e){for(var n=O(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function C(t){return function(){S(this,t)}}function D(t){return function(){L(this,t)}}function R(t,e){return function(){(e.apply(this,arguments)?S:L)(this,t)}}function I(){this.textContent=""}function P(t){return function(){this.textContent=t}}function z(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function j(){this.innerHTML=""}function F(t){return function(){this.innerHTML=t}}function U(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function B(){this.nextSibling&&this.parentNode.appendChild(this)}function H(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Y(){return null}function W(){var t=this.parentNode;t&&t.removeChild(this)}function q(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function G(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}u.prototype={constructor:u,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},N.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var V={},X=null;function K(t,e,n){return t=Z(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function Z(t,e,n){return function(r){var i=X;X=r;try{t.call(this,this.__data__,e,n)}finally{X=i}}}function J(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Q(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function tt(t,e,n){var r=V.hasOwnProperty(t.type)?K:Z;return function(i,o,a){var s,l=this.__on,c=r(e,o,a);if(l)for(var u=0,f=l.length;u<f;++u)if((s=l[u]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=e);this.addEventListener(t.type,c,n),s={type:t.type,name:t.name,value:e,listener:c,capture:n},l?l.push(s):this.__on=[s]}}function et(t,e,n){var r=x(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function nt(t,e){return function(){return et(this,t,e)}}function rt(t,e){return function(){return et(this,t,e.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(V={mouseenter:"mouseover",mouseleave:"mouseout"}));var it=[null];function ot(t,e){this._groups=t,this._parents=e}function at(){return new ot([[document.documentElement]],it)}function st(t){return"string"==typeof t?new ot([[document.querySelector(t)]],[document.documentElement]):new ot([[t]],it)}function lt(t){if("string"==typeof t){var e,n={},r=t.split(/([\.#])/g);for(t=r.shift();e=r.shift();)"."==e?n.class=n.class?n.class+" "+r.shift():r.shift():"#"==e&&(n.id=r.shift());return{tag:t,attr:n}}return t}function ct(){return null}ot.prototype=at.prototype={constructor:ot,select:function(t){"function"!=typeof t&&(t=s(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,l=e[i],c=l.length,u=r[i]=new Array(c),f=0;f<c;++f)(o=l[f])&&(a=t.call(o,o.__data__,f,l))&&("__data__"in o&&(a.__data__=o.__data__),u[f]=a);return new ot(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=function(t){return null==t?l:function(){return this.querySelectorAll(t)}}(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],c=s.length,u=0;u<c;++u)(a=s[u])&&(r.push(t.call(a,a.__data__,u,s)),i.push(a));return new ot(r,i)},filter:function(t){"function"!=typeof t&&(t=function(t){return function(){return this.matches(t)}}(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new ot(r,this._parents)},data:function(t,e){if(!t)return g=new Array(this.size()),c=-1,this.each((function(t){g[++c]=t})),g;var n=e?h:f,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),c=0;c<o;++c){var u=r[c],p=i[c],d=p.length,g=t.call(u,u&&u.__data__,c,r),m=g.length,y=s[c]=new Array(m),v=a[c]=new Array(m);n(u,p,y,v,l[c]=new Array(d),g,e);for(var b,x,w=0,k=0;w<m;++w)if(b=y[w]){for(w>=k&&(k=w+1);!(x=v[k])&&++k<m;);b._next=x||null}}return(a=new ot(a,r))._enter=s,a._exit=l,a},enter:function(){return new ot(this._enter||this._groups.map(c),this._parents)},exit:function(){return new ot(this._exit||this._groups.map(c),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l,c=e[s],u=n[s],f=c.length,h=a[s]=new Array(f),p=0;p<f;++p)(l=c[p]||u[p])&&(h[p]=l);for(;s<r;++s)a[s]=e[s];return new ot(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=p);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],l=s.length,c=i[o]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(e)}return new ot(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var r=n(t);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((null==e?r.local?g:d:"function"==typeof e?r.local?b:v:r.local?y:m)(r,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?w:"function"==typeof e?M:k)(t,e,null==n?"":n)):_(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?A:"function"==typeof e?T:E)(t,e)):this.node()[t]},classed:function(t,e){var n=$(t+"");if(arguments.length<2){for(var r=O(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?R:e?C:D)(n,e))},text:function(t){return arguments.length?this.each(null==t?I:("function"==typeof t?z:P)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?j:("function"==typeof t?U:F)(t)):this.node().innerHTML},raise:function(){return this.each(B)},lower:function(){return this.each(H)},append:function(t){var e="function"==typeof t?t:o(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:o(t),r=null==e?Y:"function"==typeof e?e:s(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(W)},clone:function(t){return this.select(t?G:q)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=J(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?tt:Q,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?rt:nt)(t,e))}};const ut=/^(allowReorder|attributeName|attributeType|autoReverse|baseFrequency|baseProfile|calcMode|clipPathUnits|contentScriptType|contentStyleType|diffuseConstant|edgeMode|externalResourcesRequired|filterRes|filterUnits|glyphRef|gradientTransform|gradientUnits|kernelMatrix|kernelUnitLength|keyPoints|keySplines|keyTimes|lengthAdjust|limitingConeAngle|markerHeight|markerUnits|markerWidth|maskContentUnits|maskUnits|numOctaves|pathLength|patternContentUnits|patternTransform|patternUnits|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|referrerPolicy|refX|refY|repeatCount|repeatDur|requiredExtensions|requiredFeatures|specularConstant|specularExponent|spreadMethod|startOffset|stdDeviation|stitchTiles|surfaceScale|systemLanguage|tableValues|targetX|targetY|textLength|viewBox|viewTarget|xChannelSelector|yChannelSelector|zoomAndPan)$/;function ft(){for(var t=arguments,e=0,n=t.length;e<n;)"string"!=typeof t[e]&&"number"!=typeof t[e]||(t[e]=function(t){return function(e){return e[t]}}(t[e])),e++;return function(e){for(var n=0,r=t.length;n++<r;)e=t[n-1].call(this,e);return e}}function ht(t){return"function"==typeof t?function(e,n){return t(e)<t(n)?-1:t(e)>t(n)?1:t(e)>=t(n)?0:NaN}:function(e,n){return e[t]<n[t]?-1:e[t]>n[t]?1:e[t]>=n[t]?0:NaN}}function pt(){}function dt(t,e){var n=new pt;if(t instanceof pt)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}function gt(){}ft.not=function(t){return!t},ft.run=function(t){return t()},ft.objToFn=function(t,e){return 1==arguments.length&&(e=void 0),function(n){return void 0!==t[n]?t[n]:e}},pt.prototype=dt.prototype={constructor:pt,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var mt=dt.prototype;function yt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function vt(t){return 1===t.length&&(t=function(t){return function(e,n){return yt(t(e),n)}}(t)),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}gt.prototype={constructor:gt,has:mt.has,add:function(t){return this["$"+(t+="")]=t,this},remove:mt.remove,clear:mt.clear,values:mt.keys,size:mt.size,empty:mt.empty,each:mt.each},at.prototype.translate=function(t,e){var n=this.node();return n?n.getBBox?this.attr("transform",(function(n,r){var i="function"==typeof t?t.call(this,n,r):t;return 0===e?i=[i,0]:1===e&&(i=[0,i]),"translate("+i[0]+","+i[1]+")"})):this.style("transform",(function(n,r){var i="function"==typeof t?t.call(this,n,r):t;return 0===e?i=[i,0]:1===e&&(i=[0,i]),"translate("+i[0]+"px,"+i[1]+"px)"})):this},at.prototype.append=function(t){var e,n;"function"==typeof t?e=t:(n=lt(t),e=o(n.tag));var r=this.select((function(){return this.appendChild(e.apply(this,arguments))}));if(n)for(var i in n.attr)r.attr(i,n.attr[i]);return r},at.prototype.insert=function(t,e){var n=lt(t),r=o(n.tag),i=null==e?ct:"function"==typeof e?e:s(e),a=this.select((function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)}));for(var l in n.attr)a.attr(l,n.attr[l]);return a},at.prototype.parent=function(){var t=[];return this.filter((function(){return!(t.indexOf(this.parentNode)>-1||(t.push(this.parentNode),0))})).select((function(){return this.parentNode}))},at.prototype.selectAppend=function(t){var e,n=s(t),r=lt(t);for(var i in t=o(r.tag),e=this.select((function(){return n.apply(this,arguments)||this.appendChild(t.apply(this,arguments))})),r.attr)e.attr(i,r.attr[i]);return e},at.prototype.tspans=function(t,e){return this.selectAll("tspan").data((function(e,n){return("function"==typeof t?t.call(this,e,n):t).map((function(t){return{line:t,parent:e}}))})).enter().append("tspan").text((function(t){return t.line})).attr("x",0).attr("dy",(function(t,n){return n?("function"==typeof e?e.call(this,t.parent,t.line,n):e)||15:0}))},at.prototype.appendMany=function(t,e){if("string"==typeof e){console.warn("DEPRECATED: jetpack's appendMany order of arguments has changed. It's appendMany('div', data) from now on");var n=e;e=t,t=n}return this.selectAll(null).data(e).enter().append(t)},at.prototype.at=function(t,e){if("object"==typeof t){for(var n in t)this.attr(ut.test(n)?n:n.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase(),t[n]);return this}return 1==arguments.length?this.attr(t):this.attr(t,e)},at.prototype.st=function(t,e){if("object"==typeof t){for(var n in t)r(this,n,t[n]);return this}return 1==arguments.length?this.style(t):r(this,t,e);function r(t,e,n){return e=e.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase(),~"top left bottom right padding-top padding-left padding-bottom padding-right border-top b-width border-left-width border-botto-width m border-right-width margin-top margin-left margin-bottom margin-right font-size width stroke-width line-height margin padding border border-radius max-width min-width max-height min-height".indexOf(e)?t.style(e,"function"==typeof n?o(n):i(n)):t.style(e,n),t}function i(t){return t.match?t:t+"px"}function o(t){return function(){var e=t.apply(this,arguments);return i(e)}}},at.prototype.prop=at.prototype.property;var bt=vt(yt).right;function xt(t,e){var n,r,i,o=t.length,a=-1;if(null==e){for(;++a<o;)if(null!=(n=t[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=t[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=i=n;++a<o;)null!=(n=e(t[a],a,t))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]}var wt=Math.sqrt(50),kt=Math.sqrt(10),Mt=Math.sqrt(2);function _t(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=At(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(t-s)/a;return r&&o.reverse(),o}function At(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=wt?10:o>=kt?5:o>=Mt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=wt?10:o>=kt?5:o>=Mt?2:1)}function Et(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=wt?i*=10:o>=kt?i*=5:o>=Mt&&(i*=2),e<t?-i:i}function Tt(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&r>n&&(r=n);return r}function $t(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var Ot=Array.prototype,Nt=Ot.map,St=Ot.slice;function Lt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ct(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Dt(){}var Rt="\\s*([+-]?\\d+)\\s*",It="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zt=/^#([0-9a-f]{3,8})$/,jt=new RegExp("^rgb\\("+[Rt,Rt,Rt]+"\\)$"),Ft=new RegExp("^rgb\\("+[Pt,Pt,Pt]+"\\)$"),Ut=new RegExp("^rgba\\("+[Rt,Rt,Rt,It]+"\\)$"),Bt=new RegExp("^rgba\\("+[Pt,Pt,Pt,It]+"\\)$"),Ht=new RegExp("^hsl\\("+[It,Pt,Pt]+"\\)$"),Yt=new RegExp("^hsla\\("+[It,Pt,Pt,It]+"\\)$"),Wt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function qt(){return this.rgb().formatHex()}function Gt(){return this.rgb().formatRgb()}function Vt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=zt.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Xt(e):3===n?new Qt(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Kt(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Kt(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=jt.exec(t))?new Qt(e[1],e[2],e[3],1):(e=Ft.exec(t))?new Qt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Ut.exec(t))?Kt(e[1],e[2],e[3],e[4]):(e=Bt.exec(t))?Kt(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Ht.exec(t))?re(e[1],e[2]/100,e[3]/100,1):(e=Yt.exec(t))?re(e[1],e[2]/100,e[3]/100,e[4]):Wt.hasOwnProperty(t)?Xt(Wt[t]):"transparent"===t?new Qt(NaN,NaN,NaN,0):null}function Xt(t){return new Qt(t>>16&255,t>>8&255,255&t,1)}function Kt(t,e,n,r){return r<=0&&(t=e=n=NaN),new Qt(t,e,n,r)}function Zt(t){return t instanceof Dt||(t=Vt(t)),t?new Qt((t=t.rgb()).r,t.g,t.b,t.opacity):new Qt}function Jt(t,e,n,r){return 1===arguments.length?Zt(t):new Qt(t,e,n,null==r?1:r)}function Qt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function te(){return"#"+ne(this.r)+ne(this.g)+ne(this.b)}function ee(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function ne(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function re(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new oe(t,e,n,r)}function ie(t){if(t instanceof oe)return new oe(t.h,t.s,t.l,t.opacity);if(t instanceof Dt||(t=Vt(t)),!t)return new oe;if(t instanceof oe)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new oe(a,s,l,t.opacity)}function oe(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function ae(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Lt(Dt,Vt,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:qt,formatHex:qt,formatHsl:function(){return ie(this).formatHsl()},formatRgb:Gt,toString:Gt}),Lt(Qt,Jt,Ct(Dt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Qt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Qt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:te,formatHex:te,formatRgb:ee,toString:ee})),Lt(oe,(function(t,e,n,r){return 1===arguments.length?ie(t):new oe(t,e,n,null==r?1:r)}),Ct(Dt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new oe(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new oe(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Qt(ae(t>=240?t-240:t+120,i,r),ae(t,i,r),ae(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var se=Math.PI/180,le=180/Math.PI,ce=6/29*3*(6/29);function ue(t){if(t instanceof he)return new he(t.l,t.a,t.b,t.opacity);if(t instanceof ve)return be(t);t instanceof Qt||(t=Zt(t));var e,n,r=me(t.r),i=me(t.g),o=me(t.b),a=pe((.2225045*r+.7168786*i+.0606169*o)/1);return r===i&&i===o?e=n=a:(e=pe((.4360747*r+.3850649*i+.1430804*o)/.96422),n=pe((.0139322*r+.0971045*i+.7141733*o)/.82521)),new he(116*a-16,500*(e-a),200*(a-n),t.opacity)}function fe(t,e,n,r){return 1===arguments.length?ue(t):new he(t,e,n,null==r?1:r)}function he(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function pe(t){return t>6/29*(6/29)*(6/29)?Math.pow(t,1/3):t/ce+4/29}function de(t){return t>6/29?t*t*t:ce*(t-4/29)}function ge(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function me(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ye(t){if(t instanceof ve)return new ve(t.h,t.c,t.l,t.opacity);if(t instanceof he||(t=ue(t)),0===t.a&&0===t.b)return new ve(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*le;return new ve(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function ve(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function be(t){if(isNaN(t.h))return new he(t.l,0,0,t.opacity);var e=t.h*se;return new he(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}function xe(t){return function(){return t}}function we(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):xe(isNaN(t)?e:t)}Lt(he,fe,Ct(Dt,{brighter:function(t){return new he(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new he(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new Qt(ge(3.1338561*(e=.96422*de(e))-1.6168667*(t=1*de(t))-.4906146*(n=.82521*de(n))),ge(-.9787684*e+1.9161415*t+.033454*n),ge(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Lt(ve,(function(t,e,n,r){return 1===arguments.length?ye(t):new ve(t,e,n,null==r?1:r)}),Ct(Dt,{brighter:function(t){return new ve(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new ve(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return be(this).rgb()}}));var ke=function t(e){var n=function(t){return 1==(t=+t)?we:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):xe(isNaN(e)?n:e)}}(e);function r(t,e){var r=n((t=Jt(t)).r,(e=Jt(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=we(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function Me(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function _e(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Se(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function Ae(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ee(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Te(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=Se(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var $e=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Oe=new RegExp($e.source,"g");function Ne(t,e){var n,r,i,o=$e.lastIndex=Oe.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=$e.exec(t))&&(r=Oe.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:Ee(n,r)})),o=Oe.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function Se(t,e){var n,r=typeof e;return null==e||"boolean"===r?xe(e):("number"===r?Ee:"string"===r?(n=Vt(e))?(e=n,ke):Ne:e instanceof Vt?ke:e instanceof Date?Ae:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?Me:Array.isArray(e)?_e:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Te:Ee)(t,e)}function Le(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Ce(t){return+t}var De=[0,1];function Re(t){return t}function Ie(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function Pe(t){var e,n=t[0],r=t[t.length-1];return n>r&&(e=n,n=r,r=e),function(t){return Math.max(n,Math.min(r,t))}}function ze(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Ie(i,r),o=n(a,o)):(r=Ie(r,i),o=n(o,a)),function(t){return o(r(t))}}function je(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Ie(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=bt(t,e,1,r)-1;return o[n](i[n](e))}}function Fe(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ue(){var t,e,n,r,i,o,a=De,s=De,l=Se,c=Re;function u(){return r=Math.min(a.length,s.length)>2?je:ze,i=o=null,f}function f(e){return isNaN(e=+e)?n:(i||(i=r(a.map(t),s,l)))(t(c(e)))}return f.invert=function(n){return c(e((o||(o=r(s,a.map(t),Ee)))(n)))},f.domain=function(t){return arguments.length?(a=Nt.call(t,Ce),c===Re||(c=Pe(a)),u()):a.slice()},f.range=function(t){return arguments.length?(s=St.call(t),u()):s.slice()},f.rangeRound=function(t){return s=St.call(t),l=Le,u()},f.clamp=function(t){return arguments.length?(c=t?Pe(a):Re,f):c!==Re},f.interpolate=function(t){return arguments.length?(l=t,u()):l},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,u()}}function Be(t,e){return Ue()(t,e)}function He(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ye(t){return(t=He(Math.abs(t)))?t[1]:NaN}var We,qe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ge(t){if(!(e=qe.exec(t)))throw new Error("invalid format: "+t);var e;return new Ve({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Ve(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Xe(t,e){var n=He(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Ge.prototype=Ve.prototype,Ve.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Ke={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Xe(100*t,e)},r:Xe,s:function(t,e){var n=He(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(We=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+He(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Ze(t){return t}var Je,Qe,tn,en=Array.prototype.map,nn=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function rn(t){var e=t.domain;return t.ticks=function(t){var n=e();return _t(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return function(t,e,n,r){var i,o=Et(t,e,n);switch((r=Ge(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Ye(e)/3)))-Ye(Math.abs(t)))}(o,a))||(r.precision=i),tn(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ye(e)-Ye(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Ye(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return Qe(r)}(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),o=0,a=i.length-1,s=i[o],l=i[a];return l<s&&(r=s,s=l,l=r,r=o,o=a,a=r),(r=At(s,l,n))>0?r=At(s=Math.floor(s/r)*r,l=Math.ceil(l/r)*r,n):r<0&&(r=At(s=Math.ceil(s*r)/r,l=Math.floor(l*r)/r,n)),r>0?(i[o]=Math.floor(s/r)*r,i[a]=Math.ceil(l/r)*r,e(i)):r<0&&(i[o]=Math.ceil(s*r)/r,i[a]=Math.floor(l*r)/r,e(i)),t},t}function on(){var t=Be(Re,Re);return t.copy=function(){return Fe(t,on())},$t.apply(t,arguments),rn(t)}function an(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function sn(t){return Math.log(t)}function ln(t){return Math.exp(t)}function cn(t){return-Math.log(-t)}function un(t){return-Math.exp(-t)}function fn(t){return isFinite(t)?+("1e"+t):t<0?0:t}function hn(t){return function(e){return-t(-e)}}function pn(t){var e,n,r=t(sn,ln),i=r.domain,o=10;function a(){return e=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}(o),n=function(t){return 10===t?fn:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}(o),i()[0]<0?(e=hn(e),n=hn(n),t(cn,un)):t(sn,ln),r}return r.base=function(t){return arguments.length?(o=+t,a()):o},r.domain=function(t){return arguments.length?(i(t),a()):i()},r.ticks=function(t){var r,a=i(),s=a[0],l=a[a.length-1];(r=l<s)&&(h=s,s=l,l=h);var c,u,f,h=e(s),p=e(l),d=null==t?10:+t,g=[];if(!(o%1)&&p-h<d){if(h=Math.round(h)-1,p=Math.round(p)+1,s>0){for(;h<p;++h)for(u=1,c=n(h);u<o;++u)if(!((f=c*u)<s)){if(f>l)break;g.push(f)}}else for(;h<p;++h)for(u=o-1,c=n(h);u>=1;--u)if(!((f=c*u)<s)){if(f>l)break;g.push(f)}}else g=_t(h,p,Math.min(p-h,d)).map(n);return r?g.reverse():g},r.tickFormat=function(t,i){if(null==i&&(i=10===o?".0e":","),"function"!=typeof i&&(i=Qe(i)),t===1/0)return i;null==t&&(t=10);var a=Math.max(1,o*t/r.ticks().length);return function(t){var r=t/n(Math.round(e(t)));return r*o<o-.5&&(r*=o),r<=a?i(t):""}},r.nice=function(){return i(an(i(),{floor:function(t){return n(Math.floor(e(t)))},ceil:function(t){return n(Math.ceil(e(t)))}}))},r}function dn(){var t=pn(Ue()).domain([1,10]);return t.copy=function(){return Fe(t,dn()).base(t.base())},$t.apply(t,arguments),t}Je=function(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Ze:(e=en.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(t.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?Ze:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(en.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"-":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=Ge(t)).fill,n=t.align,f=t.sign,h=t.symbol,p=t.zero,d=t.width,g=t.comma,m=t.precision,y=t.trim,v=t.type;"n"===v?(g=!0,v="g"):Ke[v]||(void 0===m&&(m=12),y=!0,v="g"),(p||"0"===e&&"="===n)&&(p=!0,e="0",n="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",x="$"===h?o:/[%p]/.test(v)?l:"",w=Ke[v],k=/[defgprs%]/.test(v);function M(t){var i,o,l,h=b,M=x;if("c"===v)M=w(t)+M,t="";else{var _=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:w(Math.abs(t),m),y&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),_&&0==+t&&"+"!==f&&(_=!1),h=(_?"("===f?f:c:"-"===f||"("===f?"":f)+h,M=("s"===v?nn[8+We/3]:"")+M+(_&&"("===f?")":""),k)for(i=-1,o=t.length;++i<o;)if(48>(l=t.charCodeAt(i))||l>57){M=(46===l?a+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}g&&!p&&(t=r(t,1/0));var A=h.length+t.length+M.length,E=A<d?new Array(d-A+1).join(e):"";switch(g&&p&&(t=r(E+t,E.length?d-M.length:1/0),E=""),n){case"<":t=h+t+M+E;break;case"=":t=h+E+t+M;break;case"^":t=E.slice(0,A=E.length>>1)+h+t+M+E.slice(A);break;default:t=E+h+t+M}return s(t)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),M.toString=function(){return t+""},M}return{format:f,formatPrefix:function(t,e){var n=f(((t=Ge(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Ye(e)/3))),i=Math.pow(10,-r),o=nn[8+r/3];return function(t){return n(i*t)+o}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Qe=Je.format,tn=Je.formatPrefix;var gn=new Date,mn=new Date;function yn(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return s},i.filter=function(n){return yn((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return gn.setTime(+e),mn.setTime(+r),t(gn),t(mn),Math.floor(n(gn,mn))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var vn=yn((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));vn.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?yn((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):vn:null};var bn=vn;vn.range;var xn=yn((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+1e3*e)}),(function(t,e){return(e-t)/1e3}),(function(t){return t.getUTCSeconds()})),wn=xn;xn.range;var kn=yn((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getMinutes()})),Mn=kn;kn.range;var _n=yn((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getHours()})),An=_n;_n.range;var En=yn((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5}),(function(t){return t.getDate()-1})),Tn=En;function $n(t){return yn((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}En.range;var On=$n(0),Nn=$n(1),Sn=$n(2),Ln=$n(3),Cn=$n(4),Dn=$n(5),Rn=$n(6);On.range,Nn.range,Sn.range,Ln.range,Cn.range,Dn.range,Rn.range;var In=yn((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),Pn=In;In.range;var zn=yn((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));zn.every=function(t){return isFinite(t=Math.floor(t))&&t>0?yn((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var jn=zn;zn.range;var Fn=yn((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/864e5}),(function(t){return t.getUTCDate()-1})),Un=Fn;function Bn(t){return yn((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/6048e5}))}Fn.range;var Hn=Bn(0),Yn=Bn(1),Wn=Bn(2),qn=Bn(3),Gn=Bn(4),Vn=Bn(5),Xn=Bn(6);Hn.range,Yn.range,Wn.range,qn.range,Gn.range,Vn.range,Xn.range;var Kn=yn((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));Kn.every=function(t){return isFinite(t=Math.floor(t))&&t>0?yn((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var Zn=Kn;function Jn(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Qn(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function tr(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}Kn.range;var er,nr,rr={"-":"",_:" ",0:"0"},ir=/^\s*\d+/,or=/^%/,ar=/[\\^$*+?|[\]().{}]/g;function sr(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function lr(t){return t.replace(ar,"\\$&")}function cr(t){return new RegExp("^(?:"+t.map(lr).join("|")+")","i")}function ur(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function fr(t,e,n){var r=ir.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function hr(t,e,n){var r=ir.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function pr(t,e,n){var r=ir.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function dr(t,e,n){var r=ir.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function gr(t,e,n){var r=ir.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function mr(t,e,n){var r=ir.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function yr(t,e,n){var r=ir.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function vr(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function br(t,e,n){var r=ir.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function xr(t,e,n){var r=ir.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function wr(t,e,n){var r=ir.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function kr(t,e,n){var r=ir.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Mr(t,e,n){var r=ir.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function _r(t,e,n){var r=ir.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Ar(t,e,n){var r=ir.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Er(t,e,n){var r=ir.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Tr(t,e,n){var r=ir.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function $r(t,e,n){var r=or.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Or(t,e,n){var r=ir.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Nr(t,e,n){var r=ir.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Sr(t,e){return sr(t.getDate(),e,2)}function Lr(t,e){return sr(t.getHours(),e,2)}function Cr(t,e){return sr(t.getHours()%12||12,e,2)}function Dr(t,e){return sr(1+Tn.count(jn(t),t),e,3)}function Rr(t,e){return sr(t.getMilliseconds(),e,3)}function Ir(t,e){return Rr(t,e)+"000"}function Pr(t,e){return sr(t.getMonth()+1,e,2)}function zr(t,e){return sr(t.getMinutes(),e,2)}function jr(t,e){return sr(t.getSeconds(),e,2)}function Fr(t){var e=t.getDay();return 0===e?7:e}function Ur(t,e){return sr(On.count(jn(t)-1,t),e,2)}function Br(t){var e=t.getDay();return e>=4||0===e?Cn(t):Cn.ceil(t)}function Hr(t,e){return t=Br(t),sr(Cn.count(jn(t),t)+(4===jn(t).getDay()),e,2)}function Yr(t){return t.getDay()}function Wr(t,e){return sr(Nn.count(jn(t)-1,t),e,2)}function qr(t,e){return sr(t.getFullYear()%100,e,2)}function Gr(t,e){return sr((t=Br(t)).getFullYear()%100,e,2)}function Vr(t,e){return sr(t.getFullYear()%1e4,e,4)}function Xr(t,e){var n=t.getDay();return sr((t=n>=4||0===n?Cn(t):Cn.ceil(t)).getFullYear()%1e4,e,4)}function Kr(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+sr(e/60|0,"0",2)+sr(e%60,"0",2)}function Zr(t,e){return sr(t.getUTCDate(),e,2)}function Jr(t,e){return sr(t.getUTCHours(),e,2)}function Qr(t,e){return sr(t.getUTCHours()%12||12,e,2)}function ti(t,e){return sr(1+Un.count(Zn(t),t),e,3)}function ei(t,e){return sr(t.getUTCMilliseconds(),e,3)}function ni(t,e){return ei(t,e)+"000"}function ri(t,e){return sr(t.getUTCMonth()+1,e,2)}function ii(t,e){return sr(t.getUTCMinutes(),e,2)}function oi(t,e){return sr(t.getUTCSeconds(),e,2)}function ai(t){var e=t.getUTCDay();return 0===e?7:e}function si(t,e){return sr(Hn.count(Zn(t)-1,t),e,2)}function li(t){var e=t.getUTCDay();return e>=4||0===e?Gn(t):Gn.ceil(t)}function ci(t,e){return t=li(t),sr(Gn.count(Zn(t),t)+(4===Zn(t).getUTCDay()),e,2)}function ui(t){return t.getUTCDay()}function fi(t,e){return sr(Yn.count(Zn(t)-1,t),e,2)}function hi(t,e){return sr(t.getUTCFullYear()%100,e,2)}function pi(t,e){return sr((t=li(t)).getUTCFullYear()%100,e,2)}function di(t,e){return sr(t.getUTCFullYear()%1e4,e,4)}function gi(t,e){var n=t.getUTCDay();return sr((t=n>=4||0===n?Gn(t):Gn.ceil(t)).getUTCFullYear()%1e4,e,4)}function mi(){return"+0000"}function yi(){return"%"}function vi(t){return+t}function bi(t){return Math.floor(+t/1e3)}function xi(t){return new Date(t)}function wi(t){return t instanceof Date?+t:+new Date(+t)}function ki(t,e,n,r,i,o,a,s,l){var c=Be(Re,Re),u=c.invert,f=c.domain,h=l(".%L"),p=l(":%S"),d=l("%I:%M"),g=l("%I %p"),m=l("%a %d"),y=l("%b %d"),v=l("%B"),b=l("%Y"),x=[[a,1,1e3],[a,5,5e3],[a,15,15e3],[a,30,3e4],[o,1,6e4],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,36e5],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,864e5],[r,2,1728e5],[n,1,6048e5],[e,1,2592e6],[e,3,7776e6],[t,1,31536e6]];function w(s){return(a(s)<s?h:o(s)<s?p:i(s)<s?d:r(s)<s?g:e(s)<s?n(s)<s?m:y:t(s)<s?v:b)(s)}function k(e,n,r,i){if(null==e&&(e=10),"number"==typeof e){var o=Math.abs(r-n)/e,a=vt((function(t){return t[2]})).right(x,o);a===x.length?(i=Et(n/31536e6,r/31536e6,e),e=t):a?(i=(a=x[o/x[a-1][2]<x[a][2]/o?a-1:a])[1],e=a[0]):(i=Math.max(Et(n,r,e),1),e=s)}return null==i?e:e.every(i)}return c.invert=function(t){return new Date(u(t))},c.domain=function(t){return arguments.length?f(Nt.call(t,wi)):f().map(xi)},c.ticks=function(t,e){var n,r=f(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=(n=k(t,i,o,e))?n.range(i,o+1):[],a?n.reverse():n},c.tickFormat=function(t,e){return null==e?w:l(e)},c.nice=function(t,e){var n=f();return(t=k(t,n[0],n[n.length-1],e))?f(an(n,t)):c},c.copy=function(){return Fe(c,ki(t,e,n,r,i,o,a,s,l))},c}function Mi(){return $t.apply(ki(jn,Pn,On,Tn,An,Mn,wn,bn,nr).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}er=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,c=cr(i),u=ur(i),f=cr(o),h=ur(o),p=cr(a),d=ur(a),g=cr(s),m=ur(s),y=cr(l),v=ur(l),b={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:Sr,e:Sr,f:Ir,g:Gr,G:Xr,H:Lr,I:Cr,j:Dr,L:Rr,m:Pr,M:zr,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:vi,s:bi,S:jr,u:Fr,U:Ur,V:Hr,w:Yr,W:Wr,x:null,X:null,y:qr,Y:Vr,Z:Kr,"%":yi},x={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:Zr,e:Zr,f:ni,g:pi,G:gi,H:Jr,I:Qr,j:ti,L:ei,m:ri,M:ii,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:vi,s:bi,S:oi,u:ai,U:si,V:ci,w:ui,W:fi,x:null,X:null,y:hi,Y:di,Z:mi,"%":yi},w={a:function(t,e,n){var r=p.exec(e.slice(n));return r?(t.w=d[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=h[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=v[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=m[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return _(t,e,n,r)},d:wr,e:wr,f:Tr,g:yr,G:mr,H:Mr,I:Mr,j:kr,L:Er,m:xr,M:_r,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=u[r[0].toLowerCase()],n+r[0].length):-1},q:br,Q:Or,s:Nr,S:Ar,u:hr,U:pr,V:dr,w:fr,W:gr,x:function(t,e,r){return _(t,n,e,r)},X:function(t,e,n){return _(t,r,e,n)},y:yr,Y:mr,Z:vr,"%":$r};function k(t,e){return function(n){var r,i,o,a=[],s=-1,l=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(a.push(t.slice(l,s)),null!=(i=rr[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(t.slice(l,s)),a.join("")}}function M(t,e){return function(n){var r,i,o=tr(1900,void 0,1);if(_(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Qn(tr(o.y,0,1))).getUTCDay(),r=i>4||0===i?Yn.ceil(r):Yn(r),r=Un.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=Jn(tr(o.y,0,1))).getDay(),r=i>4||0===i?Nn.ceil(r):Nn(r),r=Tn.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Qn(tr(o.y,0,1)).getUTCDay():Jn(tr(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Qn(o)):Jn(o)}}function _(t,e,n,r){for(var i,o,a=0,s=e.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=w[i in rr?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=k(n,b),b.X=k(r,b),b.c=k(e,b),x.x=k(n,x),x.X=k(r,x),x.c=k(e,x),{format:function(t){var e=k(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=M(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=k(t+="",x);return e.toString=function(){return t},e},utcParse:function(t){var e=M(t+="",!0);return e.toString=function(){return t},e}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),nr=er.format,er.parse,er.utcFormat,er.utcParse;var _i=Math.PI,Ai=2*_i,Ei=Ai-1e-6;function Ti(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function $i(){return new Ti}function Oi(t){return function(){return t}}function Ni(t){this._context=t}function Si(t){return new Ni(t)}function Li(t){return t[0]}function Ci(t){return t[1]}function Di(){var t=Li,e=Ci,n=Oi(!0),r=null,i=Si,o=null;function a(a){var s,l,c,u=a.length,f=!1;for(null==r&&(o=i(c=$i())),s=0;s<=u;++s)!(s<u&&n(l=a[s],s,a))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(l,s,a),+e(l,s,a));if(c)return o=null,c+""||null}return a.x=function(e){return arguments.length?(t="function"==typeof e?e:Oi(+e),a):t},a.y=function(t){return arguments.length?(e="function"==typeof t?t:Oi(+t),a):e},a.defined=function(t){return arguments.length?(n="function"==typeof t?t:Oi(!!t),a):n},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a}function Ri(){var t=Li,e=null,n=Oi(0),r=Ci,i=Oi(!0),o=null,a=Si,s=null;function l(l){var c,u,f,h,p,d=l.length,g=!1,m=new Array(d),y=new Array(d);for(null==o&&(s=a(p=$i())),c=0;c<=d;++c){if(!(c<d&&i(h=l[c],c,l))===g)if(g=!g)u=c,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),f=c-1;f>=u;--f)s.point(m[f],y[f]);s.lineEnd(),s.areaEnd()}g&&(m[c]=+t(h,c,l),y[c]=+n(h,c,l),s.point(e?+e(h,c,l):m[c],r?+r(h,c,l):y[c]))}if(p)return s=null,p+""||null}function c(){return Di().defined(i).curve(a).context(o)}return l.x=function(n){return arguments.length?(t="function"==typeof n?n:Oi(+n),e=null,l):t},l.x0=function(e){return arguments.length?(t="function"==typeof e?e:Oi(+e),l):t},l.x1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:Oi(+t),l):e},l.y=function(t){return arguments.length?(n="function"==typeof t?t:Oi(+t),r=null,l):n},l.y0=function(t){return arguments.length?(n="function"==typeof t?t:Oi(+t),l):n},l.y1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:Oi(+t),l):r},l.lineX0=l.lineY0=function(){return c().x(t).y(n)},l.lineY1=function(){return c().x(t).y(r)},l.lineX1=function(){return c().x(e).y(n)},l.defined=function(t){return arguments.length?(i="function"==typeof t?t:Oi(!!t),l):i},l.curve=function(t){return arguments.length?(a=t,null!=o&&(s=a(o)),l):a},l.context=function(t){return arguments.length?(null==t?o=s=null:s=a(o=t),l):o},l}function Ii(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Pi(t){this._context=t}function zi(t){return new Pi(t)}function ji(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Fi(t,e){this._context=t,this._k=(1-e)/6}Ti.prototype=$i.prototype={constructor:Ti,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,l=r-e,c=o-t,u=a-e,f=c*c+u*u;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>1e-6)if(Math.abs(u*s-l*c)>1e-6&&i){var h=n-o,p=r-a,d=s*s+l*l,g=h*h+p*p,m=Math.sqrt(d),y=Math.sqrt(f),v=i*Math.tan((_i-Math.acos((d+f-g)/(2*m*y)))/2),b=v/y,x=v/m;Math.abs(b-1)>1e-6&&(this._+="L"+(t+b*c)+","+(e+b*u)),this._+="A"+i+","+i+",0,0,"+ +(u*h>c*p)+","+(this._x1=t+x*s)+","+(this._y1=e+x*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),l=t+a,c=e+s,u=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+l+","+c),n&&(f<0&&(f=f%Ai+Ai),f>Ei?this._+="A"+n+","+n+",0,1,"+u+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):f>1e-6&&(this._+="A"+n+","+n+",0,"+ +(f>=_i)+","+u+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},Ni.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},Pi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ii(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ii(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Fi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ji(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:ji(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Ui=function t(e){function n(t){return new Fi(t,e)}return n.tension=function(e){return t(+e)},n}(0);function Bi(t,e){this._context=t,this._alpha=e}Bi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:!function(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>1e-12){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>1e-12){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-e*t._l12_2a)/u,a=(a*c+t._y1*t._l23_2a-n*t._l12_2a)/u}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Hi=function t(e){function n(t){return e?new Bi(t,e):new Fi(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Yi(t){return t<0?-1:1}function Wi(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Yi(o)+Yi(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function qi(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Gi(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Vi(t){this._context=t}function Xi(t){return new Vi(t)}function Ki(t){this._context=t}function Zi(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function Ji(t){return new Ki(t)}function Qi(t,e){this._context=t,this._t=e}function to(t){return new Qi(t,.5)}function eo(t){return new Qi(t,0)}function no(t){return new Qi(t,1)}Vi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Gi(this,this._t0,qi(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Gi(this,qi(this,n=Wi(this,t,e)),n);break;default:Gi(this,this._t0,n=Wi(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},Object.create(Vi.prototype).point=function(t,e){Vi.prototype.point.call(this,e,t)},Ki.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=Zi(t),i=Zi(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},Qi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var ro="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},io=Array.prototype,oo=Object.prototype,ao="undefined"!=typeof Symbol?Symbol.prototype:null,so=io.slice,lo=oo.toString,co=oo.hasOwnProperty,uo="undefined"!=typeof ArrayBuffer,fo="undefined"!=typeof DataView,ho=Array.isArray,po=Object.keys,go=uo&&ArrayBuffer.isView,mo=isFinite,yo=!{toString:null}.propertyIsEnumerable("toString"),vo=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],bo=Math.pow(2,53)-1;function xo(t){return t instanceof xo?t:this instanceof xo?void(this._wrapped=t):new xo(t)}function wo(t){return function(e){return null==e?void 0:e[t]}}xo.VERSION="1.13.6",xo.prototype.value=function(){return this._wrapped},xo.prototype.valueOf=xo.prototype.toJSON=xo.prototype.value,xo.prototype.toString=function(){return String(this._wrapped)};var ko=wo("byteLength");function Mo(t){var e="[object "+t+"]";return function(t){return lo.call(t)===e}}var _o=Mo("Function"),Ao=ro.document&&ro.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof Ao&&(_o=function(t){return"function"==typeof t||!1});var Eo=_o,To=Mo("ArrayBuffer"),$o=Mo("Object"),Oo=fo&&$o(new DataView(new ArrayBuffer(8)));"undefined"!=typeof Map&&$o(new Map);var No=Mo("DataView"),So=Oo?function(t){return null!=t&&Eo(t.getInt8)&&To(t.buffer)}:No;function Lo(t){return function(){return t}}function Co(t){return function(e){var n=t(e);return"number"==typeof n&&n>=0&&n<=bo}}var Do=Co(ko),Ro=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,Io=uo?function(t){return go?go(t)&&!So(t):Do(t)&&Ro.test(lo.call(t))}:Lo(!1);function Po(t){var e=typeof t;return"function"===e||"object"===e&&!!t}function zo(t,e){return null!=t&&co.call(t,e)}function jo(t){if(!Po(t))return[];if(po)return po(t);var e=[];for(var n in t)zo(t,n)&&e.push(n);return yo&&function(t,e){e=function(t){for(var e={},n=t.length,r=0;r<n;++r)e[t[r]]=!0;return{contains:function(t){return!0===e[t]},push:function(n){return e[n]=!0,t.push(n)}}}(e);var n=vo.length,r=t.constructor,i=Eo(r)&&r.prototype||oo,o="constructor";for(zo(t,o)&&!e.contains(o)&&e.push(o);n--;)(o=vo[n])in t&&t[o]!==i[o]&&!e.contains(o)&&e.push(o)}(t,e),e}function Fo(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,ko(t))}function Uo(t,e){return function t(e,n,r,i){if(e===n)return 0!==e||1/e==1/n;if(null==e||null==n)return!1;if(e!=e)return n!=n;var o=typeof e;return("function"===o||"object"===o||"object"==typeof n)&&function e(n,r,i,o){n instanceof xo&&(n=n._wrapped),r instanceof xo&&(r=r._wrapped);var a=lo.call(n);if(a!==lo.call(r))return!1;if(Oo&&"[object Object]"==a&&So(n)){if(!So(r))return!1;a="[object DataView]"}switch(a){case"[object RegExp]":case"[object String]":return""+n==""+r;case"[object Number]":return+n!=+n?+r!=+r:0==+n?1/+n==1/r:+n==+r;case"[object Date]":case"[object Boolean]":return+n==+r;case"[object Symbol]":return ao.valueOf.call(n)===ao.valueOf.call(r);case"[object ArrayBuffer]":case"[object DataView]":return e(Fo(n),Fo(r),i,o)}var s="[object Array]"===a;if(!s&&Io(n)){if(ko(n)!==ko(r))return!1;if(n.buffer===r.buffer&&n.byteOffset===r.byteOffset)return!0;s=!0}if(!s){if("object"!=typeof n||"object"!=typeof r)return!1;var l=n.constructor,c=r.constructor;if(l!==c&&!(Eo(l)&&l instanceof l&&Eo(c)&&c instanceof c)&&"constructor"in n&&"constructor"in r)return!1}o=o||[];for(var u=(i=i||[]).length;u--;)if(i[u]===n)return o[u]===r;if(i.push(n),o.push(r),s){if((u=n.length)!==r.length)return!1;for(;u--;)if(!t(n[u],r[u],i,o))return!1}else{var f,h=jo(n);if(u=h.length,jo(r).length!==u)return!1;for(;u--;)if(!zo(r,f=h[u])||!t(n[f],r[f],i,o))return!1}return i.pop(),o.pop(),!0}(e,n,r,i)}(t,e)}function Bo(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return function(){return t.apply(e,arguments)}}var Ho=wo("length"),Yo=Co(Ho),Wo=Mo("Date"),qo=Mo("Symbol");function Go(t){return!qo(t)&&mo(t)&&!isNaN(parseFloat(t))}var Vo=Mo("Number"),Xo=ho||Mo("Array"),Ko=Mo("Arguments");!function(){Ko(arguments)||(Ko=function(t){return zo(t,"callee")})}();var Zo=Ko;function Jo(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[t.length-1]:function(t,e,n){return so.call(t,null==e?1:e)}(t,Math.max(0,t.length-e))}var Qo=Date.now||function(){return(new Date).getTime()};var ta=function(t){var e=function(e){return t[e]},n="(?:"+jo(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,e):t}}(function(t){for(var e={},n=jo(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e}({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}));function ea(t){return"function"==typeof t&&"number"!=typeof t.nodeType}var na="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function ra(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ia={exports:{}};
/**
   * chroma.js - JavaScript library for color conversions
   *
   * Copyright (c) 2011-2019, Gregor Aisch
   * All rights reserved.
   *
   * Redistribution and use in source and binary forms, with or without
   * modification, are permitted provided that the following conditions are met:
   *
   * 1. Redistributions of source code must retain the above copyright notice, this
   * list of conditions and the following disclaimer.
   *
   * 2. Redistributions in binary form must reproduce the above copyright notice,
   * this list of conditions and the following disclaimer in the documentation
   * and/or other materials provided with the distribution.
   *
   * 3. The name Gregor Aisch may not be used to endorse or promote products
   * derived from this software without specific prior written permission.
   *
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
   * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
   * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
   * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
   * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
   * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
   * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
   * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
   * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
   * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
   *
   * -------------------------------------------------------
   *
   * chroma.js includes colors from colorbrewer2.org, which are released under
   * the following license:
   *
   * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
   * and The Pennsylvania State University.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
   * either express or implied. See the License for the specific
   * language governing permissions and limitations under the License.
   *
   * ------------------------------------------------------
   *
   * Named colors are taken from X11 Color Names.
   * http://www.w3.org/TR/css3-color/#svg-color
   *
   * @preserve
   */ia.exports=function(){for(var t=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=1),t<e?e:t>n?n:t},e=t,n={},r=0,i=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];r<i.length;r+=1){var o=i[r];n["[object "+o+"]"]=o.toLowerCase()}var a=function(t){return n[Object.prototype.toString.call(t)]||"object"},s=a,l=a,c=Math.PI,u={clip_rgb:function(t){t._clipped=!1,t._unclipped=t.slice(0);for(var n=0;n<=3;n++)n<3?((t[n]<0||t[n]>255)&&(t._clipped=!0),t[n]=e(t[n],0,255)):3===n&&(t[n]=e(t[n],0,1));return t},limit:t,type:a,unpack:function(t,e){return void 0===e&&(e=null),t.length>=3?Array.prototype.slice.call(t):"object"==s(t[0])&&e?e.split("").filter((function(e){return void 0!==t[0][e]})).map((function(e){return t[0][e]})):t[0]},last:function(t){if(t.length<2)return null;var e=t.length-1;return"string"==l(t[e])?t[e].toLowerCase():null},PI:c,TWOPI:2*c,PITHIRD:c/3,DEG2RAD:c/180,RAD2DEG:180/c},f={format:{},autodetect:[]},h=u.last,p=u.clip_rgb,d=u.type,g=f,m=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=this;if("object"===d(t[0])&&t[0].constructor&&t[0].constructor===this.constructor)return t[0];var r=h(t),i=!1;if(!r){i=!0,g.sorted||(g.autodetect=g.autodetect.sort((function(t,e){return e.p-t.p})),g.sorted=!0);for(var o=0,a=g.autodetect;o<a.length;o+=1){var s=a[o];if(r=s.test.apply(s,t))break}}if(!g.format[r])throw new Error("unknown format: "+t);var l=g.format[r].apply(null,i?t:t.slice(0,-1));n._rgb=p(l),3===n._rgb.length&&n._rgb.push(1)};m.prototype.toString=function(){return"function"==d(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var y=m,v=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(v.Color,[null].concat(t)))};v.Color=y,v.version="2.4.2";var b=v,x=u.unpack,w=Math.max,k=u.unpack,M=b,_=y,A=f,E=u.unpack,T=u.type;_.prototype.cmyk=function(){return function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=x(t,"rgb"),r=n[0],i=n[1],o=n[2],a=1-w(r/=255,w(i/=255,o/=255)),s=a<1?1/(1-a):0,l=(1-r-a)*s,c=(1-i-a)*s,u=(1-o-a)*s;return[l,c,u,a]}(this._rgb)},M.cmyk=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(_,[null].concat(t,["cmyk"])))},A.format.cmyk=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=k(t,"cmyk"))[0],r=t[1],i=t[2],o=t[3],a=t.length>4?t[4]:1;return 1===o?[0,0,0,a]:[n>=1?0:255*(1-n)*(1-o),r>=1?0:255*(1-r)*(1-o),i>=1?0:255*(1-i)*(1-o),a]},A.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=E(t,"cmyk"),"array"===T(t)&&4===t.length)return"cmyk"}});var $=u.unpack,O=u.last,N=function(t){return Math.round(100*t)/100},S=u.unpack,L=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=S(t,"rgba"))[0],r=t[1],i=t[2];n/=255,r/=255,i/=255;var o,a,s=Math.min(n,r,i),l=Math.max(n,r,i),c=(l+s)/2;return l===s?(o=0,a=Number.NaN):o=c<.5?(l-s)/(l+s):(l-s)/(2-l-s),n==l?a=(r-i)/(l-s):r==l?a=2+(i-n)/(l-s):i==l&&(a=4+(n-r)/(l-s)),(a*=60)<0&&(a+=360),t.length>3&&void 0!==t[3]?[a,o,c,t[3]]:[a,o,c]},C=u.unpack,D=u.last,R=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=$(t,"hsla"),r=O(t)||"lsa";return n[0]=N(n[0]||0),n[1]=N(100*n[1])+"%",n[2]=N(100*n[2])+"%","hsla"===r||n.length>3&&n[3]<1?(n[3]=n.length>3?n[3]:1,r="hsla"):n.length=3,r+"("+n.join(",")+")"},I=L,P=Math.round,z=u.unpack,j=Math.round,F=function(){for(var t,e=[],n=arguments.length;n--;)e[n]=arguments[n];var r,i,o,a=(e=z(e,"hsl"))[0],s=e[1],l=e[2];if(0===s)r=i=o=255*l;else{var c=[0,0,0],u=[0,0,0],f=l<.5?l*(1+s):l+s-l*s,h=2*l-f,p=a/360;c[0]=p+1/3,c[1]=p,c[2]=p-1/3;for(var d=0;d<3;d++)c[d]<0&&(c[d]+=1),c[d]>1&&(c[d]-=1),6*c[d]<1?u[d]=h+6*(f-h)*c[d]:2*c[d]<1?u[d]=f:3*c[d]<2?u[d]=h+(f-h)*(2/3-c[d])*6:u[d]=h;r=(t=[j(255*u[0]),j(255*u[1]),j(255*u[2])])[0],i=t[1],o=t[2]}return e.length>3?[r,i,o,e[3]]:[r,i,o,1]},U=F,B=f,H=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,Y=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,W=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,q=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,G=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,V=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,X=Math.round,K=function(t){var e;if(t=t.toLowerCase().trim(),B.format.named)try{return B.format.named(t)}catch(t){}if(e=t.match(H)){for(var n=e.slice(1,4),r=0;r<3;r++)n[r]=+n[r];return n[3]=1,n}if(e=t.match(Y)){for(var i=e.slice(1,5),o=0;o<4;o++)i[o]=+i[o];return i}if(e=t.match(W)){for(var a=e.slice(1,4),s=0;s<3;s++)a[s]=X(2.55*a[s]);return a[3]=1,a}if(e=t.match(q)){for(var l=e.slice(1,5),c=0;c<3;c++)l[c]=X(2.55*l[c]);return l[3]=+l[3],l}if(e=t.match(G)){var u=e.slice(1,4);u[1]*=.01,u[2]*=.01;var f=U(u);return f[3]=1,f}if(e=t.match(V)){var h=e.slice(1,4);h[1]*=.01,h[2]*=.01;var p=U(h);return p[3]=+e[4],p}};K.test=function(t){return H.test(t)||Y.test(t)||W.test(t)||q.test(t)||G.test(t)||V.test(t)};var Z=b,J=y,Q=f,tt=u.type,et=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=C(t,"rgba"),r=D(t)||"rgb";return"hsl"==r.substr(0,3)?R(I(n),r):(n[0]=P(n[0]),n[1]=P(n[1]),n[2]=P(n[2]),("rgba"===r||n.length>3&&n[3]<1)&&(n[3]=n.length>3?n[3]:1,r="rgba"),r+"("+n.slice(0,"rgb"===r?3:4).join(",")+")")},nt=K;J.prototype.css=function(t){return et(this._rgb,t)},Z.css=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(J,[null].concat(t,["css"])))},Q.format.css=nt,Q.autodetect.push({p:5,test:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&"string"===tt(t)&&nt.test(t))return"css"}});var rt=y,it=b,ot=u.unpack;f.format.gl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=ot(t,"rgba");return n[0]*=255,n[1]*=255,n[2]*=255,n},it.gl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(rt,[null].concat(t,["gl"])))},rt.prototype.gl=function(){var t=this._rgb;return[t[0]/255,t[1]/255,t[2]/255,t[3]]};var at=u.unpack,st=u.unpack,lt=Math.floor,ct=u.unpack,ut=u.type,ft=b,ht=y,pt=f,dt=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r=at(t,"rgb"),i=r[0],o=r[1],a=r[2],s=Math.min(i,o,a),l=Math.max(i,o,a),c=l-s,u=100*c/255,f=s/(255-c)*100;return 0===c?n=Number.NaN:(i===l&&(n=(o-a)/c),o===l&&(n=2+(a-i)/c),a===l&&(n=4+(i-o)/c),(n*=60)<0&&(n+=360)),[n,u,f]};ht.prototype.hcg=function(){return dt(this._rgb)},ft.hcg=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(ht,[null].concat(t,["hcg"])))},pt.format.hcg=function(){for(var t,e,n,r,i,o,a=[],s=arguments.length;s--;)a[s]=arguments[s];var l,c,u,f=(a=st(a,"hcg"))[0],h=a[1],p=a[2];p*=255;var d=255*h;if(0===h)l=c=u=p;else{360===f&&(f=0),f>360&&(f-=360),f<0&&(f+=360);var g=lt(f/=60),m=f-g,y=p*(1-h),v=y+d*(1-m),b=y+d*m,x=y+d;switch(g){case 0:l=(t=[x,b,y])[0],c=t[1],u=t[2];break;case 1:l=(e=[v,x,y])[0],c=e[1],u=e[2];break;case 2:l=(n=[y,x,b])[0],c=n[1],u=n[2];break;case 3:l=(r=[y,v,x])[0],c=r[1],u=r[2];break;case 4:l=(i=[b,y,x])[0],c=i[1],u=i[2];break;case 5:l=(o=[x,y,v])[0],c=o[1],u=o[2]}}return[l,c,u,a.length>3?a[3]:1]},pt.autodetect.push({p:1,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=ct(t,"hcg"),"array"===ut(t)&&3===t.length)return"hcg"}});var gt=u.unpack,mt=u.last,yt=Math.round,vt=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=gt(t,"rgba"),r=n[0],i=n[1],o=n[2],a=n[3],s=mt(t)||"auto";void 0===a&&(a=1),"auto"===s&&(s=a<1?"rgba":"rgb");var l=(r=yt(r))<<16|(i=yt(i))<<8|(o=yt(o)),c="000000"+l.toString(16);c=c.substr(c.length-6);var u="0"+yt(255*a).toString(16);switch(u=u.substr(u.length-2),s.toLowerCase()){case"rgba":return"#"+c+u;case"argb":return"#"+u+c;default:return"#"+c}},bt=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,xt=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,wt=function(t){if(t.match(bt)){4!==t.length&&7!==t.length||(t=t.substr(1)),3===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]);var e=parseInt(t,16);return[e>>16,e>>8&255,255&e,1]}if(t.match(xt)){5!==t.length&&9!==t.length||(t=t.substr(1)),4===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);var n=parseInt(t,16);return[n>>24&255,n>>16&255,n>>8&255,Math.round((255&n)/255*100)/100]}throw new Error("unknown hex color: "+t)},kt=b,Mt=y,_t=u.type,At=f,Et=vt;Mt.prototype.hex=function(t){return Et(this._rgb,t)},kt.hex=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Mt,[null].concat(t,["hex"])))},At.format.hex=wt,At.autodetect.push({p:4,test:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&"string"===_t(t)&&[3,4,5,6,7,8,9].indexOf(t.length)>=0)return"hex"}});var Tt=u.unpack,$t=u.TWOPI,Ot=Math.min,Nt=Math.sqrt,St=Math.acos,Lt=u.unpack,Ct=u.limit,Dt=u.TWOPI,Rt=u.PITHIRD,It=Math.cos,Pt=u.unpack,zt=u.type,jt=b,Ft=y,Ut=f,Bt=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r=Tt(t,"rgb"),i=r[0],o=r[1],a=r[2],s=Ot(i/=255,o/=255,a/=255),l=(i+o+a)/3,c=l>0?1-s/l:0;return 0===c?n=NaN:(n=(i-o+(i-a))/2,n/=Nt((i-o)*(i-o)+(i-a)*(o-a)),n=St(n),a>o&&(n=$t-n),n/=$t),[360*n,c,l]};Ft.prototype.hsi=function(){return Bt(this._rgb)},jt.hsi=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Ft,[null].concat(t,["hsi"])))},Ut.format.hsi=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r,i,o=(t=Lt(t,"hsi"))[0],a=t[1],s=t[2];return isNaN(o)&&(o=0),isNaN(a)&&(a=0),o>360&&(o-=360),o<0&&(o+=360),(o/=360)<1/3?r=1-((i=(1-a)/3)+(n=(1+a*It(Dt*o)/It(Rt-Dt*o))/3)):o<2/3?i=1-((n=(1-a)/3)+(r=(1+a*It(Dt*(o-=1/3))/It(Rt-Dt*o))/3)):n=1-((r=(1-a)/3)+(i=(1+a*It(Dt*(o-=2/3))/It(Rt-Dt*o))/3)),[255*(n=Ct(s*n*3)),255*(r=Ct(s*r*3)),255*(i=Ct(s*i*3)),t.length>3?t[3]:1]},Ut.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Pt(t,"hsi"),"array"===zt(t)&&3===t.length)return"hsi"}});var Ht=u.unpack,Yt=u.type,Wt=b,qt=y,Gt=f,Vt=L;qt.prototype.hsl=function(){return Vt(this._rgb)},Wt.hsl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(qt,[null].concat(t,["hsl"])))},Gt.format.hsl=F,Gt.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Ht(t,"hsl"),"array"===Yt(t)&&3===t.length)return"hsl"}});var Xt=u.unpack,Kt=Math.min,Zt=Math.max,Jt=u.unpack,Qt=Math.floor,te=u.unpack,ee=u.type,ne=b,re=y,ie=f,oe=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r,i,o=(t=Xt(t,"rgb"))[0],a=t[1],s=t[2],l=Kt(o,a,s),c=Zt(o,a,s),u=c-l;return i=c/255,0===c?(n=Number.NaN,r=0):(r=u/c,o===c&&(n=(a-s)/u),a===c&&(n=2+(s-o)/u),s===c&&(n=4+(o-a)/u),(n*=60)<0&&(n+=360)),[n,r,i]};re.prototype.hsv=function(){return oe(this._rgb)},ne.hsv=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(re,[null].concat(t,["hsv"])))},ie.format.hsv=function(){for(var t,e,n,r,i,o,a=[],s=arguments.length;s--;)a[s]=arguments[s];var l,c,u,f=(a=Jt(a,"hsv"))[0],h=a[1],p=a[2];if(p*=255,0===h)l=c=u=p;else{360===f&&(f=0),f>360&&(f-=360),f<0&&(f+=360);var d=Qt(f/=60),g=f-d,m=p*(1-h),y=p*(1-h*g),v=p*(1-h*(1-g));switch(d){case 0:l=(t=[p,v,m])[0],c=t[1],u=t[2];break;case 1:l=(e=[y,p,m])[0],c=e[1],u=e[2];break;case 2:l=(n=[m,p,v])[0],c=n[1],u=n[2];break;case 3:l=(r=[m,y,p])[0],c=r[1],u=r[2];break;case 4:l=(i=[v,m,p])[0],c=i[1],u=i[2];break;case 5:l=(o=[p,m,y])[0],c=o[1],u=o[2]}}return[l,c,u,a.length>3?a[3]:1]},ie.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=te(t,"hsv"),"array"===ee(t)&&3===t.length)return"hsv"}});var ae={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},se=ae,le=u.unpack,ce=Math.pow,ue=function(t){return(t/=255)<=.04045?t/12.92:ce((t+.055)/1.055,2.4)},fe=function(t){return t>se.t3?ce(t,1/3):t/se.t2+se.t0},he=function(t,e,n){return t=ue(t),e=ue(e),n=ue(n),[fe((.4124564*t+.3575761*e+.1804375*n)/se.Xn),fe((.2126729*t+.7151522*e+.072175*n)/se.Yn),fe((.0193339*t+.119192*e+.9503041*n)/se.Zn)]},pe=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=le(t,"rgb"),r=n[0],i=n[1],o=n[2],a=he(r,i,o),s=a[0],l=a[1],c=a[2],u=116*l-16;return[u<0?0:u,500*(s-l),200*(l-c)]},de=ae,ge=u.unpack,me=Math.pow,ye=function(t){return 255*(t<=.00304?12.92*t:1.055*me(t,1/2.4)-.055)},ve=function(t){return t>de.t1?t*t*t:de.t2*(t-de.t0)},be=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r,i,o=(t=ge(t,"lab"))[0],a=t[1],s=t[2];return r=(o+16)/116,n=isNaN(a)?r:r+a/500,i=isNaN(s)?r:r-s/200,r=de.Yn*ve(r),n=de.Xn*ve(n),i=de.Zn*ve(i),[ye(3.2404542*n-1.5371385*r-.4985314*i),ye(-.969266*n+1.8760108*r+.041556*i),ye(.0556434*n-.2040259*r+1.0572252*i),t.length>3?t[3]:1]},xe=u.unpack,we=u.type,ke=b,Me=y,_e=f,Ae=pe;Me.prototype.lab=function(){return Ae(this._rgb)},ke.lab=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Me,[null].concat(t,["lab"])))},_e.format.lab=be,_e.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=xe(t,"lab"),"array"===we(t)&&3===t.length)return"lab"}});var Ee=u.unpack,Te=u.RAD2DEG,$e=Math.sqrt,Oe=Math.atan2,Ne=Math.round,Se=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Ee(t,"lab"),r=n[0],i=n[1],o=n[2],a=$e(i*i+o*o),s=(Oe(o,i)*Te+360)%360;return 0===Ne(1e4*a)&&(s=Number.NaN),[r,a,s]},Le=u.unpack,Ce=pe,De=Se,Re=u.unpack,Ie=u.DEG2RAD,Pe=Math.sin,ze=Math.cos,je=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Re(t,"lch"),r=n[0],i=n[1],o=n[2];return isNaN(o)&&(o=0),[r,ze(o*=Ie)*i,Pe(o)*i]},Fe=u.unpack,Ue=je,Be=be,He=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=Fe(t,"lch"))[0],r=t[1],i=t[2],o=Ue(n,r,i),a=o[0],s=o[1],l=o[2],c=Be(a,s,l),u=c[0],f=c[1],h=c[2];return[u,f,h,t.length>3?t[3]:1]},Ye=u.unpack,We=He,qe=u.unpack,Ge=u.type,Ve=b,Xe=y,Ke=f,Ze=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Le(t,"rgb"),r=n[0],i=n[1],o=n[2],a=Ce(r,i,o),s=a[0],l=a[1],c=a[2];return De(s,l,c)};Xe.prototype.lch=function(){return Ze(this._rgb)},Xe.prototype.hcl=function(){return Ze(this._rgb).reverse()},Ve.lch=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Xe,[null].concat(t,["lch"])))},Ve.hcl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Xe,[null].concat(t,["hcl"])))},Ke.format.lch=He,Ke.format.hcl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Ye(t,"hcl").reverse();return We.apply(void 0,n)},["lch","hcl"].forEach((function(t){return Ke.autodetect.push({p:2,test:function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];if(e=qe(e,t),"array"===Ge(e)&&3===e.length)return t}})}));var Je={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},Qe=f,tn=u.type,en=Je,nn=wt,rn=vt;y.prototype.name=function(){for(var t=rn(this._rgb,"rgb"),e=0,n=Object.keys(en);e<n.length;e+=1){var r=n[e];if(en[r]===t)return r.toLowerCase()}return t},Qe.format.named=function(t){if(t=t.toLowerCase(),en[t])return nn(en[t]);throw new Error("unknown color name: "+t)},Qe.autodetect.push({p:5,test:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&"string"===tn(t)&&en[t.toLowerCase()])return"named"}});var on=u.unpack,an=u.type,sn=b,ln=y,cn=f,un=u.type;ln.prototype.num=function(){return function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=on(t,"rgb"),r=n[0],i=n[1],o=n[2];return(r<<16)+(i<<8)+o}(this._rgb)},sn.num=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(ln,[null].concat(t,["num"])))},cn.format.num=function(t){if("number"==an(t)&&t>=0&&t<=16777215)return[t>>16,t>>8&255,255&t,1];throw new Error("unknown num color: "+t)},cn.autodetect.push({p:5,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(1===t.length&&"number"===un(t[0])&&t[0]>=0&&t[0]<=16777215)return"num"}});var fn=b,hn=y,pn=f,dn=u.unpack,gn=u.type,mn=Math.round;hn.prototype.rgb=function(t){return void 0===t&&(t=!0),!1===t?this._rgb.slice(0,3):this._rgb.slice(0,3).map(mn)},hn.prototype.rgba=function(t){return void 0===t&&(t=!0),this._rgb.slice(0,4).map((function(e,n){return n<3?!1===t?e:mn(e):e}))},fn.rgb=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(hn,[null].concat(t,["rgb"])))},pn.format.rgb=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=dn(t,"rgba");return void 0===n[3]&&(n[3]=1),n},pn.autodetect.push({p:3,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=dn(t,"rgba"),"array"===gn(t)&&(3===t.length||4===t.length&&"number"==gn(t[3])&&t[3]>=0&&t[3]<=1))return"rgb"}});var yn=Math.log,vn=function(t){var e,n,r,i=t/100;return i<66?(e=255,n=i<6?0:-155.25485562709179-.44596950469579133*(n=i-2)+104.49216199393888*yn(n),r=i<20?0:.8274096064007395*(r=i-10)-254.76935184120902+115.67994401066147*yn(r)):(e=351.97690566805693+.114206453784165*(e=i-55)-40.25366309332127*yn(e),n=325.4494125711974+.07943456536662342*(n=i-50)-28.0852963507957*yn(n),r=255),[e,n,r,1]},bn=vn,xn=u.unpack,wn=Math.round,kn=b,Mn=y,_n=f;Mn.prototype.temp=Mn.prototype.kelvin=Mn.prototype.temperature=function(){return function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];for(var n,r=xn(t,"rgb"),i=r[0],o=r[2],a=1e3,s=4e4,l=.4;s-a>l;){var c=bn(n=.5*(s+a));c[2]/c[0]>=o/i?s=n:a=n}return wn(n)}(this._rgb)},kn.temp=kn.kelvin=kn.temperature=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Mn,[null].concat(t,["temp"])))},_n.format.temp=_n.format.kelvin=_n.format.temperature=vn;var An=u.unpack,En=Math.cbrt,Tn=Math.pow,$n=Math.sign,On=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=An(t,"rgb"),r=n[0],i=n[1],o=n[2],a=[Nn(r/255),Nn(i/255),Nn(o/255)],s=a[0],l=a[1],c=a[2],u=En(.4122214708*s+.5363325363*l+.0514459929*c),f=En(.2119034982*s+.6806995451*l+.1073969566*c),h=En(.0883024619*s+.2817188376*l+.6299787005*c);return[.2104542553*u+.793617785*f-.0040720468*h,1.9779984951*u-2.428592205*f+.4505937099*h,.0259040371*u+.7827717662*f-.808675766*h]};function Nn(t){var e=Math.abs(t);return e<.04045?t/12.92:($n(t)||1)*Tn((e+.055)/1.055,2.4)}var Sn=u.unpack,Ln=Math.pow,Cn=Math.sign,Dn=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=Sn(t,"lab"))[0],r=t[1],i=t[2],o=Ln(n+.3963377774*r+.2158037573*i,3),a=Ln(n-.1055613458*r-.0638541728*i,3),s=Ln(n-.0894841775*r-1.291485548*i,3);return[255*Rn(4.0767416621*o-3.3077115913*a+.2309699292*s),255*Rn(-1.2684380046*o+2.6097574011*a-.3413193965*s),255*Rn(-.0041960863*o-.7034186147*a+1.707614701*s),t.length>3?t[3]:1]};function Rn(t){var e=Math.abs(t);return e>.0031308?(Cn(t)||1)*(1.055*Ln(e,1/2.4)-.055):12.92*t}var In=u.unpack,Pn=u.type,zn=b,jn=y,Fn=f,Un=On;jn.prototype.oklab=function(){return Un(this._rgb)},zn.oklab=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(jn,[null].concat(t,["oklab"])))},Fn.format.oklab=Dn,Fn.autodetect.push({p:3,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=In(t,"oklab"),"array"===Pn(t)&&3===t.length)return"oklab"}});var Bn=u.unpack,Hn=On,Yn=Se,Wn=u.unpack,qn=je,Gn=Dn,Vn=u.unpack,Xn=u.type,Kn=b,Zn=y,Jn=f;Zn.prototype.oklch=function(){return function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Bn(t,"rgb"),r=n[0],i=n[1],o=n[2],a=Hn(r,i,o),s=a[0],l=a[1],c=a[2];return Yn(s,l,c)}(this._rgb)},Kn.oklch=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Zn,[null].concat(t,["oklch"])))},Jn.format.oklch=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=Wn(t,"lch"))[0],r=t[1],i=t[2],o=qn(n,r,i),a=o[0],s=o[1],l=o[2],c=Gn(a,s,l),u=c[0],f=c[1],h=c[2];return[u,f,h,t.length>3?t[3]:1]},Jn.autodetect.push({p:3,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Vn(t,"oklch"),"array"===Xn(t)&&3===t.length)return"oklch"}});var Qn=y,tr=u.type;Qn.prototype.alpha=function(t,e){return void 0===e&&(e=!1),void 0!==t&&"number"===tr(t)?e?(this._rgb[3]=t,this):new Qn([this._rgb[0],this._rgb[1],this._rgb[2],t],"rgb"):this._rgb[3]},y.prototype.clipped=function(){return this._rgb._clipped||!1};var er=y,nr=ae;er.prototype.darken=function(t){void 0===t&&(t=1);var e=this.lab();return e[0]-=nr.Kn*t,new er(e,"lab").alpha(this.alpha(),!0)},er.prototype.brighten=function(t){return void 0===t&&(t=1),this.darken(-t)},er.prototype.darker=er.prototype.darken,er.prototype.brighter=er.prototype.brighten,y.prototype.get=function(t){var e=t.split("."),n=e[0],r=e[1],i=this[n]();if(r){var o=n.indexOf(r)-("ok"===n.substr(0,2)?2:0);if(o>-1)return i[o];throw new Error("unknown channel "+r+" in mode "+n)}return i};var rr=y,ir=u.type,or=Math.pow;rr.prototype.luminance=function(t){if(void 0!==t&&"number"===ir(t)){if(0===t)return new rr([0,0,0,this._rgb[3]],"rgb");if(1===t)return new rr([255,255,255,this._rgb[3]],"rgb");var e=this.luminance(),n=20,r=function(e,i){var o=e.interpolate(i,.5,"rgb"),a=o.luminance();return Math.abs(t-a)<1e-7||!n--?o:a>t?r(e,o):r(o,i)},i=(e>t?r(new rr([0,0,0]),this):r(this,new rr([255,255,255]))).rgb();return new rr(i.concat([this._rgb[3]]))}return ar.apply(void 0,this._rgb.slice(0,3))};var ar=function(t,e,n){return.2126*(t=sr(t))+.7152*(e=sr(e))+.0722*sr(n)},sr=function(t){return(t/=255)<=.03928?t/12.92:or((t+.055)/1.055,2.4)},lr={},cr=y,ur=u.type,fr=lr,hr=function(t,e,n){void 0===n&&(n=.5);for(var r=[],i=arguments.length-3;i-- >0;)r[i]=arguments[i+3];var o=r[0]||"lrgb";if(fr[o]||r.length||(o=Object.keys(fr)[0]),!fr[o])throw new Error("interpolation mode "+o+" is not defined");return"object"!==ur(t)&&(t=new cr(t)),"object"!==ur(e)&&(e=new cr(e)),fr[o](t,e,n).alpha(t.alpha()+n*(e.alpha()-t.alpha()))},pr=y,dr=hr;pr.prototype.mix=pr.prototype.interpolate=function(t,e){void 0===e&&(e=.5);for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return dr.apply(void 0,[this,t,e].concat(n))};var gr=y;gr.prototype.premultiply=function(t){void 0===t&&(t=!1);var e=this._rgb,n=e[3];return t?(this._rgb=[e[0]*n,e[1]*n,e[2]*n,n],this):new gr([e[0]*n,e[1]*n,e[2]*n,n],"rgb")};var mr=y,yr=ae;mr.prototype.saturate=function(t){void 0===t&&(t=1);var e=this.lch();return e[1]+=yr.Kn*t,e[1]<0&&(e[1]=0),new mr(e,"lch").alpha(this.alpha(),!0)},mr.prototype.desaturate=function(t){return void 0===t&&(t=1),this.saturate(-t)};var vr=y,br=u.type;vr.prototype.set=function(t,e,n){void 0===n&&(n=!1);var r=t.split("."),i=r[0],o=r[1],a=this[i]();if(o){var s=i.indexOf(o)-("ok"===i.substr(0,2)?2:0);if(s>-1){if("string"==br(e))switch(e.charAt(0)){case"+":case"-":a[s]+=+e;break;case"*":a[s]*=+e.substr(1);break;case"/":a[s]/=+e.substr(1);break;default:a[s]=+e}else{if("number"!==br(e))throw new Error("unsupported value for Color.set");a[s]=e}var l=new vr(a,i);return n?(this._rgb=l._rgb,this):l}throw new Error("unknown channel "+o+" in mode "+i)}return a};var xr=y;lr.rgb=function(t,e,n){var r=t._rgb,i=e._rgb;return new xr(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"rgb")};var wr=y,kr=Math.sqrt,Mr=Math.pow;lr.lrgb=function(t,e,n){var r=t._rgb,i=r[0],o=r[1],a=r[2],s=e._rgb,l=s[0],c=s[1],u=s[2];return new wr(kr(Mr(i,2)*(1-n)+Mr(l,2)*n),kr(Mr(o,2)*(1-n)+Mr(c,2)*n),kr(Mr(a,2)*(1-n)+Mr(u,2)*n),"rgb")};var _r=y;lr.lab=function(t,e,n){var r=t.lab(),i=e.lab();return new _r(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"lab")};var Ar=y,Er=function(t,e,n,r){var i,o,a,s,l,c,u,f,h,p,d,g,m;return"hsl"===r?(a=t.hsl(),s=e.hsl()):"hsv"===r?(a=t.hsv(),s=e.hsv()):"hcg"===r?(a=t.hcg(),s=e.hcg()):"hsi"===r?(a=t.hsi(),s=e.hsi()):"lch"===r||"hcl"===r?(r="hcl",a=t.hcl(),s=e.hcl()):"oklch"===r&&(a=t.oklch().reverse(),s=e.oklch().reverse()),"h"!==r.substr(0,1)&&"oklch"!==r||(l=(i=a)[0],u=i[1],h=i[2],c=(o=s)[0],f=o[1],p=o[2]),isNaN(l)||isNaN(c)?isNaN(l)?isNaN(c)?g=Number.NaN:(g=c,1!=h&&0!=h||"hsv"==r||(d=f)):(g=l,1!=p&&0!=p||"hsv"==r||(d=u)):g=l+n*(c>l&&c-l>180?c-(l+360):c<l&&l-c>180?c+360-l:c-l),void 0===d&&(d=u+n*(f-u)),m=h+n*(p-h),new Ar("oklch"===r?[m,d,g]:[g,d,m],r)},Tr=Er,$r=function(t,e,n){return Tr(t,e,n,"lch")};lr.lch=$r,lr.hcl=$r;var Or=y;lr.num=function(t,e,n){var r=t.num(),i=e.num();return new Or(r+n*(i-r),"num")};var Nr=Er;lr.hcg=function(t,e,n){return Nr(t,e,n,"hcg")};var Sr=Er;lr.hsi=function(t,e,n){return Sr(t,e,n,"hsi")};var Lr=Er;lr.hsl=function(t,e,n){return Lr(t,e,n,"hsl")};var Cr=Er;lr.hsv=function(t,e,n){return Cr(t,e,n,"hsv")};var Dr=y;lr.oklab=function(t,e,n){var r=t.oklab(),i=e.oklab();return new Dr(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"oklab")};var Rr=Er;lr.oklch=function(t,e,n){return Rr(t,e,n,"oklch")};var Ir=y,Pr=u.clip_rgb,zr=Math.pow,jr=Math.sqrt,Fr=Math.PI,Ur=Math.cos,Br=Math.sin,Hr=Math.atan2,Yr=b,Wr=u.type,qr=Math.pow,Gr=function(t){var e="rgb",n=Yr("#ccc"),r=0,i=[0,1],o=[],a=[0,0],s=!1,l=[],c=!1,u=0,f=1,h=!1,p={},d=!0,g=1,m=function(t){if((t=t||["#fff","#000"])&&"string"===Wr(t)&&Yr.brewer&&Yr.brewer[t.toLowerCase()]&&(t=Yr.brewer[t.toLowerCase()]),"array"===Wr(t)){1===t.length&&(t=[t[0],t[0]]),t=t.slice(0);for(var e=0;e<t.length;e++)t[e]=Yr(t[e]);o.length=0;for(var n=0;n<t.length;n++)o.push(n/(t.length-1))}return x(),l=t},y=function(t){return t},v=function(t){return t},b=function(t,r){var i,c;if(null==r&&(r=!1),isNaN(t)||null===t)return n;c=r?t:s&&s.length>2?function(t){if(null!=s){for(var e=s.length-1,n=0;n<e&&t>=s[n];)n++;return n-1}return 0}(t)/(s.length-2):f!==u?(t-u)/(f-u):1,c=v(c),r||(c=y(c)),1!==g&&(c=qr(c,g)),c=a[0]+c*(1-a[0]-a[1]),c=Math.min(1,Math.max(0,c));var h=Math.floor(1e4*c);if(d&&p[h])i=p[h];else{if("array"===Wr(l))for(var m=0;m<o.length;m++){var b=o[m];if(c<=b){i=l[m];break}if(c>=b&&m===o.length-1){i=l[m];break}if(c>b&&c<o[m+1]){c=(c-b)/(o[m+1]-b),i=Yr.interpolate(l[m],l[m+1],c,e);break}}else"function"===Wr(l)&&(i=l(c));d&&(p[h]=i)}return i},x=function(){return p={}};m(t);var w=function(t){var e=Yr(b(t));return c&&e[c]?e[c]():e};return w.classes=function(t){if(null!=t){if("array"===Wr(t))s=t,i=[t[0],t[t.length-1]];else{var e=Yr.analyze(i);s=0===t?[e.min,e.max]:Yr.limits(e,"e",t)}return w}return s},w.domain=function(t){if(!arguments.length)return i;u=t[0],f=t[t.length-1],o=[];var e=l.length;if(t.length===e&&u!==f)for(var n=0,r=Array.from(t);n<r.length;n+=1){var a=r[n];o.push((a-u)/(f-u))}else{for(var s=0;s<e;s++)o.push(s/(e-1));if(t.length>2){var c=t.map((function(e,n){return n/(t.length-1)})),h=t.map((function(t){return(t-u)/(f-u)}));h.every((function(t,e){return c[e]===t}))||(v=function(t){if(t<=0||t>=1)return t;for(var e=0;t>=h[e+1];)e++;var n=(t-h[e])/(h[e+1]-h[e]);return c[e]+n*(c[e+1]-c[e])})}}return i=[u,f],w},w.mode=function(t){return arguments.length?(e=t,x(),w):e},w.range=function(t,e){return m(t),w},w.out=function(t){return c=t,w},w.spread=function(t){return arguments.length?(r=t,w):r},w.correctLightness=function(t){return null==t&&(t=!0),h=t,x(),y=h?function(t){for(var e=b(0,!0).lab()[0],n=b(1,!0).lab()[0],r=e>n,i=b(t,!0).lab()[0],o=e+(n-e)*t,a=i-o,s=0,l=1,c=20;Math.abs(a)>.01&&c-- >0;)r&&(a*=-1),a<0?(s=t,t+=.5*(l-t)):(l=t,t+=.5*(s-t)),a=(i=b(t,!0).lab()[0])-o;return t}:function(t){return t},w},w.padding=function(t){return null!=t?("number"===Wr(t)&&(t=[t,t]),a=t,w):a},w.colors=function(e,n){arguments.length<2&&(n="hex");var r=[];if(0===arguments.length)r=l.slice(0);else if(1===e)r=[w(.5)];else if(e>1){var o=i[0],a=i[1]-o;r=Vr(0,e,!1).map((function(t){return w(o+t/(e-1)*a)}))}else{t=[];var c=[];if(s&&s.length>2)for(var u=1,f=s.length,h=1<=f;h?u<f:u>f;h?u++:u--)c.push(.5*(s[u-1]+s[u]));else c=i;r=c.map((function(t){return w(t)}))}return Yr[n]&&(r=r.map((function(t){return t[n]()}))),r},w.cache=function(t){return null!=t?(d=t,w):d},w.gamma=function(t){return null!=t?(g=t,w):g},w.nodata=function(t){return null!=t?(n=Yr(t),w):n},w};function Vr(t,e,n){for(var r=[],i=t<e,o=n?i?e+1:e-1:e,a=t;i?a<o:a>o;i?a++:a--)r.push(a);return r}var Xr=y,Kr=Gr,Zr=b,Jr=function(t,e,n){if(!Jr[n])throw new Error("unknown blend mode "+n);return Jr[n](t,e)},Qr=function(t){return function(e,n){var r=Zr(n).rgb(),i=Zr(e).rgb();return Zr.rgb(t(r,i))}},ti=function(t){return function(e,n){var r=[];return r[0]=t(e[0],n[0]),r[1]=t(e[1],n[1]),r[2]=t(e[2],n[2]),r}};Jr.normal=Qr(ti((function(t){return t}))),Jr.multiply=Qr(ti((function(t,e){return t*e/255}))),Jr.screen=Qr(ti((function(t,e){return 255*(1-(1-t/255)*(1-e/255))}))),Jr.overlay=Qr(ti((function(t,e){return e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255))}))),Jr.darken=Qr(ti((function(t,e){return t>e?e:t}))),Jr.lighten=Qr(ti((function(t,e){return t>e?t:e}))),Jr.dodge=Qr(ti((function(t,e){return 255===t||(t=e/255*255/(1-t/255))>255?255:t}))),Jr.burn=Qr(ti((function(t,e){return 255*(1-(1-e/255)/(t/255))})));for(var ei=Jr,ni=u.type,ri=u.clip_rgb,ii=u.TWOPI,oi=Math.pow,ai=Math.sin,si=Math.cos,li=b,ci=y,ui=Math.floor,fi=Math.random,hi=a,pi=Math.log,di=Math.pow,gi=Math.floor,mi=Math.abs,yi=function(t,e){void 0===e&&(e=null);var n={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===hi(t)&&(t=Object.values(t)),t.forEach((function(t){e&&"object"===hi(t)&&(t=t[e]),null==t||isNaN(t)||(n.values.push(t),n.sum+=t,t<n.min&&(n.min=t),t>n.max&&(n.max=t),n.count+=1)})),n.domain=[n.min,n.max],n.limits=function(t,e){return vi(n,t,e)},n},vi=function(t,e,n){void 0===e&&(e="equal"),void 0===n&&(n=7),"array"==hi(t)&&(t=yi(t));var r=t.min,i=t.max,o=t.values.sort((function(t,e){return t-e}));if(1===n)return[r,i];var a=[];if("c"===e.substr(0,1)&&(a.push(r),a.push(i)),"e"===e.substr(0,1)){a.push(r);for(var s=1;s<n;s++)a.push(r+s/n*(i-r));a.push(i)}else if("l"===e.substr(0,1)){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");var l=Math.LOG10E*pi(r),c=Math.LOG10E*pi(i);a.push(r);for(var u=1;u<n;u++)a.push(di(10,l+u/n*(c-l)));a.push(i)}else if("q"===e.substr(0,1)){a.push(r);for(var f=1;f<n;f++){var h=(o.length-1)*f/n,p=gi(h);if(p===h)a.push(o[p]);else{var d=h-p;a.push(o[p]*(1-d)+o[p+1]*d)}}a.push(i)}else if("k"===e.substr(0,1)){var g,m=o.length,y=new Array(m),v=new Array(n),b=!0,x=0,w=null;(w=[]).push(r);for(var k=1;k<n;k++)w.push(r+k/n*(i-r));for(w.push(i);b;){for(var M=0;M<n;M++)v[M]=0;for(var _=0;_<m;_++)for(var A=o[_],E=Number.MAX_VALUE,T=void 0,$=0;$<n;$++){var O=mi(w[$]-A);O<E&&(E=O,T=$),v[T]++,y[_]=T}for(var N=new Array(n),S=0;S<n;S++)N[S]=null;for(var L=0;L<m;L++)null===N[g=y[L]]?N[g]=o[L]:N[g]+=o[L];for(var C=0;C<n;C++)N[C]*=1/v[C];b=!1;for(var D=0;D<n;D++)if(N[D]!==w[D]){b=!0;break}w=N,++x>200&&(b=!1)}for(var R={},I=0;I<n;I++)R[I]=[];for(var P=0;P<m;P++)R[g=y[P]].push(o[P]);for(var z=[],j=0;j<n;j++)z.push(R[j][0]),z.push(R[j][R[j].length-1]);z=z.sort((function(t,e){return t-e})),a.push(z[0]);for(var F=1;F<z.length;F+=2){var U=z[F];isNaN(U)||-1!==a.indexOf(U)||a.push(U)}}return a},bi={analyze:yi,limits:vi},xi=y,wi=y,ki=Math.sqrt,Mi=Math.pow,_i=Math.min,Ai=Math.max,Ei=Math.atan2,Ti=Math.abs,$i=Math.cos,Oi=Math.sin,Ni=Math.exp,Si=Math.PI,Li=y,Ci=y,Di=b,Ri=Gr,Ii={cool:function(){return Ri([Di.hsl(180,1,.9),Di.hsl(250,.7,.4)])},hot:function(){return Ri(["#000","#f00","#ff0","#fff"]).mode("rgb")}},Pi={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},zi=0,ji=Object.keys(Pi);zi<ji.length;zi+=1){var Fi=ji[zi];Pi[Fi.toLowerCase()]=Pi[Fi]}var Ui=Pi,Bi=b;return Bi.average=function(t,e,n){void 0===e&&(e="lrgb"),void 0===n&&(n=null);var r=t.length;n||(n=Array.from(new Array(r)).map((function(){return 1})));var i=r/n.reduce((function(t,e){return t+e}));if(n.forEach((function(t,e){n[e]*=i})),t=t.map((function(t){return new Ir(t)})),"lrgb"===e)return function(t,e){for(var n=t.length,r=[0,0,0,0],i=0;i<t.length;i++){var o=t[i],a=e[i]/n,s=o._rgb;r[0]+=zr(s[0],2)*a,r[1]+=zr(s[1],2)*a,r[2]+=zr(s[2],2)*a,r[3]+=s[3]*a}return r[0]=jr(r[0]),r[1]=jr(r[1]),r[2]=jr(r[2]),r[3]>.9999999&&(r[3]=1),new Ir(Pr(r))}(t,n);for(var o=t.shift(),a=o.get(e),s=[],l=0,c=0,u=0;u<a.length;u++)if(a[u]=(a[u]||0)*n[0],s.push(isNaN(a[u])?0:n[0]),"h"===e.charAt(u)&&!isNaN(a[u])){var f=a[u]/180*Fr;l+=Ur(f)*n[0],c+=Br(f)*n[0]}var h=o.alpha()*n[0];t.forEach((function(t,r){var i=t.get(e);h+=t.alpha()*n[r+1];for(var o=0;o<a.length;o++)if(!isNaN(i[o]))if(s[o]+=n[r+1],"h"===e.charAt(o)){var u=i[o]/180*Fr;l+=Ur(u)*n[r+1],c+=Br(u)*n[r+1]}else a[o]+=i[o]*n[r+1]}));for(var p=0;p<a.length;p++)if("h"===e.charAt(p)){for(var d=Hr(c/s[p],l/s[p])/Fr*180;d<0;)d+=360;for(;d>=360;)d-=360;a[p]=d}else a[p]=a[p]/s[p];return h/=r,new Ir(a,e).alpha(h>.99999?1:h,!0)},Bi.bezier=function(t){var e=function(t){var e,n,r,i,o,a,s;if(2===(t=t.map((function(t){return new Xr(t)}))).length)e=t.map((function(t){return t.lab()})),o=e[0],a=e[1],i=function(t){var e=[0,1,2].map((function(e){return o[e]+t*(a[e]-o[e])}));return new Xr(e,"lab")};else if(3===t.length)n=t.map((function(t){return t.lab()})),o=n[0],a=n[1],s=n[2],i=function(t){var e=[0,1,2].map((function(e){return(1-t)*(1-t)*o[e]+2*(1-t)*t*a[e]+t*t*s[e]}));return new Xr(e,"lab")};else if(4===t.length){var l;r=t.map((function(t){return t.lab()})),o=r[0],a=r[1],s=r[2],l=r[3],i=function(t){var e=[0,1,2].map((function(e){return(1-t)*(1-t)*(1-t)*o[e]+3*(1-t)*(1-t)*t*a[e]+3*(1-t)*t*t*s[e]+t*t*t*l[e]}));return new Xr(e,"lab")}}else{if(!(t.length>=5))throw new RangeError("No point in running bezier with only one color.");var c,u,f;c=t.map((function(t){return t.lab()})),f=t.length-1,u=function(t){for(var e=[1,1],n=1;n<t;n++){for(var r=[1],i=1;i<=e.length;i++)r[i]=(e[i]||0)+e[i-1];e=r}return e}(f),i=function(t){var e=1-t,n=[0,1,2].map((function(n){return c.reduce((function(r,i,o){return r+u[o]*Math.pow(e,f-o)*Math.pow(t,o)*i[n]}),0)}));return new Xr(n,"lab")}}return i}(t);return e.scale=function(){return Kr(e)},e},Bi.blend=ei,Bi.cubehelix=function(t,e,n,r,i){void 0===t&&(t=300),void 0===e&&(e=-1.5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=[0,1]);var o,a=0;"array"===ni(i)?o=i[1]-i[0]:(o=0,i=[i,i]);var s=function(s){var l=ii*((t+120)/360+e*s),c=oi(i[0]+o*s,r),u=(0!==a?n[0]+s*a:n)*c*(1-c)/2,f=si(l),h=ai(l);return li(ri([255*(c+u*(-.14861*f+1.78277*h)),255*(c+u*(-.29227*f-.90649*h)),255*(c+u*(1.97294*f)),1]))};return s.start=function(e){return null==e?t:(t=e,s)},s.rotations=function(t){return null==t?e:(e=t,s)},s.gamma=function(t){return null==t?r:(r=t,s)},s.hue=function(t){return null==t?n:("array"===ni(n=t)?0==(a=n[1]-n[0])&&(n=n[1]):a=0,s)},s.lightness=function(t){return null==t?i:("array"===ni(t)?(i=t,o=t[1]-t[0]):(i=[t,t],o=0),s)},s.scale=function(){return li.scale(s)},s.hue(n),s},Bi.mix=Bi.interpolate=hr,Bi.random=function(){for(var t="#",e=0;e<6;e++)t+="0123456789abcdef".charAt(ui(16*fi()));return new ci(t,"hex")},Bi.scale=Gr,Bi.analyze=bi.analyze,Bi.contrast=function(t,e){t=new xi(t),e=new xi(e);var n=t.luminance(),r=e.luminance();return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)},Bi.deltaE=function(t,e,n,r,i){void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=1);var o=function(t){return 360*t/(2*Si)},a=function(t){return 2*Si*t/360};t=new wi(t),e=new wi(e);var s=Array.from(t.lab()),l=s[0],c=s[1],u=s[2],f=Array.from(e.lab()),h=f[0],p=f[1],d=f[2],g=(l+h)/2,m=(ki(Mi(c,2)+Mi(u,2))+ki(Mi(p,2)+Mi(d,2)))/2,y=.5*(1-ki(Mi(m,7)/(Mi(m,7)+Mi(25,7)))),v=c*(1+y),b=p*(1+y),x=ki(Mi(v,2)+Mi(u,2)),w=ki(Mi(b,2)+Mi(d,2)),k=(x+w)/2,M=o(Ei(u,v)),_=o(Ei(d,b)),A=M>=0?M:M+360,E=_>=0?_:_+360,T=Ti(A-E)>180?(A+E+360)/2:(A+E)/2,$=1-.17*$i(a(T-30))+.24*$i(a(2*T))+.32*$i(a(3*T+6))-.2*$i(a(4*T-63)),O=E-A;O=Ti(O)<=180?O:E<=A?O+360:O-360,O=2*ki(x*w)*Oi(a(O)/2);var N=h-l,S=w-x,L=1+.015*Mi(g-50,2)/ki(20+Mi(g-50,2)),C=1+.045*k,D=1+.015*k*$,R=30*Ni(-Mi((T-275)/25,2)),I=-2*ki(Mi(k,7)/(Mi(k,7)+Mi(25,7)))*Oi(2*a(R)),P=ki(Mi(N/(n*L),2)+Mi(S/(r*C),2)+Mi(O/(i*D),2)+I*(S/(r*C))*(O/(i*D)));return Ai(0,_i(100,P))},Bi.distance=function(t,e,n){void 0===n&&(n="lab"),t=new Li(t),e=new Li(e);var r=t.get(n),i=e.get(n),o=0;for(var a in r){var s=(r[a]||0)-(i[a]||0);o+=s*s}return Math.sqrt(o)},Bi.limits=bi.limits,Bi.valid=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];try{return new(Function.prototype.bind.apply(Ci,[null].concat(t))),!0}catch(t){return!1}},Bi.scales=Ii,Bi.colors=Je,Bi.brewer=Ui,Bi}();var oa=ra(ia.exports);function aa(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return t;const r=Array.isArray(e)?e:e.split(".");let i=t;for(let t=0;t<r.length&&null!=i;t++)i=i[r[t]];return null==i?n:i}function sa(t,e){const n=aa(t,"colors.background","#ffffff"),r=aa(t,"colors.chartContentBaseColor",e.contrast(n,"#000000")<5.5?"#f1f1f1":"#333333"),i={tickText:{secondary:aa(t,"colors.bgBlendRatios.tickText.secondary",e(n).luminance()<.5?.6:.4),primary:aa(t,"colors.bgBlendRatios.tickText.primary",.2)},series:aa(t,"colors.bgBlendRatios.series",0),value:aa(t,"colors.bgBlendRatios.value",.2),axis:aa(t,"colors.bgBlendRatios.axis",0),gridline:aa(t,"colors.bgBlendRatios.gridline",.82)};return{tickText:{secondary:e.mix(r,n,i.tickText.secondary).hex(),primary:e.mix(r,n,i.tickText.primary).hex()},series:e.mix(r,n,i.series).hex(),value:e.mix(r,n,i.value).hex(),axis:e.mix(r,n,i.axis).hex(),gridline:e.mix(r,n,i.gridline).hex(),fallbackBaseColor:r,blendColor:t=>e.mix(r,n,t).hex()}}var la,ca={exports:{}};
/*! @license DOMPurify 3.0.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.6/LICENSE */function ua(){return la||(la=1,function(t,e){t.exports=function(){const{entries:t,setPrototypeOf:e,isFrozen:n,getPrototypeOf:r,getOwnPropertyDescriptor:i}=Object;let{freeze:o,seal:a,create:s}=Object,{apply:l,construct:c}="undefined"!=typeof Reflect&&Reflect;o||(o=function(t){return t}),a||(a=function(t){return t}),l||(l=function(t,e,n){return t.apply(e,n)}),c||(c=function(t,e){return new t(...e)});const u=k(Array.prototype.forEach),f=k(Array.prototype.pop),h=k(Array.prototype.push),p=k(String.prototype.toLowerCase),d=k(String.prototype.toString),g=k(String.prototype.match),m=k(String.prototype.replace),y=k(String.prototype.indexOf),v=k(String.prototype.trim),b=k(RegExp.prototype.test),x=(w=TypeError,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return c(w,e)});var w;function k(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return l(t,e,r)}}function M(t,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p;e&&e(t,null);let o=r.length;for(;o--;){let e=r[o];if("string"==typeof e){const t=i(e);t!==e&&(n(r)||(r[o]=t),e=t)}t[e]=!0}return t}function _(e){const n=s(null);for(const[r,o]of t(e))void 0!==i(e,r)&&(n[r]=o);return n}function A(t,e){for(;null!==t;){const n=i(t,e);if(n){if(n.get)return k(n.get);if("function"==typeof n.value)return k(n.value)}t=r(t)}return function(t){return console.warn("fallback value for",t),null}}const E=o(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),T=o(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),$=o(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),O=o(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),N=o(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),S=o(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),L=o(["#text"]),C=o(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),D=o(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),R=o(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),I=o(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),P=a(/\{\{[\w\W]*|[\w\W]*\}\}/gm),z=a(/<%[\w\W]*|[\w\W]*%>/gm),j=a(/\${[\w\W]*}/gm),F=a(/^data-[\-\w.\u00B7-\uFFFF]/),U=a(/^aria-[\-\w]+$/),B=a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),H=a(/^(?:\w+script|data):/i),Y=a(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),W=a(/^html$/i);var q=Object.freeze({__proto__:null,MUSTACHE_EXPR:P,ERB_EXPR:z,TMPLIT_EXPR:j,DATA_ATTR:F,ARIA_ATTR:U,IS_ALLOWED_URI:B,IS_SCRIPT_OR_DATA:H,ATTR_WHITESPACE:Y,DOCTYPE_NAME:W});const G=function(){return"undefined"==typeof window?null:window},V=function(t,e){if("object"!=typeof t||"function"!=typeof t.createPolicy)return null;let n=null;e&&e.hasAttribute("data-tt-policy-suffix")&&(n=e.getAttribute("data-tt-policy-suffix"));const r="dompurify"+(n?"#"+n:"");try{return t.createPolicy(r,{createHTML:t=>t,createScriptURL:t=>t})}catch(t){return console.warn("TrustedTypes policy "+r+" could not be created."),null}};return function e(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G();const r=t=>e(t);if(r.version="3.0.6",r.removed=[],!n||!n.document||9!==n.document.nodeType)return r.isSupported=!1,r;let{document:i}=n;const a=i,l=a.currentScript,{DocumentFragment:c,HTMLTemplateElement:w,Node:k,Element:P,NodeFilter:z,NamedNodeMap:j=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:F,DOMParser:U,trustedTypes:H}=n,Y=P.prototype,X=A(Y,"cloneNode"),K=A(Y,"nextSibling"),Z=A(Y,"childNodes"),J=A(Y,"parentNode");if("function"==typeof w){const t=i.createElement("template");t.content&&t.content.ownerDocument&&(i=t.content.ownerDocument)}let Q,tt="";const{implementation:et,createNodeIterator:nt,createDocumentFragment:rt,getElementsByTagName:it}=i,{importNode:ot}=a;let at={};r.isSupported="function"==typeof t&&"function"==typeof J&&et&&void 0!==et.createHTMLDocument;const{MUSTACHE_EXPR:st,ERB_EXPR:lt,TMPLIT_EXPR:ct,DATA_ATTR:ut,ARIA_ATTR:ft,IS_SCRIPT_OR_DATA:ht,ATTR_WHITESPACE:pt}=q;let{IS_ALLOWED_URI:dt}=q,gt=null;const mt=M({},[...E,...T,...$,...N,...L]);let yt=null;const vt=M({},[...C,...D,...R,...I]);let bt=Object.seal(s(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),xt=null,wt=null,kt=!0,Mt=!0,_t=!1,At=!0,Et=!1,Tt=!1,$t=!1,Ot=!1,Nt=!1,St=!1,Lt=!1,Ct=!0,Dt=!1;const Rt="user-content-";let It=!0,Pt=!1,zt={},jt=null;const Ft=M({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ut=null;const Bt=M({},["audio","video","img","source","image","track"]);let Ht=null;const Yt=M({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Wt="http://www.w3.org/1998/Math/MathML",qt="http://www.w3.org/2000/svg",Gt="http://www.w3.org/1999/xhtml";let Vt=Gt,Xt=!1,Kt=null;const Zt=M({},[Wt,qt,Gt],d);let Jt=null;const Qt=["application/xhtml+xml","text/html"],te="text/html";let ee=null,ne=null;const re=i.createElement("form"),ie=function(t){return t instanceof RegExp||t instanceof Function},oe=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!ne||ne!==t){if(t&&"object"==typeof t||(t={}),t=_(t),Jt=Jt=-1===Qt.indexOf(t.PARSER_MEDIA_TYPE)?te:t.PARSER_MEDIA_TYPE,ee="application/xhtml+xml"===Jt?d:p,gt="ALLOWED_TAGS"in t?M({},t.ALLOWED_TAGS,ee):mt,yt="ALLOWED_ATTR"in t?M({},t.ALLOWED_ATTR,ee):vt,Kt="ALLOWED_NAMESPACES"in t?M({},t.ALLOWED_NAMESPACES,d):Zt,Ht="ADD_URI_SAFE_ATTR"in t?M(_(Yt),t.ADD_URI_SAFE_ATTR,ee):Yt,Ut="ADD_DATA_URI_TAGS"in t?M(_(Bt),t.ADD_DATA_URI_TAGS,ee):Bt,jt="FORBID_CONTENTS"in t?M({},t.FORBID_CONTENTS,ee):Ft,xt="FORBID_TAGS"in t?M({},t.FORBID_TAGS,ee):{},wt="FORBID_ATTR"in t?M({},t.FORBID_ATTR,ee):{},zt="USE_PROFILES"in t&&t.USE_PROFILES,kt=!1!==t.ALLOW_ARIA_ATTR,Mt=!1!==t.ALLOW_DATA_ATTR,_t=t.ALLOW_UNKNOWN_PROTOCOLS||!1,At=!1!==t.ALLOW_SELF_CLOSE_IN_ATTR,Et=t.SAFE_FOR_TEMPLATES||!1,Tt=t.WHOLE_DOCUMENT||!1,Nt=t.RETURN_DOM||!1,St=t.RETURN_DOM_FRAGMENT||!1,Lt=t.RETURN_TRUSTED_TYPE||!1,Ot=t.FORCE_BODY||!1,Ct=!1!==t.SANITIZE_DOM,Dt=t.SANITIZE_NAMED_PROPS||!1,It=!1!==t.KEEP_CONTENT,Pt=t.IN_PLACE||!1,dt=t.ALLOWED_URI_REGEXP||B,Vt=t.NAMESPACE||Gt,bt=t.CUSTOM_ELEMENT_HANDLING||{},t.CUSTOM_ELEMENT_HANDLING&&ie(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(bt.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&ie(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(bt.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(bt.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Et&&(Mt=!1),St&&(Nt=!0),zt&&(gt=M({},[...L]),yt=[],!0===zt.html&&(M(gt,E),M(yt,C)),!0===zt.svg&&(M(gt,T),M(yt,D),M(yt,I)),!0===zt.svgFilters&&(M(gt,$),M(yt,D),M(yt,I)),!0===zt.mathMl&&(M(gt,N),M(yt,R),M(yt,I))),t.ADD_TAGS&&(gt===mt&&(gt=_(gt)),M(gt,t.ADD_TAGS,ee)),t.ADD_ATTR&&(yt===vt&&(yt=_(yt)),M(yt,t.ADD_ATTR,ee)),t.ADD_URI_SAFE_ATTR&&M(Ht,t.ADD_URI_SAFE_ATTR,ee),t.FORBID_CONTENTS&&(jt===Ft&&(jt=_(jt)),M(jt,t.FORBID_CONTENTS,ee)),It&&(gt["#text"]=!0),Tt&&M(gt,["html","head","body"]),gt.table&&(M(gt,["tbody"]),delete xt.tbody),t.TRUSTED_TYPES_POLICY){if("function"!=typeof t.TRUSTED_TYPES_POLICY.createHTML)throw x('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof t.TRUSTED_TYPES_POLICY.createScriptURL)throw x('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Q=t.TRUSTED_TYPES_POLICY,tt=Q.createHTML("")}else void 0===Q&&(Q=V(H,l)),null!==Q&&"string"==typeof tt&&(tt=Q.createHTML(""));o&&o(t),ne=t}},ae=M({},["mi","mo","mn","ms","mtext"]),se=M({},["foreignobject","desc","title","annotation-xml"]),le=M({},["title","style","font","a","script"]),ce=M({},T);M(ce,$),M(ce,O);const ue=M({},N);M(ue,S);const fe=function(t){let e=J(t);e&&e.tagName||(e={namespaceURI:Vt,tagName:"template"});const n=p(t.tagName),r=p(e.tagName);return!!Kt[t.namespaceURI]&&(t.namespaceURI===qt?e.namespaceURI===Gt?"svg"===n:e.namespaceURI===Wt?"svg"===n&&("annotation-xml"===r||ae[r]):Boolean(ce[n]):t.namespaceURI===Wt?e.namespaceURI===Gt?"math"===n:e.namespaceURI===qt?"math"===n&&se[r]:Boolean(ue[n]):t.namespaceURI===Gt?!(e.namespaceURI===qt&&!se[r])&&!(e.namespaceURI===Wt&&!ae[r])&&!ue[n]&&(le[n]||!ce[n]):!("application/xhtml+xml"!==Jt||!Kt[t.namespaceURI]))},he=function(t){h(r.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){t.remove()}},pe=function(t,e){try{h(r.removed,{attribute:e.getAttributeNode(t),from:e})}catch(t){h(r.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t&&!yt[t])if(Nt||St)try{he(e)}catch(t){}else try{e.setAttribute(t,"")}catch(t){}},de=function(t){let e=null,n=null;if(Ot)t="<remove></remove>"+t;else{const e=g(t,/^[\r\n\t ]+/);n=e&&e[0]}"application/xhtml+xml"===Jt&&Vt===Gt&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");const r=Q?Q.createHTML(t):t;if(Vt===Gt)try{e=(new U).parseFromString(r,Jt)}catch(t){}if(!e||!e.documentElement){e=et.createDocument(Vt,"template",null);try{e.documentElement.innerHTML=Xt?tt:r}catch(t){}}const o=e.body||e.documentElement;return t&&n&&o.insertBefore(i.createTextNode(n),o.childNodes[0]||null),Vt===Gt?it.call(e,Tt?"html":"body")[0]:Tt?e.documentElement:o},ge=function(t){return nt.call(t.ownerDocument||t,t,z.SHOW_ELEMENT|z.SHOW_COMMENT|z.SHOW_TEXT,null)},me=function(t){return t instanceof F&&("string"!=typeof t.nodeName||"string"!=typeof t.textContent||"function"!=typeof t.removeChild||!(t.attributes instanceof j)||"function"!=typeof t.removeAttribute||"function"!=typeof t.setAttribute||"string"!=typeof t.namespaceURI||"function"!=typeof t.insertBefore||"function"!=typeof t.hasChildNodes)},ye=function(t){return"function"==typeof k&&t instanceof k},ve=function(t,e,n){at[t]&&u(at[t],t=>{t.call(r,e,n,ne)})},be=function(t){let e=null;if(ve("beforeSanitizeElements",t,null),me(t))return he(t),!0;const n=ee(t.nodeName);if(ve("uponSanitizeElement",t,{tagName:n,allowedTags:gt}),t.hasChildNodes()&&!ye(t.firstElementChild)&&b(/<[/\w]/g,t.innerHTML)&&b(/<[/\w]/g,t.textContent))return he(t),!0;if(!gt[n]||xt[n]){if(!xt[n]&&we(n)){if(bt.tagNameCheck instanceof RegExp&&b(bt.tagNameCheck,n))return!1;if(bt.tagNameCheck instanceof Function&&bt.tagNameCheck(n))return!1}if(It&&!jt[n]){const e=J(t)||t.parentNode,n=Z(t)||t.childNodes;if(n&&e)for(let r=n.length-1;r>=0;--r)e.insertBefore(X(n[r],!0),K(t))}return he(t),!0}return t instanceof P&&!fe(t)?(he(t),!0):"noscript"!==n&&"noembed"!==n&&"noframes"!==n||!b(/<\/no(script|embed|frames)/i,t.innerHTML)?(Et&&3===t.nodeType&&(e=t.textContent,u([st,lt,ct],t=>{e=m(e,t," ")}),t.textContent!==e&&(h(r.removed,{element:t.cloneNode()}),t.textContent=e)),ve("afterSanitizeElements",t,null),!1):(he(t),!0)},xe=function(t,e,n){if(Ct&&("id"===e||"name"===e)&&(n in i||n in re))return!1;if(Mt&&!wt[e]&&b(ut,e));else if(kt&&b(ft,e));else if(!yt[e]||wt[e]){if(!(we(t)&&(bt.tagNameCheck instanceof RegExp&&b(bt.tagNameCheck,t)||bt.tagNameCheck instanceof Function&&bt.tagNameCheck(t))&&(bt.attributeNameCheck instanceof RegExp&&b(bt.attributeNameCheck,e)||bt.attributeNameCheck instanceof Function&&bt.attributeNameCheck(e))||"is"===e&&bt.allowCustomizedBuiltInElements&&(bt.tagNameCheck instanceof RegExp&&b(bt.tagNameCheck,n)||bt.tagNameCheck instanceof Function&&bt.tagNameCheck(n))))return!1}else if(Ht[e]);else if(b(dt,m(n,pt,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==y(n,"data:")||!Ut[t])if(_t&&!b(ht,m(n,pt,"")));else if(n)return!1;return!0},we=function(t){return t.indexOf("-")>0},ke=function(t){ve("beforeSanitizeAttributes",t,null);const{attributes:e}=t;if(!e)return;const n={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:yt};let i=e.length;for(;i--;){const o=e[i],{name:a,namespaceURI:s,value:l}=o,c=ee(a);let h="value"===a?l:v(l);if(n.attrName=c,n.attrValue=h,n.keepAttr=!0,n.forceKeepAttr=void 0,ve("uponSanitizeAttribute",t,n),h=n.attrValue,n.forceKeepAttr)continue;if(pe(a,t),!n.keepAttr)continue;if(!At&&b(/\/>/i,h)){pe(a,t);continue}Et&&u([st,lt,ct],t=>{h=m(h,t," ")});const p=ee(t.nodeName);if(xe(p,c,h)){if(!Dt||"id"!==c&&"name"!==c||(pe(a,t),h=Rt+h),Q&&"object"==typeof H&&"function"==typeof H.getAttributeType)if(s);else switch(H.getAttributeType(p,c)){case"TrustedHTML":h=Q.createHTML(h);break;case"TrustedScriptURL":h=Q.createScriptURL(h)}try{s?t.setAttributeNS(s,a,h):t.setAttribute(a,h),f(r.removed)}catch(t){}}}ve("afterSanitizeAttributes",t,null)},Me=function t(e){let n=null;const r=ge(e);for(ve("beforeSanitizeShadowDOM",e,null);n=r.nextNode();)ve("uponSanitizeShadowNode",n,null),be(n)||(n.content instanceof c&&t(n.content),ke(n));ve("afterSanitizeShadowDOM",e,null)};return r.sanitize=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,i=null,o=null,s=null;if(Xt=!t,Xt&&(t="\x3c!--\x3e"),"string"!=typeof t&&!ye(t)){if("function"!=typeof t.toString)throw x("toString is not a function");if("string"!=typeof(t=t.toString()))throw x("dirty is not a string, aborting")}if(!r.isSupported)return t;if($t||oe(e),r.removed=[],"string"==typeof t&&(Pt=!1),Pt){if(t.nodeName){const e=ee(t.nodeName);if(!gt[e]||xt[e])throw x("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof k)n=de("\x3c!----\x3e"),i=n.ownerDocument.importNode(t,!0),1===i.nodeType&&"BODY"===i.nodeName||"HTML"===i.nodeName?n=i:n.appendChild(i);else{if(!Nt&&!Et&&!Tt&&-1===t.indexOf("<"))return Q&&Lt?Q.createHTML(t):t;if(n=de(t),!n)return Nt?null:Lt?tt:""}n&&Ot&&he(n.firstChild);const l=ge(Pt?t:n);for(;o=l.nextNode();)be(o)||(o.content instanceof c&&Me(o.content),ke(o));if(Pt)return t;if(Nt){if(St)for(s=rt.call(n.ownerDocument);n.firstChild;)s.appendChild(n.firstChild);else s=n;return(yt.shadowroot||yt.shadowrootmode)&&(s=ot.call(a,s,!0)),s}let f=Tt?n.outerHTML:n.innerHTML;return Tt&&gt["!doctype"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&b(W,n.ownerDocument.doctype.name)&&(f="<!DOCTYPE "+n.ownerDocument.doctype.name+">\n"+f),Et&&u([st,lt,ct],t=>{f=m(f,t," ")}),Q&&Lt?Q.createHTML(f):f},r.setConfig=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};oe(t),$t=!0},r.clearConfig=function(){ne=null,$t=!1},r.isValidAttribute=function(t,e,n){ne||oe({});const r=ee(t),i=ee(e);return xe(r,i,n)},r.addHook=function(t,e){"function"==typeof e&&(at[t]=at[t]||[],h(at[t],e))},r.removeHook=function(t){if(at[t])return f(at[t])},r.removeHooks=function(t){at[t]&&(at[t]=[])},r.removeAllHooks=function(){at={}},r}()}()}(ca)),ca.exports}function fa(t){if(!t||"object"!=typeof t)return t;try{return JSON.parse(JSON.stringify(t))}catch(e){return t}}window.DOMPurify||(window.DOMPurify=ua().default||ua());var ha=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===pa}(t)}(t)},pa="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function da(t,e){return!1!==e.clone&&e.isMergeableObject(t)?va((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function ga(t,e,n){return t.concat(e).map((function(t){return da(t,n)}))}function ma(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return Object.propertyIsEnumerable.call(t,e)})):[]}(t))}function ya(t,e){try{return e in t}catch(t){return!1}}function va(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||ga,n.isMergeableObject=n.isMergeableObject||ha,n.cloneUnlessOtherwiseSpecified=da;var r=Array.isArray(e);return r===Array.isArray(t)?r?n.arrayMerge(t,e,n):function(t,e,n){var r={};return n.isMergeableObject(t)&&ma(t).forEach((function(e){r[e]=da(t[e],n)})),ma(e).forEach((function(i){(function(t,e){return ya(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,i)||(ya(t,i)&&n.isMergeableObject(e[i])?r[i]=function(t,e){if(!e.customMerge)return va;var n=e.customMerge(t);return"function"==typeof n?n:va}(i,n)(t[i],e[i],n):r[i]=da(e[i],n))})),r}(t,e,n):da(e,n)}function ba(t){return t}va.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return va(t,n,e)}),{})};var xa,wa=(xa=jo,function(t){var e=arguments.length;if(e<2||null==t)return t;for(var n=1;n<e;n++)for(var r=arguments[n],i=xa(r),o=i.length,a=0;a<o;a++){var s=i[a];t[s]=r[s]}return t});function ka(t){return xo.toPath(t)}function Ma(t,e,n){return null==t?ba:Eo(t)?Bo(t,e,n):Po(t)&&!Xo(t)?function(t){return t=wa({},t),function(e){return function(t,e){var n=jo(e),r=n.length;if(null==t)return!r;for(var i=Object(t),o=0;o<r;o++){var a=n[o];if(e[a]!==i[a]||!(a in i))return!1}return!0}(e,t)}}(t):function(t){return t=ka(t),function(e){return function(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0}(e,t)}}(t)}function _a(t,e){for(var n=(e=ka(e)).length,r=0;r<n;r++){var i=e[r];if(!zo(t,i))return!1;t=t[i]}return!!n}function Aa(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1}xo.toPath=function(t){return Xo(t)?t:[t]},xo.iteratee=function(t,e){return Ma(t,e,1/0)};var Ea=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];function Ta(t){var e,n;if(function(t){return isFinite(t)&&t===Math.round(t)}(t)){if(t<=0)return isFinite(t)?1/0:NaN;if(t>171)return 1/0;for(var r=t-2,i=t-1;r>1;)i*=r,r--;return 0===i&&(i=1),i}if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*Ta(1-t));if(t>=171.35)return 1/0;if(t>85){var o=t*t,a=o*t,s=a*t,l=s*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*o)-139/(51840*a)-571/(2488320*s)+163879/(209018880*l)+5246819/(75246796800*l*t))}--t,n=Ea[0];for(var c=1;c<Ea.length;++c)n+=Ea[c]/(t+c);return e=t+4.7421875+.5,Math.sqrt(2*Math.PI)*Math.pow(e,t+.5)*Math.exp(-e)*n}var $a=Object.freeze({__proto__:null,add:function(t,e){return Number(t)+Number(e)},sub:function(t,e){return t-e},mul:function(t,e){return t*e},div:function(t,e){return t/e},mod:function(t,e){return t%e},concat:function(t,e){return Array.isArray(t)&&Array.isArray(e)?t.concat(e):""+t+e},equal:function(t,e){return t===e},notEqual:function(t,e){return t!==e},greaterThan:function(t,e){return t>e},lessThan:function(t,e){return t<e},greaterThanEqual:function(t,e){return t>=e},lessThanEqual:function(t,e){return t<=e},andOperator:function(t,e){return Boolean(t&&e)},orOperator:function(t,e){return Boolean(t||e)},inOperator:function(t,e){return Aa(e,t)},sinh:function(t){return(Math.exp(t)-Math.exp(-t))/2},cosh:function(t){return(Math.exp(t)+Math.exp(-t))/2},tanh:function(t){return t===1/0?1:t===-1/0?-1:(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))},asinh:function(t){return t===-1/0?t:Math.log(t+Math.sqrt(t*t+1))},acosh:function(t){return Math.log(t+Math.sqrt(t*t-1))},atanh:function(t){return Math.log((1+t)/(1-t))/2},log10:function(t){return Math.log(t)*Math.LOG10E},neg:function(t){return-t},not:function(t){return!t},trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)},random:function(t){return Math.random()*(t||1)},factorial:function(t){return Ta(t+1)},gamma:Ta,stringOrArrayLength:function(t){return Array.isArray(t)?t.length:String(t).length},hypot:function(){for(var t=0,e=0,n=0;n<arguments.length;n++){var r,i=Math.abs(arguments[n]);e<i?(t=t*(r=e/i)*r+1,e=i):t+=i>0?(r=i/e)*r:i}return e===1/0?1/0:e*Math.sqrt(t)},condition:function(t,e,n){return t?e:n},roundTo:function(t,e){return void 0===e||0==+e?Math.round(t):(t=+t,e=-+e,isNaN(t)||"number"!=typeof e||e%1!=0?NaN:(t=t.toString().split("e"),+((t=(t=Math.round(+(t[0]+"e"+(t[1]?+t[1]-e:-e)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]+e:e))))},setVar:function(t,e,n){return n&&(n[t]=e),e},arrayIndex:function(t,e){return t[0|e]},max:function(t){return 1===arguments.length&&Array.isArray(t)?Math.max.apply(Math,t):Math.max.apply(Math,arguments)},min:function(t){return 1===arguments.length&&Array.isArray(t)?Math.min.apply(Math,t):Math.min.apply(Math,arguments)},arrayMap:function(t,e){if("function"!=typeof t)throw new Error("First argument to map is not a function");if(!Array.isArray(e))throw new Error("Second argument to map is not an array");return e.map((function(e,n){return t(e,n)}))},arrayFold:function(t,e,n){if("function"!=typeof t)throw new Error("First argument to fold is not a function");if(!Array.isArray(n))throw new Error("Second argument to fold is not an array");return n.reduce((function(e,n,r){return t(e,n,r)}),e)},arrayFilter:function(t,e){if("function"!=typeof t)throw new Error("First argument to filter is not a function");if(!Array.isArray(e))throw new Error("Second argument to filter is not an array");return e.filter((function(e,n){return t(e,n)}))},stringOrArrayIndexOf:function(t,e){if(!Array.isArray(e)&&"string"!=typeof e)throw new Error("Second argument to indexOf is not a string or array");return e.indexOf(t)},arrayJoin:function(t,e){if(!Array.isArray(e))throw new Error("Second argument to join is not an array");return e.join(t)},sign:function(t){return(t>0)-(t<0)||+t},cbrt:function(t){return t<0?-Math.pow(-t,1/3):Math.pow(t,1/3)},expm1:function(t){return Math.exp(t)-1},log1p:function(t){return Math.log(1+t)},log2:function(t){return Math.log(t)/Math.LN2},sum:function(t){if(!Array.isArray(t))throw new Error("Sum argument is not an array");return t.reduce((function(t,e){return t+Number(e)}),0)}}),Oa="IEXPR";function Na(t,e){this.type=t,this.value=null!=e?e:0}function Sa(t){return new Na("IOP1",t)}function La(t){return new Na("IOP2",t)}function Ca(t,e,n){var r,i,o,a,s,l,c=[];if(Ra(t))return Ia(t,n);for(var u=t.length,f=0;f<u;f++){var h=t[f],p=h.type;if("INUMBER"===p||"IVARNAME"===p)c.push(h.value);else if("IOP2"===p)i=c.pop(),r=c.pop(),"and"===h.value?c.push(!!r&&!!Ca(i,e,n)):"or"===h.value?c.push(!!r||!!Ca(i,e,n)):"="===h.value?(a=e.binaryOps[h.value],c.push(a(r,Ca(i,e,n),n))):(a=e.binaryOps[h.value],c.push(a(Ia(r,n),Ia(i,n))));else if("IOP3"===p)o=c.pop(),i=c.pop(),r=c.pop(),"?"===h.value?c.push(Ca(r?i:o,e,n)):(a=e.ternaryOps[h.value],c.push(a(Ia(r,n),Ia(i,n),Ia(o,n))));else if("IVAR"===p){if(/^__proto__|prototype|constructor$/.test(h.value))throw new Error("prototype access detected");if(h.value in e.functions)c.push(e.functions[h.value]);else if(h.value in e.unaryOps&&e.parser.isOperatorEnabled(h.value))c.push(e.unaryOps[h.value]);else{var d=n[h.value];if(void 0===d)throw new Error("undefined variable: "+h.value);c.push(d)}}else if("IOP1"===p)r=c.pop(),a=e.unaryOps[h.value],c.push(a(Ia(r,n)));else if("IFUNCALL"===p){for(l=h.value,s=[];l-- >0;)s.unshift(Ia(c.pop(),n));if(!(a=c.pop()).apply||!a.call)throw new Error(a+" is not a function");c.push(a.apply(void 0,s))}else if("IFUNDEF"===p)c.push(function(){for(var t=c.pop(),r=[],i=h.value;i-- >0;)r.unshift(c.pop());var o=c.pop(),a=function(){for(var i=Object.assign({},n),o=0,a=r.length;o<a;o++)i[r[o]]=arguments[o];return Ca(t,e,i)};return Object.defineProperty(a,"name",{value:o,writable:!1}),n[o]=a,a}());else if(p===Oa)c.push(Da(h,e));else if("IEXPREVAL"===p)c.push(h);else if("IMEMBER"===p)r=c.pop(),c.push(r[h.value]);else if("IENDSTATEMENT"===p)c.pop();else{if("IARRAY"!==p)throw new Error("invalid Expression");for(l=h.value,s=[];l-- >0;)s.unshift(c.pop());c.push(s)}}if(c.length>1)throw new Error("invalid Expression (parity)");return 0===c[0]?0:Ia(c[0],n)}function Da(t,e,n){return Ra(t)?t:{type:"IEXPREVAL",value:function(n){return Ca(t.value,e,n)}}}function Ra(t){return t&&"IEXPREVAL"===t.type}function Ia(t,e){return Ra(t)?t.value(e):t}Na.prototype.toString=function(){switch(this.type){case"INUMBER":case"IOP1":case"IOP2":case"IOP3":case"IVAR":case"IVARNAME":case"IENDSTATEMENT":return this.value;case"IFUNCALL":return"CALL "+this.value;case"IFUNDEF":return"DEF "+this.value;case"IARRAY":return"ARRAY "+this.value;case"IMEMBER":return"."+this.value;default:return"Invalid Instruction"}};var Pa="TOP",za="TPAREN";function ja(t,e,n){this.type=t,this.value=e,this.index=n}function Fa(t,e){this.pos=0,this.current=null,this.unaryOps=t.unaryOps,this.binaryOps=t.binaryOps,this.ternaryOps=t.ternaryOps,this.consts=t.consts,this.expression=e,this.savedPosition=0,this.savedCurrent=null,this.options=t.options,this.parser=t}ja.prototype.toString=function(){return this.type+": "+this.value},Fa.prototype.newToken=function(t,e,n){return new ja(t,e,null!=n?n:this.pos)},Fa.prototype.save=function(){this.savedPosition=this.pos,this.savedCurrent=this.current},Fa.prototype.restore=function(){this.pos=this.savedPosition,this.current=this.savedCurrent},Fa.prototype.next=function(){return this.pos>=this.expression.length?this.newToken("TEOF","EOF"):this.isWhitespace()||this.isComment()?this.next():this.isRadixInteger()||this.isNumber()||this.isOperator()||this.isString()||this.isParen()||this.isBracket()||this.isComma()||this.isSemicolon()||this.isNamedOp()||this.isConst()||this.isName()?this.current:void this.parseError('Unknown character "'+this.expression.charAt(this.pos)+'"')},Fa.prototype.isString=function(){var t=!1,e=this.pos,n=this.expression.charAt(e);if("'"===n||'"'===n)for(var r=this.expression.indexOf(n,e+1);r>=0&&this.pos<this.expression.length;){if(this.pos=r+1,"\\"!==this.expression.charAt(r-1)){var i=this.expression.substring(e+1,r);this.current=this.newToken("TSTRING",this.unescape(i),e),t=!0;break}r=this.expression.indexOf(n,r+1)}return t},Fa.prototype.isParen=function(){var t=this.expression.charAt(this.pos);return("("===t||")"===t)&&(this.current=this.newToken(za,t),this.pos++,!0)},Fa.prototype.isBracket=function(){var t=this.expression.charAt(this.pos);return!("["!==t&&"]"!==t||!this.isOperatorEnabled("[")||(this.current=this.newToken("TBRACKET",t),this.pos++,0))},Fa.prototype.isComma=function(){return","===this.expression.charAt(this.pos)&&(this.current=this.newToken("TCOMMA",","),this.pos++,!0)},Fa.prototype.isSemicolon=function(){return";"===this.expression.charAt(this.pos)&&(this.current=this.newToken("TSEMICOLON",";"),this.pos++,!0)},Fa.prototype.isConst=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||"_"!==n&&"."!==n&&(n<"0"||n>"9")))break}if(e>t){var r=this.expression.substring(t,e);if(r in this.consts)return this.current=this.newToken("TNUMBER",this.consts[r]),this.pos+=r.length,!0}return!1},Fa.prototype.isNamedOp=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||"_"!==n&&(n<"0"||n>"9")))break}if(e>t){var r=this.expression.substring(t,e);if(this.isOperatorEnabled(r)&&(r in this.binaryOps||r in this.unaryOps||r in this.ternaryOps))return this.current=this.newToken(Pa,r),this.pos+=r.length,!0}return!1},Fa.prototype.isName=function(){for(var t=this.pos,e=t,n=!1;e<this.expression.length;e++){var r=this.expression.charAt(e);if(r.toUpperCase()===r.toLowerCase()){if(e===this.pos&&("$"===r||"_"===r)){"_"===r&&(n=!0);continue}if(e===this.pos||!n||"_"!==r&&(r<"0"||r>"9"))break}else n=!0}if(n){var i=this.expression.substring(t,e);return this.current=this.newToken("TNAME",i),this.pos+=i.length,!0}return!1},Fa.prototype.isWhitespace=function(){for(var t=!1,e=this.expression.charAt(this.pos);!(" "!==e&&"\t"!==e&&"\n"!==e&&"\r"!==e||(t=!0,this.pos++,this.pos>=this.expression.length));)e=this.expression.charAt(this.pos);return t};var Ua=/^[0-9a-f]{4}$/i;function Ba(t,e,n){this.parser=t,this.tokens=e,this.current=null,this.nextToken=null,this.next(),this.savedCurrent=null,this.savedNextToken=null,this.allowMemberAccess=!1!==n.allowMemberAccess,this.restrictMemberAccess=new Set(n.restrictMemberAccess||[])}Fa.prototype.unescape=function(t){var e=t.indexOf("\\");if(e<0)return t;for(var n=t.substring(0,e);e>=0;){var r=t.charAt(++e);switch(r){case"'":n+="'";break;case'"':n+='"';break;case"\\":n+="\\";break;case"/":n+="/";break;case"b":n+="\b";break;case"f":n+="\f";break;case"n":n+="\n";break;case"r":n+="\r";break;case"t":n+="\t";break;case"u":var i=t.substring(e+1,e+5);Ua.test(i)||this.parseError("Illegal escape sequence: \\u"+i),n+=String.fromCharCode(parseInt(i,16)),e+=4;break;default:throw this.parseError('Illegal escape sequence: "\\'+r+'"')}++e;var o=t.indexOf("\\",e);n+=t.substring(e,o<0?t.length:o),e=o}return n},Fa.prototype.isComment=function(){return"/"===this.expression.charAt(this.pos)&&"*"===this.expression.charAt(this.pos+1)&&(this.pos=this.expression.indexOf("*/",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0)},Fa.prototype.isRadixInteger=function(){var t,e,n=this.pos;if(n>=this.expression.length-2||"0"!==this.expression.charAt(n))return!1;if(++n,"x"===this.expression.charAt(n))t=16,e=/^[0-9a-f]$/i,++n;else{if("b"!==this.expression.charAt(n))return!1;t=2,e=/^[01]$/i,++n}for(var r=!1,i=n;n<this.expression.length;){var o=this.expression.charAt(n);if(!e.test(o))break;n++,r=!0}return r&&(this.current=this.newToken("TNUMBER",parseInt(this.expression.substring(i,n),t)),this.pos=n),r},Fa.prototype.isNumber=function(){for(var t,e=!1,n=this.pos,r=n,i=n,o=!1,a=!1;n<this.expression.length&&((t=this.expression.charAt(n))>="0"&&t<="9"||!o&&"."===t);)"."===t?o=!0:a=!0,n++,e=a;if(e&&(i=n),"e"===t||"E"===t){n++;for(var s=!0,l=!1;n<this.expression.length;){if(t=this.expression.charAt(n),!s||"+"!==t&&"-"!==t){if(!(t>="0"&&t<="9"))break;l=!0,s=!1}else s=!1;n++}l||(n=i)}return e?(this.current=this.newToken("TNUMBER",parseFloat(this.expression.substring(r,n))),this.pos=n):this.pos=i,e},Fa.prototype.isOperator=function(){var t=this.pos,e=this.expression.charAt(this.pos);if("+"===e||"-"===e||"*"===e||"/"===e||"%"===e||"^"===e||"?"===e||":"===e||"."===e)this.current=this.newToken(Pa,e);else if("â"===e||"â¢"===e)this.current=this.newToken(Pa,"*");else if(">"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Pa,">="),this.pos++):this.current=this.newToken(Pa,">");else if("<"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Pa,"<="),this.pos++):this.current=this.newToken(Pa,"<");else if("|"===e){if("|"!==this.expression.charAt(this.pos+1))return!1;this.current=this.newToken(Pa,"||"),this.pos++}else if("="===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Pa,"=="),this.pos++):this.current=this.newToken(Pa,e);else{if("!"!==e)return!1;"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Pa,"!="),this.pos++):this.current=this.newToken(Pa,e)}return this.pos++,!!this.isOperatorEnabled(this.current.value)||(this.pos=t,!1)},Fa.prototype.isOperatorEnabled=function(t){return this.parser.isOperatorEnabled(t)},Fa.prototype.getCoordinates=function(){var t,e=0,n=-1;do{e++,t=this.pos-n,n=this.expression.indexOf("\n",n+1)}while(n>=0&&n<this.pos);return{line:e,column:t}},Fa.prototype.parseError=function(t){var e=this.getCoordinates();throw new Error("parse error ["+e.line+":"+e.column+"]: "+t)},Ba.prototype.next=function(){return this.current=this.nextToken,this.nextToken=this.tokens.next()},Ba.prototype.tokenMatches=function(t,e){return void 0===e||(Array.isArray(e)?Aa(e,t.value):"function"==typeof e?e(t):t.value===e)},Ba.prototype.save=function(){this.savedCurrent=this.current,this.savedNextToken=this.nextToken,this.tokens.save()},Ba.prototype.restore=function(){this.tokens.restore(),this.current=this.savedCurrent,this.nextToken=this.savedNextToken},Ba.prototype.accept=function(t,e){return!(this.nextToken.type!==t||!this.tokenMatches(this.nextToken,e)||(this.next(),0))},Ba.prototype.expect=function(t,e){if(!this.accept(t,e)){var n=this.tokens.getCoordinates();throw new Error("parse error ["+n.line+":"+n.column+"]: Expected "+(e||t))}},Ba.prototype.parseAtom=function(t){var e=this.tokens.unaryOps;if(this.accept("TNAME")||this.accept(Pa,(function(t){return t.value in e})))t.push(new Na("IVAR",this.current.value));else if(this.accept("TNUMBER"))t.push(new Na("INUMBER",this.current.value));else if(this.accept("TSTRING"))t.push(new Na("INUMBER",this.current.value));else if(this.accept(za,"("))this.parseExpression(t),this.expect(za,")");else{if(!this.accept("TBRACKET","["))throw new Error("unexpected "+this.nextToken);if(this.accept("TBRACKET","]"))t.push(new Na("IARRAY",0));else{var n=this.parseArrayList(t);t.push(new Na("IARRAY",n))}}},Ba.prototype.parseExpression=function(t){var e=[];this.parseUntilEndStatement(t,e)||(this.parseVariableAssignmentExpression(e),this.parseUntilEndStatement(t,e)||this.pushExpression(t,e))},Ba.prototype.pushExpression=function(t,e){for(var n=0,r=e.length;n<r;n++)t.push(e[n])},Ba.prototype.parseUntilEndStatement=function(t,e){return!!this.accept("TSEMICOLON")&&(!this.nextToken||"TEOF"===this.nextToken.type||this.nextToken.type===za&&")"===this.nextToken.value||e.push(new Na("IENDSTATEMENT")),"TEOF"!==this.nextToken.type&&this.parseExpression(e),t.push(new Na(Oa,e)),!0)},Ba.prototype.parseArrayList=function(t){for(var e=0;!this.accept("TBRACKET","]");)for(this.parseExpression(t),++e;this.accept("TCOMMA");)this.parseExpression(t),++e;return e},Ba.prototype.parseVariableAssignmentExpression=function(t){for(this.parseConditionalExpression(t);this.accept(Pa,"=");){var e=t.pop(),n=[],r=t.length-1;if("IFUNCALL"!==e.type){if("IVAR"!==e.type&&"IMEMBER"!==e.type)throw new Error("expected variable for assignment");this.parseVariableAssignmentExpression(n),t.push(new Na("IVARNAME",e.value)),t.push(new Na(Oa,n)),t.push(La("="))}else{if(!this.tokens.isOperatorEnabled("()="))throw new Error("function definition is not permitted");for(var i=0,o=e.value+1;i<o;i++){var a=r-i;"IVAR"===t[a].type&&(t[a]=new Na("IVARNAME",t[a].value))}this.parseVariableAssignmentExpression(n),t.push(new Na(Oa,n)),t.push(new Na("IFUNDEF",e.value))}}},Ba.prototype.parseConditionalExpression=function(t){for(this.parseOrExpression(t);this.accept(Pa,"?");){var e=[],n=[];this.parseConditionalExpression(e),this.expect(Pa,":"),this.parseConditionalExpression(n),t.push(new Na(Oa,e)),t.push(new Na(Oa,n)),t.push(new Na("IOP3","?"))}},Ba.prototype.parseOrExpression=function(t){for(this.parseAndExpression(t);this.accept(Pa,"or");){var e=[];this.parseAndExpression(e),t.push(new Na(Oa,e)),t.push(La("or"))}},Ba.prototype.parseAndExpression=function(t){for(this.parseComparison(t);this.accept(Pa,"and");){var e=[];this.parseComparison(e),t.push(new Na(Oa,e)),t.push(La("and"))}};var Ha=["==","!=","<","<=",">=",">","in"];Ba.prototype.parseComparison=function(t){for(this.parseAddSub(t);this.accept(Pa,Ha);){var e=this.current;this.parseAddSub(t),t.push(La(e.value))}};var Ya=["+","-","||"];Ba.prototype.parseAddSub=function(t){for(this.parseTerm(t);this.accept(Pa,Ya);){var e=this.current;this.parseTerm(t),t.push(La(e.value))}};var Wa=["*","/","%"];Ba.prototype.parseTerm=function(t){for(this.parseFactor(t);this.accept(Pa,Wa);){var e=this.current;this.parseFactor(t),t.push(La(e.value))}},Ba.prototype.parseFactor=function(t){var e=this.tokens.unaryOps;if(this.save(),this.accept(Pa,(function(t){return t.value in e}))){if("-"!==this.current.value&&"+"!==this.current.value){if(this.nextToken.type===za&&"("===this.nextToken.value)return this.restore(),void this.parseExponential(t);if("TSEMICOLON"===this.nextToken.type||"TCOMMA"===this.nextToken.type||"TEOF"===this.nextToken.type||this.nextToken.type===za&&")"===this.nextToken.value)return this.restore(),void this.parseAtom(t)}var n=this.current;this.parseFactor(t),t.push(Sa(n.value))}else this.parseExponential(t)},Ba.prototype.parseExponential=function(t){for(this.parsePostfixExpression(t);this.accept(Pa,"^");)this.parseFactor(t),t.push(La("^"))},Ba.prototype.parsePostfixExpression=function(t){for(this.parseFunctionCall(t);this.accept(Pa,"!");)t.push(Sa("!"))},Ba.prototype.parseFunctionCall=function(t){var e=this.tokens.unaryOps;if(this.accept(Pa,(function(t){return t.value in e}))){var n=this.current;this.parseAtom(t),t.push(Sa(n.value))}else for(this.parseMemberExpression(t);this.accept(za,"(");)if(this.accept(za,")"))t.push(new Na("IFUNCALL",0));else{var r=this.parseArgumentList(t);t.push(new Na("IFUNCALL",r))}},Ba.prototype.parseArgumentList=function(t){for(var e=0;!this.accept(za,")");)for(this.parseExpression(t),++e;this.accept("TCOMMA");)this.parseExpression(t),++e;return e},Ba.prototype.parseMemberExpression=function(t){for(this.parseAtom(t);this.accept(Pa,".")||this.accept("TBRACKET","[");){var e=this.current;if("."===e.value){if(!this.allowMemberAccess)throw new Error('unexpected ".", member access is not permitted');if(this.restrictMemberAccess.has(this.nextToken.value))throw new Error('access to member "'+this.nextToken.value+'" is not permitted');this.expect("TNAME"),t.push(new Na("IMEMBER",this.current.value))}else{if("["!==e.value)throw new Error("unexpected symbol: "+e.value);if(!this.tokens.isOperatorEnabled("["))throw new Error('unexpected "[]", arrays are disabled');this.parseExpression(t),this.expect("TBRACKET","]"),t.push(La("["))}}};const{add:qa,sub:Ga,mul:Va,div:Xa,mod:Ka,equal:Za,notEqual:Ja,greaterThan:Qa,lessThan:ts,greaterThanEqual:es,lessThanEqual:ns,andOperator:rs,orOperator:is,log10:os,neg:as,not:ss,trunc:ls,random:cs,stringOrArrayLength:us,condition:fs,roundTo:hs,arrayIndex:ps,max:ds,min:gs,sum:ms,arrayMap:ys,arrayFold:vs,arrayFilter:bs,sign:xs,log1p:ws,log2:ks}=$a;function Ms(t,e){this.tokens=t,this.parser=e,this.unaryOps=e.unaryOps,this.binaryOps=e.binaryOps,this.ternaryOps=e.ternaryOps,this.functions=e.functions}function _s(t){return t.trim()}Ms.prototype.evaluate=function(t){return t=t||{},Ca(this.tokens,this,t)},Ms.prototype.variables=function(){return(this.tokens||[]).filter(t=>"IVAR"===t.type).map(t=>t.value)};const As=new Set(["__proto__","prototype","constructor"]);function Es(t){this.options=t||{},this.unaryOps={SIN:Math.sin,COS:Math.cos,TAN:Math.tan,ASIN:Math.asin,ACOS:Math.acos,ATAN:Math.atan,SQRT:Math.sqrt,LOG:Math.log,LOG2:Math.log2||ks,LN:Math.log,LOG10:Math.log10||os,LG:Math.log10||os,LOG1P:Math.log1p||ws,ABS:Math.abs,CEIL:Math.ceil,FLOOR:Math.floor,ISNULL:t=>null===t,TRUNC:Math.trunc||ls,"-":as,"+":Number,EXP:Math.exp,NOT:ss,LENGTH:us,"!":ss,SIGN:Math.sign||xs,TEXT:t=>e(t)?t.toISOString():String(t),NUMBER:Number},this.binaryOps={"+":qa,"-":Ga,"*":Va,"/":Xa,"%":Ka,"^":Math.pow,"==":Za,"!=":Ja,">":Qa,"<":ts,">=":es,"<=":ns,and:rs,or:is,in:(t,e)=>Array.isArray(e)?e.includes(t):String(e).includes(t),"[":ps},this.ternaryOps={"?":fs};const e=t=>t instanceof Date&&!isNaN(t),n=t=>{if(e(t))return t;try{const n=new Date(t);return e(n)?n:null}catch(t){return null}};function r(t){return(1===arguments.length&&Array.isArray(t)?t:Array.from(arguments)).slice(0).filter(t=>!isNaN(t)&&Number.isFinite(t))}let i=/\w*/g,o=/\w\S*/g;const a=/[\\^$*+?.()|[\]{}]/g;try{i=new RegExp("\\p{L}*","ug"),o=new RegExp("[\\p{L}\\p{N}]\\S*","ug")}catch(t){}this.functions={IF:fs,RANDOM:cs,MIN(){const t=r.apply(this,arguments);return gs(t)},MAX(){return ds(r.apply(this,arguments))},SUM(){return ms(r.apply(this,arguments))},MEAN(){const t=r.apply(this,arguments);return ms(t)/t.length},MEDIAN(){const t=r.apply(this,arguments).sort((t,e)=>t-e),e=Math.floor(t.length/2);return t.length%2==1?t[e]:.5*(t[e-1]+t[e])},POW:Math.pow,ATAN2:Math.atan2,ROUND:hs,CONCAT(){return Array.from(arguments).join("")},TRIM:_s,SUBSTR:(t,e,n)=>t.substr(e,n),REPLACE:(t,e,n)=>t.replace(new RegExp(String(e).replace(a,"\\$&"),"g"),n),REPLACE_REGEX:(t,e,n)=>t.replace(new RegExp(e,"g"),n),SPLIT:(t,e)=>String(t).split(e),LOWER:t=>String(t).toLowerCase(),UPPER:t=>String(t).toUpperCase(),PROPER:t=>String(t).replace(i,t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()),TITLE:t=>String(t).replace(o,t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()),SORT(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(As.has(n))throw new Error("Invalid key");if(!Array.isArray(t))throw new Error("First argument to SORT is not an array");return t.slice(0).sort((t,r)=>((t="string"==typeof n?t[n]:"function"==typeof n?n(t):t)>(r="string"==typeof n?r[n]:"function"==typeof n?n(r):r)?1:t<r?-1:0)*(e?1:-1))},SLICE(t,e,n){if(!Array.isArray(t))throw new Error("First argument to SLICE is not an array");return t.slice(e,n)},JOIN(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!Array.isArray(t))throw new Error("First argument to JOIN is not an array");return n?[t.slice(0,t.length-1).join(e),t[t.length-1]].join(n):t.join(e)},MAP:ys,FOLD:vs,FILTER:bs,PLUCK(t,e){if(As.has(e))throw new Error("Invalid key");if(!Array.isArray(t))throw new Error("First argument to PLUCK is not an array");return t.map(t=>Object.prototype.hasOwnProperty.call(t,e)?t[e]:null)},INDEXOF:(t,e)=>(Array.isArray(t)||(t=String(t)),t.indexOf(e)),FIND(t,e){if(!Array.isArray(t))throw new Error("First argument to FIND is not an array");if("function"!=typeof e)throw new Error("Second argument to FIND is not a function");const n=t.length;for(let r=0;r<n;r++)if(e(t[r]))return t[r];return null},RANGE(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i},EVERY(t,e){if(!Array.isArray(t))throw new Error("First argument to EVERY is not an array");if("function"!=typeof e)throw new Error("Second argument to EVERY is not a function");const n=t.length;let r=!0;for(let i=0;i<n;i++)if(r=r&&e(t[i]),!r)return!1;return!0},SOME(t,e){if(!Array.isArray(t))throw new Error("First argument to SOME is not an array");if("function"!=typeof e)throw new Error("Second argument to SOME is not a function");const n=t.length;let r=!1;for(let i=0;i<n;i++)if(r=r||e(t[i]),r)return!0;return!1},DATE(){return arguments.length>1&&(arguments[1]=arguments[1]-1),new Date(...arguments)},YEAR:t=>(t=n(t))?t.getFullYear():null,MONTH:t=>(t=n(t))?t.getMonth()+1:null,DAY:t=>(t=n(t))?t.getDate():null,WEEKDAY:t=>(t=n(t))?t.getDay():null,HOURS:t=>(t=n(t))?t.getHours():null,MINUTES:t=>(t=n(t))?t.getMinutes():null,SECONDS:t=>(t=n(t))?t.getSeconds():null,DATEDIFF:(t,e)=>(t=n(t),e=n(e),t&&e?(e.getTime()-t.getTime())/864e5:null),TIMEDIFF:(t,e)=>(t=n(t),e=n(e),t&&e?(e.getTime()-t.getTime())/1e3:null)},this.unaryOps.LOWER=this.functions.LOWER,this.unaryOps.UPPER=this.functions.UPPER,this.unaryOps.PROPER=this.functions.PROPER,this.unaryOps.TITLE=this.functions.TITLE,this.unaryOps.TRIM=this.functions.TRIM,this.unaryOps.YEAR=this.functions.YEAR,this.unaryOps.MONTH=this.functions.MONTH,this.unaryOps.DAY=this.functions.DAY,this.unaryOps.WEEKDAY=this.functions.WEEKDAY,this.unaryOps.HOURS=this.functions.HOURS,this.unaryOps.MINUTES=this.functions.MINUTES,this.unaryOps.SECONDS=this.functions.SECONDS,this.consts={E:Math.E,PI:Math.PI,TRUE:!0,FALSE:!1,NA:Number.NaN,NULL:Number.NaN}}Es.prototype.parse=function(t){var e=[],n=new Ba(this,new Fa(this,t),{allowMemberAccess:!0,restrictMemberAccess:As});return n.parseExpression(e),n.expect("TEOF","EOF"),new Ms(e,this)},Es.prototype.evaluate=function(t,e){return this.parse(t).evaluate(e)};var Ts=new Es;Es.parse=function(t){return Ts.parse(t)},Es.evaluate=function(t,e){return Ts.parse(t).evaluate(e)},Es.keywords=["ABS","ACOS","ACOSH","and","ASIN","ASINH","ATAN","ATAN2","ATANH","CBRT","CEIL","CONCAT","COS","COSH","DATEDIFF","DAY","E","EVERY","EXP","EXPM1","FIND","FLOOR","HOURS","IF","in","INDEXOF","ISNULL","JOIN","LENGTH","LN","LOG","LOG10","LOG1P","LOG2","LOWER","MAP","MAX","MEAN","MEDIAN","MIN","MINUTES","MONTH","NOT","NOT","or","PI","PLUCK","POW","PROPER","RANDOM","RANGE","REPLACE","REPLACE_REGEX","ROUND","SECONDS","SIGN","SIN","SINH","SLICE","SOME","SORT","SPLIT","SQRT","SUBSTR","SUM","TAN","TANH","TIMEDIFF","TITLE","TRIM","TRUNC","UPPER","WEEKDAY","YEAR"];var $s={"+":"add","-":"subtract","*":"multiply","/":"divide","%":"remainder","^":"power","!":"factorial","<":"comparison",">":"comparison","<=":"comparison",">=":"comparison","==":"comparison","!=":"comparison","||":"concatenate",AND:"logical",OR:"logical",NOT:"logical",IN:"logical","?":"conditional",":":"conditional","=":"assignment","[":"array","()=":"fndef"};Es.prototype.isOperatorEnabled=function(t){var e=function(t){return Object.prototype.hasOwnProperty.call($s,t)?$s[t]:t}(t),n=this.options.operators||{};return!(e in n)||!!n[e]};const Os={color:{prop:"color"},fontWeight:{prop:"font-weight"},fontStretch:{prop:"font-stretch"},typeface:{prop:"font-family"},textTransform:{prop:"text-transform"},letterSpacing:{tsf:t=>Ns(t),prop:"letter-spacing"},fontSize:{prop:"font-size",tsf:t=>Ns(t)},lineHeight:{prop:"line-height",tsf:t=>{return"%UNDEFINED%"===(e=t)?e:e>3?"".concat(e,"px"):String(e);var e}},underlined:{prop:"text-decoration",tsf:t=>t?"underline":"none"},cursive:{prop:"font-style",tsf:t=>t?"italic":"normal"}};function Ns(t){return"%UNDEFINED%"===t?t:Number.isFinite(t)?"".concat(t,"px"):t}function Ss(t,e,n){if(2===t.version){for(const n of["chart","bodyCenter","bodyTop","body"])if(_a(t,["blocks",n,"styles","typography",e]))return aa(t,["blocks",n,"styles","typography",e]);return n}return aa(t,"typography.chart.".concat(e),n)}function Ls(t){const{fallbackBaseColor:e}=sa(t,oa);return{fallback:e,tooltipText:aa(t,"vis.d3-lines.labels.tooltip.color",Ss(t,"color",e))}}function Cs(t){switch(t){case"cardinal":return Ui;case"step":return to;case"step-before":return eo;case"step-after":return no;case"natural":return Ji;case"basis":return zi;case"catmull-rom":return Hi;case"monotone-x":return Xi;default:case"linear":return Si}}function Ds(){}function Rs(t){return t()}function Is(){return Object.create(null)}function Ps(t){t.forEach(Rs)}function zs(t){return"function"==typeof t}function js(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}const Fs="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function Us(t,e){t.appendChild(e)}function Bs(t,e,n){const r=function(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}(t);if(!r.getElementById(e)){const t=qs("style");t.id=e,t.textContent=n,function(t,e){Us(t.head||t,e),e.sheet}(r,t)}}function Hs(t,e,n){t.insertBefore(e,n||null)}function Ys(t){t.parentNode&&t.parentNode.removeChild(t)}function Ws(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function qs(t){return document.createElement(t)}function Gs(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Vs(t){return document.createTextNode(t)}function Xs(){return Vs(" ")}function Ks(){return Vs("")}function Zs(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function Js(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function Qs(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function tl(t){return Array.from(t.childNodes)}function el(t,e){e=""+e,t.data!==e&&(t.data=e)}function nl(t,e,n,r){null==n?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function rl(t,e,n){t.classList[n?"add":"remove"](e)}function il(t,e){let{bubbles:n=!1,cancelable:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,r,e),i}class ol{constructor(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.is_svg=!1,this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.e||(this.is_svg?this.e=Gs(e.nodeName):this.e=qs(11===e.nodeType?"TEMPLATE":e.nodeName),this.t="TEMPLATE"!==e.tagName?e:e.content,this.c(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from("TEMPLATE"===this.e.nodeName?this.e.content.childNodes:this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)Hs(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(Ys)}}let al;function sl(t){al=t}function ll(){if(!al)throw new Error("Function called outside component initialization");return al}function cl(t){ll().$$.after_update.push(t)}function ul(){const t=ll();return function(e,n){let{cancelable:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=t.$$.callbacks[e];if(i){const o=il(e,n,{cancelable:r});return i.slice().forEach(e=>{e.call(t,o)}),!o.defaultPrevented}return!0}}function fl(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(t=>t.call(this,e))}const hl=[],pl=[];let dl=[];const gl=[],ml=Promise.resolve();let yl=!1;function vl(){yl||(yl=!0,ml.then(Ml))}function bl(t){dl.push(t)}function xl(t){gl.push(t)}const wl=new Set;let kl=0;function Ml(){if(0!==kl)return;const t=al;do{try{for(;kl<hl.length;){const t=hl[kl];kl++,sl(t),_l(t.$$)}}catch(t){throw hl.length=0,kl=0,t}for(sl(null),hl.length=0,kl=0;pl.length;)pl.pop()();for(let t=0;t<dl.length;t+=1){const e=dl[t];wl.has(e)||(wl.add(e),e())}dl.length=0}while(hl.length);for(;gl.length;)gl.pop()();yl=!1,wl.clear(),sl(t)}function _l(t){if(null!==t.fragment){t.update(),Ps(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(bl)}}const Al=new Set;let El;function Tl(){El={r:0,c:[],p:El}}function $l(){El.r||Ps(El.c),El=El.p}function Ol(t,e){t&&t.i&&(Al.delete(t),t.i(e))}function Nl(t,e,n,r){if(t&&t.o){if(Al.has(t))return;Al.add(t),El.c.push(()=>{Al.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function Sl(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function Ll(t){t&&t.c()}function Cl(t,e,n,r){const{fragment:i,after_update:o}=t.$$;i&&i.m(e,n),r||bl(()=>{const e=t.$$.on_mount.map(Rs).filter(zs);t.$$.on_destroy?t.$$.on_destroy.push(...e):Ps(e),t.$$.on_mount=[]}),o.forEach(bl)}function Dl(t,e){const n=t.$$;null!==n.fragment&&(function(t){const e=[],n=[];dl.forEach(r=>-1===t.indexOf(r)?e.push(r):n.push(r)),n.forEach(t=>t()),dl=e}(n.after_update),Ps(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Rl(t,e){-1===t.$$.dirty[0]&&(hl.push(t),vl(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Il(t,e,n,r,i,o,a){let s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[-1];const l=al;sl(t);const c=t.$$={fragment:null,ctx:[],props:o,update:Ds,not_equal:i,bound:Is(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:Is(),dirty:s,skip_bound:!1,root:e.target||l.$$.root};a&&a(c.root);let u=!1;if(c.ctx=n?n(t,e.props||{},(function(e,n){const r=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:n;return c.ctx&&i(c.ctx[e],c.ctx[e]=r)&&(!c.skip_bound&&c.bound[e]&&c.bound[e](r),u&&Rl(t,e)),n})):[],c.update(),u=!0,Ps(c.before_update),c.fragment=!!r&&r(c.ctx),e.target){if(e.hydrate){const t=tl(e.target);c.fragment&&c.fragment.l(t),t.forEach(Ys)}else c.fragment&&c.fragment.c();e.intro&&Ol(t.$$.fragment),Cl(t,e.target,e.anchor,e.customElement),Ml()}sl(l)}class Pl{$destroy(){Dl(this,1),this.$destroy=Ds}$on(t,e){if(!zs(e))return Ds;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function zl(){window.getSelection().removeAllRanges()}function jl(t){let{start:e,end:n,bounds:r,type:i,move:o}=t;const a="x"===i?r.x:r.y,s="x"===i?r.x+r.width:r.y+r.height;return function(t,e,n,r){return t>=n&&e<=r}(e,n,a,s)||function(t,e,n){return t>e&&n<0}(n,s,o)||function(t,e,n){return t<e&&n>0}(e,a,o)}function Fl(t){Bs(t,"svelte-gqfmpf",".resizers.svelte-gqfmpf.svelte-gqfmpf{width:100%;height:100%;position:absolute;top:0;left:0;pointer-events:none}.resizer.svelte-gqfmpf.svelte-gqfmpf{position:absolute;display:flex;align-items:center;justify-content:center;pointer-events:auto}.resizer.x.svelte-gqfmpf.svelte-gqfmpf{top:0;width:5px;height:100%;cursor:ew-resize}.resizer.y.svelte-gqfmpf.svelte-gqfmpf{height:5px;width:100%;left:0;cursor:ns-resize}.resizer.drag.svelte-gqfmpf.svelte-gqfmpf{cursor:grab}.resizer.drag.svelte-gqfmpf.svelte-gqfmpf:active{cursor:grabbing}.resizer-inner.svelte-gqfmpf.svelte-gqfmpf{position:absolute;border-radius:2px;background:rgba(255, 0, 221, 0.35);opacity:0;transition:opacity 0.2s}.resizer.x.svelte-gqfmpf .resizer-inner.svelte-gqfmpf{width:5px;height:50%;min-height:10px;max-height:40px}.resizer.y.svelte-gqfmpf .resizer-inner.svelte-gqfmpf{height:5px;width:50%;min-width:10px;max-width:40px}.text:hover .resizer-inner.svelte-gqfmpf.svelte-gqfmpf,.range-annotation:hover .resizer-inner.svelte-gqfmpf.svelte-gqfmpf{opacity:1}")}function Ul(t,e,n){const r=t.slice();return r[21]=e[n],r}function Bl(t){let e,n,r,i,o,a,s;function l(...e){return t[18](t[21],...e)}return{c(){e=qs("div"),n=qs("div"),r=Xs(),Qs(n,"class","resizer-inner svelte-gqfmpf"),Qs(e,"class",i="resizer "+t[6]+" svelte-gqfmpf"),Qs(e,"style",o=t[8](t[21],t[5],t[1],t[2])),rl(e,"drag","line"===t[0].display),nl(e,"display",Yl(t[21],t[3],t[4])?"none":null)},m(t,i){Hs(t,e,i),Us(e,n),Us(e,r),a||(s=Zs(e,"mousedown",l),a=!0)},p(n,r){t=n,64&r&&i!==(i="resizer "+t[6]+" svelte-gqfmpf")&&Qs(e,"class",i),166&r&&o!==(o=t[8](t[21],t[5],t[1],t[2]))&&Qs(e,"style",o),65&r&&rl(e,"drag","line"===t[0].display),(166&r||190&r)&&nl(e,"display",Yl(t[21],t[3],t[4])?"none":null)},d(t){t&&Ys(e),a=!1,s()}}}function Hl(t){let e,n=t[7],r=[];for(let e=0;e<n.length;e+=1)r[e]=Bl(Ul(t,n,e));return{c(){e=qs("div");for(let t=0;t<r.length;t+=1)r[t].c();Qs(e,"class","resizers svelte-gqfmpf")},m(t,n){Hs(t,e,n);for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,null)},p(t,[i]){if(1023&i){let o;for(n=t[7],o=0;o<n.length;o+=1){const a=Ul(t,n,o);r[o]?r[o].p(a,i):(r[o]=Bl(a),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},i:Ds,o:Ds,d(t){t&&Ys(e),Ws(r,t)}}}function Yl(t,e,n){return e&&("t"===t||"l"===t)||n&&("b"===t||"r"===t)}function Wl(t,e,n){let r,i,o,a;const s=ul();let{annotation:l}=e,{type:c}=e,{index:u}=e,{repeatedIndex:f}=e,{activeResizer:h}=e,{resizing:p}=e,{noOffsetAtEventStart:d}=e,{orientation:g}=e,{lineOverPlotStart:m=!1}=e,{lineOverPlotEnd:y=!1}=e,{rangeOverPlotStart:v=!1}=e,{rangeOverPlotEnd:b=!1}=e;const x={l:"left",r:"right",t:"top",b:"bottom"};function w(t,e){t.stopPropagation(),zl(),s("selectAnnotation",{type:c,index:u,repeatedIndex:f}),void 0===l.width&&s("setWidth"),n(10,h=e),n(11,p=!0),n(12,d=0===l.dx&&0===l.dy)}return t.$$set=t=>{"annotation"in t&&n(0,l=t.annotation),"type"in t&&n(13,c=t.type),"index"in t&&n(14,u=t.index),"repeatedIndex"in t&&n(15,f=t.repeatedIndex),"activeResizer"in t&&n(10,h=t.activeResizer),"resizing"in t&&n(11,p=t.resizing),"noOffsetAtEventStart"in t&&n(12,d=t.noOffsetAtEventStart),"orientation"in t&&n(16,g=t.orientation),"lineOverPlotStart"in t&&n(1,m=t.lineOverPlotStart),"lineOverPlotEnd"in t&&n(2,y=t.lineOverPlotEnd),"rangeOverPlotStart"in t&&n(3,v=t.rangeOverPlotStart),"rangeOverPlotEnd"in t&&n(4,b=t.rangeOverPlotEnd)},t.$$.update=()=>{65537&t.$$.dirty&&n(7,r="y"===g?"line"===l.display?["t"]:["t","b"]:"line"===l.display?["l"]:["l","r"]),65536&t.$$.dirty&&n(6,i="y"===g?"y":"x"),1&t.$$.dirty&&n(17,o=l.strokeWidth||1),131073&t.$$.dirty&&n(5,a="line"===l.display?o:1)},[l,m,y,v,b,a,i,r,function(t,e,n,r){let i=e/2+2.5;return n&&(i-=e),r&&(i+=e),`${x[t]}: -${i}px`},w,h,p,d,c,u,f,g,o,(t,e)=>w(e,t)]}class ql extends Pl{constructor(t){super(),Il(this,t,Wl,Hl,js,{annotation:0,type:13,index:14,repeatedIndex:15,activeResizer:10,resizing:11,noOffsetAtEventStart:12,orientation:16,lineOverPlotStart:1,lineOverPlotEnd:2,rangeOverPlotStart:3,rangeOverPlotEnd:4},Fl)}}const Gl=Math.cos(.25*Math.PI),Vl=Math.sin(.25*Math.PI);function Xl(t){let[e,n]=t;return[e*Gl-n*Vl,e*Vl+n*Gl]}function Kl(t){let[e,n]=t;return[e*Gl+n*Vl,n*Gl-e*Vl]}function Zl(t,e,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i=r?1:0,o=(n-t[i])/(e[i]-t[i]);if(o<0||o>1)return null;const a=r?0:1;return t[a]+o*(e[a]-t[a])}function Jl(t,e,n,r,i,o,a){if(r!==o&&i!==a)throw new Error("only horizontal and vertical lines are supported");const s=i===a;return function(t,e,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];const o=i?1:0;let a=t[o]-2*e[o]+n[o];a||(a=.1);const s=2*(e[o]-t[o]),l=t[o]-r,c=(-s+Math.sqrt(s*s-4*a*l))/(2*a),u=(-s-Math.sqrt(s*s-4*a*l))/(2*a),f=i?0:1,h=[];if(c>=0&&c<=1){const o=Math.pow(1-c,2)*t[f]+2*(1-c)*c*e[f]+c*c*n[f];h.push(i?[o,r,c]:[r,o,c])}if(u>=0&&u<=1){const o=Math.pow(1-u,2)*t[f]+2*(1-u)*u*e[f]+u*u*n[f];h.push(i?[o,r,u]:[r,o,u])}return h}(t,e,n,s?i:r,s).filter(t=>{let[e,n]=t;return s?e>=r&&e<=o:n>=i&&n<=a})}function Ql(t,e,n,r,i,o,a){const s=[[r,i,r+o,i],[r+o,i,r+o,i+a],[r,i+a,r+o,i+a],[r,i,r,i+a]],l=[];for(const r of s){const i=Jl(t,e,n,...r);for(const t of i)l.push(t)}return l}function tc(t,e,n,r){const i=Math.pow(1-r,2)*t[0]+2*(1-r)*r*e[0]+r*r*n[0],o=Math.pow(1-r,2)*t[1]+2*(1-r)*r*e[1]+r*r*n[1];return[t,[(1-r)*t[0]+r*e[0],(1-r)*t[1]+r*e[1]],[i,o],[i,o],[(1-r)*e[0]+r*n[0],(1-r)*e[1]+r*n[1]],n]}function ec(t,e,n,r){let i,o,a=0,s=1,l=20;do{if(i=.5*(a+s),o=c(i),Math.abs(o-r)<.1)return i;o>r?a=i:s=i}while(l-- >0);return i;function c(r){const i=(1-r)**2*t[0]+2*(1-r)*r*e[0]+r*r*n[0],o=(1-r)**2*t[1]+2*(1-r)*r*e[1]+r*r*n[1];return Math.sqrt((i-n[0])**2+(o-n[1])**2)}}function nc(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.25,o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];const a=n-t,s=r-e,l=s,c=-a,u=.5*(t+n),f=.5*(e+r),h=Math.sqrt(l*l+c*c),p=Math.sqrt(a*a+s*s),d=p*i/h*(o?-1:1),g=u+l*d,m=f+c*d;return[g,m]}function rc(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(e){let{source:n,sourcePadding:r,targetPadding:i,circle:o,circleRadius:a}=e;return e=>{o&&a&&(i+=a),r>0&&(n={...n},n.x-=r,n.y-=r,n.width+=2*r,n.height+=2*r);let s=n.x+.5*n.width,l=n.y+.5*n.height,c=0,u=0,[f,h]=nc(s,l,c,u,.3,t);const p=Ql([s,l],[f,h],[c,u],n.x,n.y,n.width,n.height);if(p.length>0){const t=p.map(t=>{let[,,e]=t;return e}).sort((t,e)=>e-t),[,,,e,n]=tc([s,l],[f,h],[c,u],t[0]);[s,l]=e,[f,h]=n}if(i>0){const t=ec([s,l],[f,h],[c,u],i),[,e,n]=tc([s,l],[f,h],[c,u],t);[f,h]=e,[c,u]=n}e.attr("d","M ".concat(s,",").concat(l," Q ").concat(f,",").concat(h," ").concat(c,",").concat(u))}}}const ic=rc(!0),oc=rc(!1);var ac=Object.freeze({__proto__:null,straight:function(t){let{source:e,sourcePadding:n,targetPadding:r,circle:i,circleRadius:o}=t;return t=>{i&&o&&(r+=o),n&&(e={...e},e.x-=n,e.y-=n,e.width+=2*n,e.height+=2*n);let a=e.x+.5*e.width,s=e.y+.5*e.height,l=0,c=0,u=!0,f=-a,h=-s;const p=e.height/e.width;if(2*Math.abs(a)<e.width)a=0,l=0,c=r*(s>0?1:-1),s+=.5*e.height*(s<0?1:-1),u=!1;else if(2*Math.abs(s)<e.height)s=0,c=0,l=r*(a>0?1:-1),a+=.5*e.width*(a<0?1:-1),u=!1;else{const[t,n]=Xl([-.5*e.width,0]),[r,i]=Xl([.5*e.width,0]),[o,l]=Xl([0,-.5*e.height]),[c,u]=Xl([0,.5*e.height]),[d,g]=Xl([-a,-s]);let m,y;if(a>0&&s>0&&d>=t&&d<=o){const[r,i]=Xl([-.5*e.width,-.5*e.height]),a=Zl(d<r?[t,n]:[o,l],[r,i],d,!1);[m,y]=Kl([d,a])}else if(a<0&&s<0&&d>=c&&d<=r){const[t,n]=Xl([.5*e.width,.5*e.height]),o=Zl(d<t?[c,u]:[r,i],[t,n],d,!1);[m,y]=Kl([d,o])}else if(a>0&&s<0&&g>=n&&g<=u){const[r,i]=Xl([-.5*e.width,.5*e.height]),o=Zl(g<i?[t,n]:[c,u],[r,i],g,!0);[m,y]=Kl([o,g])}else if(a<0&&s>0&&g>=l&&g<=i){const[t,n]=Xl([.5*e.width,-.5*e.height]),a=Zl(g<n?[o,l]:[r,i],[t,n],g,!0);[m,y]=Kl([a,g])}else Math.abs(h/f)<p?(m=.5*e.width*(f>0?1:-1),y=.5*e.width*h/f*(f>0?1:-1)):(m=.5*e.height*f/h*(h>0?1:-1),y=.5*e.height*(h>0?1:-1));a+=m,s+=y}if(r>0&&u){f=-a,h=-s;const t=Math.atan2(h,f);l=-Math.cos(t)*r,c=-Math.sin(t)*r}t.attr("d","M ".concat(a,",").concat(s," L ").concat(l,",").concat(c)),t.classed("crisp",a.toFixed(1)===l.toFixed(1)||s.toFixed(1)===c.toFixed(1))}},curveLeft:ic,curveRight:oc});const sc={triangle:{viewBox:"-10 -10 20 20",markerWidth:20,markerHeight:20,minLen:20,path:"M-8.75,-3.75 L 1,0 L -8.75,3.75"},lines:{viewBox:"-10 -10 20 20",markerWidth:20,markerHeight:20,minLen:15,path:"M-4.75,-3.75 L 0,0 L -4.75,3.75",strokes:!0}};function lc(t,e,n,r,i){const o=sc[n];if(!e.getTotalLength)return;const a=e.getTotalLength();if(0===a)return;const s=e.getPointAtLength(a),l=e.getPointAtLength(a-10),c=Math.min(1,a/o.minLen/r),[u,f]=[s.x-l.x,s.y-l.y],h=Math.atan2(f,u)/Math.PI*180,p=t.append("path.callout-line-arrow-head").attr("d",o.path).attr("transform","translate(".concat(s.x,", ").concat(s.y,") rotate(").concat(h,") scale(").concat(r*c,") ")).classed("callout-line-arrow-head-stroke",o.strokes);o.strokes?p.style("stroke",i).style("fill","none").style("stroke-width",1/c):p.style("fill",i).style("stroke","none")}function cc(t){return"".concat(2+t,", ").concat(4+t)}function uc(t,e){return"translate(".concat(Math.round(t),"px, ").concat(Math.round(e),"px);")}function fc(t){return!0===t||void 0===t}function hc(t){return!(!fc(t.showDesktop)||!1!==t.showMobile)}function pc(t){return!1===t.showDesktop&&!1===t.showMobile}function dc(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=Jt(t);return n.opacity=e,n.formatRgb()}const gc=180/Math.PI;function mc(t){Bs(t,"svelte-1j9q1i5",".callout-line path{stroke:#222;fill:none}.callout-line path.crisp{shape-rendering:crispEdges}.callout-line circle{stroke:#222;fill:none}.callout-line-arrow-head{fill:#222}.callout-line-arrow-head.callout-line-arrow-head-stroke{stroke:#222;fill:none}")}class yc extends Pl{constructor(t){super(),Il(this,t,null,null,js,{},mc)}}function vc(t){Bs(t,"svelte-1gf2ad6",".text-annotation.svelte-1gf2ad6.svelte-1gf2ad6{position:relative;z-index:2;pointer-events:auto}.text.svelte-1gf2ad6.svelte-1gf2ad6,.shadow-text.svelte-1gf2ad6.svelte-1gf2ad6{left:0px;position:absolute;white-space:pre-line;line-height:1.2;outline-color:rgba(0, 0, 0, 0)}.shadow-text.svelte-1gf2ad6.svelte-1gf2ad6{pointer-events:none}.shadow-text.svelte-1gf2ad6.svelte-1gf2ad6,.text-annotation .shadow-text *{color:transparent !important}.dw-bold.svelte-1gf2ad6.svelte-1gf2ad6{font-weight:700}.italic.svelte-1gf2ad6.svelte-1gf2ad6{font-style:italic}.underline.svelte-1gf2ad6.svelte-1gf2ad6{-webkit-text-decoration:underline;text-decoration:underline}.num.svelte-1gf2ad6.svelte-1gf2ad6{display:flex;justify-content:center;align-items:center;font-size:12px;border-radius:50%;width:20px;height:20px}.connector-line.svelte-1gf2ad6.svelte-1gf2ad6{left:0px;position:absolute;direction:ltr;pointer-events:none}svg.svelte-1gf2ad6.svelte-1gf2ad6{position:absolute;overflow:visible}.reference-point.svelte-1gf2ad6.svelte-1gf2ad6,.offset-point.svelte-1gf2ad6.svelte-1gf2ad6{left:0px;position:absolute;width:5px;height:5px;background:rgba(255, 0, 221, 0.95);z-index:1}.reference-point.hollow.svelte-1gf2ad6.svelte-1gf2ad6{background:rgba(255, 0, 221, 0.1);border:1px solid rgba(255, 0, 221, 0.95);border-radius:50%;left:-1px;top:-1px;z-index:auto}.reference-point.svelte-1gf2ad6.svelte-1gf2ad6::before{content:'';position:absolute;top:-5px;left:-5px;width:calc(100% + 9px);height:calc(100% + 9px);cursor:grab}.edit-mode.svelte-1gf2ad6:not(.key) .text.svelte-1gf2ad6{cursor:grab}.edit-mode.svelte-1gf2ad6:not(.key) .text .text-inner.svelte-1gf2ad6:after{outline:1px none rgba(255, 0, 221, 0);transition:outline-color 0.2s, outline-style 0.2s}.edit-mode.svelte-1gf2ad6:not(.key):not(.selected) .text:hover .text-inner.svelte-1gf2ad6:after{outline:1px dotted rgba(255, 0, 221, 0.95)}.edit-mode.svelte-1gf2ad6:not(.key) .text.svelte-1gf2ad6::before{content:'';z-index:-1;position:absolute;top:-10px;left:-10px;width:calc(100% + 20px);height:calc(100% + 20px);cursor:grab}.edit-mode.selected.svelte-1gf2ad6 .text.svelte-1gf2ad6{outline-style:solid}.edit-mode.svelte-1gf2ad6 .text-background.svelte-1gf2ad6{position:relative}.edit-mode.selected.svelte-1gf2ad6:not(.editable) .text-inner.svelte-1gf2ad6::after{background:rgba(255, 0, 221, 0.1)}.edit-mode.svelte-1gf2ad6:not(.selected):hover .text-inner.svelte-1gf2ad6::after,.edit-mode.selected.editable.svelte-1gf2ad6:hover .text-inner.svelte-1gf2ad6::after{background:rgba(255, 0, 221, 0.05)}.edit-mode.svelte-1gf2ad6 .text:hover .text-inner.svelte-1gf2ad6::after,.edit-mode.selected.svelte-1gf2ad6 .text .text-inner.svelte-1gf2ad6::after{outline:1px solid rgba(255, 0, 221, 0.95)}.edit-mode.editable.svelte-1gf2ad6:hover .text-inner.svelte-1gf2ad6:hover:after{background:transparent !important}.edit-mode.svelte-1gf2ad6 .text-inner.svelte-1gf2ad6:after{content:'';width:100%;height:100%;position:absolute;left:0;top:0;pointer-events:none}.edit-mode.selected.editable.svelte-1gf2ad6 .text.svelte-1gf2ad6{background:transparent}.edit-mode.selected.editable.svelte-1gf2ad6 .text-inner.svelte-1gf2ad6{background:rgba(255, 255, 255, 0.9);cursor:text}.edit-mode.not-editable.svelte-1gf2ad6.svelte-1gf2ad6:not(.key){-webkit-user-select:none;user-select:none;cursor:grab}.edit-mode.svelte-1gf2ad6 .text-inner.svelte-1gf2ad6{outline:0}.edit-mode.dragging.svelte-1gf2ad6.svelte-1gf2ad6,.edit-mode.dragging.svelte-1gf2ad6 .text.svelte-1gf2ad6::before,.edit-mode.dragging.selected.svelte-1gf2ad6 .text-inner.svelte-1gf2ad6{cursor:grabbing}.edit-mode.svelte-1gf2ad6 .helper.svelte-1gf2ad6{left:0px;position:absolute;direction:ltr}.edit-mode.svelte-1gf2ad6 .helper-line.svelte-1gf2ad6{stroke:rgba(255, 0, 221, 0.95);stroke-dasharray:2, 2;fill:none}.edit-mode.svelte-1gf2ad6 .num.text.svelte-1gf2ad6{outline:0}.edit-mode.selected.svelte-1gf2ad6 .num .text-inner.svelte-1gf2ad6{background:transparent}")}function bc(t){let e,n,r,i,o,a,s,l,c,u,f,h,p=t[0].connectorLine&&t[0].connectorLine.enabled&&xc(t),d=t[15]&&wc(t),g=t[35]&&kc(t),m=t[32]&&Mc(t),y=t[0].bg&&t[20]&&!t[16]&&_c(t);function v(t,e){return t[9]?Ec:Ac}let b=v(t),x=b(t),w=t[9]&&!t[16]&&Cc(t);return{c(){e=qs("div"),p&&p.c(),n=Xs(),d&&d.c(),r=Xs(),g&&g.c(),i=Xs(),m&&m.c(),o=Xs(),y&&y.c(),a=Xs(),s=qs("div"),x.c(),l=Xs(),w&&w.c(),Qs(s,"class","text svelte-1gf2ad6"),Qs(s,"style",c=t[37](t[0])),rl(s,"dw-bold",t[0].bold||t[16]),rl(s,"italic",t[0].italic&&!t[16]),rl(s,"underline",t[0].underline&&!t[16]),rl(s,"dw-circle",t[16]),rl(s,"num",t[16]),Qs(e,"class","text-annotation svelte-1gf2ad6"),Qs(e,"role","listitem"),rl(e,"hide",t[38]),rl(e,"edit-mode",t[9]),rl(e,"selected",t[17]),rl(e,"editable",t[1]&&t[17]),rl(e,"not-editable",!t[1]||!t[17]),rl(e,"key",t[16]),rl(e,"dragging",t[2]),rl(e,"resizing",t[5])},m(c,v){Hs(c,e,v),p&&p.m(e,null),Us(e,n),d&&d.m(e,null),Us(e,r),g&&g.m(e,null),Us(e,i),m&&m.m(e,null),Us(e,o),y&&y.m(e,null),Us(e,a),Us(e,s),x.m(s,null),Us(s,l),w&&w.m(s,null),t[89](s),u=!0,f||(h=[Zs(s,"mousedown",Js(t[39])),Zs(s,"click",t[40]),Zs(s,"contextmenu",t[41])],f=!0)},p(t,f){t[0].connectorLine&&t[0].connectorLine.enabled?p?p.p(t,f):(p=xc(t),p.c(),p.m(e,n)):p&&(p.d(1),p=null),t[15]?d?d.p(t,f):(d=wc(t),d.c(),d.m(e,r)):d&&(d.d(1),d=null),t[35]?g?g.p(t,f):(g=kc(t),g.c(),g.m(e,i)):g&&(g.d(1),g=null),t[32]?m?m.p(t,f):(m=Mc(t),m.c(),m.m(e,o)):m&&(m.d(1),m=null),t[0].bg&&t[20]&&!t[16]?y?y.p(t,f):(y=_c(t),y.c(),y.m(e,a)):y&&(y.d(1),y=null),b===(b=v(t))&&x?x.p(t,f):(x.d(1),x=b(t),x&&(x.c(),x.m(s,l))),t[9]&&!t[16]?w?(w.p(t,f),66048&f[0]&&Ol(w,1)):(w=Cc(t),w.c(),Ol(w,1),w.m(s,null)):w&&(Tl(),Nl(w,1,1,()=>{w=null}),$l()),(!u||1&f[0]|64&f[1]&&c!==(c=t[37](t[0])))&&Qs(s,"style",c),(!u||65537&f[0])&&rl(s,"dw-bold",t[0].bold||t[16]),(!u||65537&f[0])&&rl(s,"italic",t[0].italic&&!t[16]),(!u||65537&f[0])&&rl(s,"underline",t[0].underline&&!t[16]),(!u||65536&f[0])&&rl(s,"dw-circle",t[16]),(!u||65536&f[0])&&rl(s,"num",t[16]),(!u||128&f[1])&&rl(e,"hide",t[38]),(!u||512&f[0])&&rl(e,"edit-mode",t[9]),(!u||131072&f[0])&&rl(e,"selected",t[17]),(!u||131074&f[0])&&rl(e,"editable",t[1]&&t[17]),(!u||131074&f[0])&&rl(e,"not-editable",!t[1]||!t[17]),(!u||65536&f[0])&&rl(e,"key",t[16]),(!u||4&f[0])&&rl(e,"dragging",t[2]),(!u||32&f[0])&&rl(e,"resizing",t[5])},i(t){u||(Ol(w),u=!0)},o(t){Nl(w),u=!1},d(n){n&&Ys(e),p&&p.d(),d&&d.d(),g&&g.d(),m&&m.d(),y&&y.d(),x.d(),w&&w.d(),t[89](null),f=!1,Ps(h)}}}function xc(t){let e,n,r;return{c(){e=qs("div"),n=Gs("svg"),Qs(n,"width",t[24]),Qs(n,"height",t[25]),Qs(n,"class","svelte-1gf2ad6"),Qs(e,"class","connector-line svelte-1gf2ad6"),Qs(e,"aria-hidden","true"),Qs(e,"style",r="transform: "+uc(t[11],t[12]))},m(r,i){Hs(r,e,i),Us(e,n),t[79](n)},p(t,i){16777216&i[0]&&Qs(n,"width",t[24]),33554432&i[0]&&Qs(n,"height",t[25]),6144&i[0]&&r!==(r="transform: "+uc(t[11],t[12]))&&Qs(e,"style",r)},d(n){n&&Ys(e),t[79](null)}}}function wc(t){let e,n,r,i;return{c(){e=qs("div"),n=Gs("svg"),r=Gs("path"),Qs(r,"class","helper-line svelte-1gf2ad6"),Qs(r,"d",i=t[30](t[0])),Qs(n,"width",t[28]),Qs(n,"height",t[29]),Qs(n,"class","svelte-1gf2ad6"),Qs(e,"class","helper svelte-1gf2ad6")},m(i,o){Hs(i,e,o),Us(e,n),Us(n,r),t[80](n)},p(t,e){1073741825&e[0]&&i!==(i=t[30](t[0]))&&Qs(r,"d",i),268435456&e[0]&&Qs(n,"width",t[28]),536870912&e[0]&&Qs(n,"height",t[29])},d(n){n&&Ys(e),t[80](null)}}}function kc(t){let e,n,r,i;return{c(){e=qs("div"),Qs(e,"class","reference-point svelte-1gf2ad6"),Qs(e,"style",n="transform: "+t[33]()),rl(e,"hollow",t[34])},m(n,o){Hs(n,e,o),r||(i=Zs(e,"mousedown",Js(t[42])),r=!0)},p(t,r){4&r[1]&&n!==(n="transform: "+t[33]())&&Qs(e,"style",n),8&r[1]&&rl(e,"hollow",t[34])},d(t){t&&Ys(e),r=!1,i()}}}function Mc(t){let e,n;return{c(){e=qs("div"),Qs(e,"class","offset-point svelte-1gf2ad6"),Qs(e,"style",n="transform: "+t[31]())},m(t,n){Hs(t,e,n)},p(t,r){1&r[1]&&n!==(n="transform: "+t[31]())&&Qs(e,"style",n)},d(t){t&&Ys(e)}}}function _c(t){let e,n,r,i=t[7](t[0].text)+"";return{c(){e=qs("div"),n=qs("span"),Qs(n,"class","export-text"),Qs(e,"class","shadow-text svelte-1gf2ad6"),Qs(e,"aria-hidden","true"),Qs(e,"style",r=t[36](t[0])),rl(e,"dw-bold",t[0].bold),rl(e,"italic",t[0].italic),rl(e,"underline",t[0].underline)},m(t,r){Hs(t,e,r),Us(e,n),n.innerHTML=i},p(t,o){129&o[0]&&i!==(i=t[7](t[0].text)+"")&&(n.innerHTML=i),1&o[0]|32&o[1]&&r!==(r=t[36](t[0]))&&Qs(e,"style",r),1&o[0]&&rl(e,"dw-bold",t[0].bold),1&o[0]&&rl(e,"italic",t[0].italic),1&o[0]&&rl(e,"underline",t[0].underline)},d(t){t&&Ys(e)}}}function Ac(t){let e;function n(t,e){return t[16]?$c:Tc}let r=n(t),i=r(t);return{c(){e=qs("span"),i.c(),Qs(e,"class","export-text")},m(n,r){Hs(n,e,r),i.m(e,null),t[84](e)},p(t,o){r===(r=n(t))&&i?i.p(t,o):(i.d(1),i=r(t),i&&(i.c(),i.m(e,null)))},d(n){n&&Ys(e),i.d(),t[84](null)}}}function Ec(t){let e;function n(t,e){return t[16]?Nc:Oc}let r=n(t),i=r(t);return{c(){i.c(),e=Ks()},m(t,n){i.m(t,n),Hs(t,e,n)},p(t,o){r===(r=n(t))&&i?i.p(t,o):(i.d(1),i=r(t),i&&(i.c(),i.m(e.parentNode,e)))},d(t){i.d(t),t&&Ys(e)}}}function Tc(t){let e,n,r=t[7](t[0].text)+"";return{c(){e=new ol(!1),n=Ks(),e.a=n},m(t,i){e.m(r,t,i),Hs(t,n,i)},p(t,n){129&n[0]&&r!==(r=t[7](t[0].text)+"")&&e.p(r)},d(t){t&&Ys(n),t&&e.d()}}}function $c(t){let e,n=t[8].num+"";return{c(){e=Vs(n)},m(t,n){Hs(t,e,n)},p(t,r){256&r[0]&&n!==(n=t[8].num+"")&&el(e,n)},d(t){t&&Ys(e)}}}function Oc(t){let e;function n(t,e){return t[1]&&t[17]?Lc:Sc}let r=n(t),i=r(t);return{c(){e=qs("div"),i.c(),Qs(e,"class","text-background svelte-1gf2ad6")},m(t,n){Hs(t,e,n),i.m(e,null)},p(t,o){r===(r=n(t))&&i?i.p(t,o):(i.d(1),i=r(t),i&&(i.c(),i.m(e,null)))},d(t){t&&Ys(e),i.d()}}}function Nc(t){let e,n,r=t[8].num+"";return{c(){e=qs("span"),n=Vs(r)},m(t,r){Hs(t,e,r),Us(e,n)},p(t,e){256&e[0]&&r!==(r=t[8].num+"")&&el(n,r)},d(t){t&&Ys(e)}}}function Sc(t){let e,n=t[7](t[0].text)+"";return{c(){e=qs("span"),Qs(e,"class","text-inner text-edit svelte-1gf2ad6")},m(r,i){Hs(r,e,i),e.innerHTML=n,t[83](e)},p(t,r){129&r[0]&&n!==(n=t[7](t[0].text)+"")&&(e.innerHTML=n)},d(n){n&&Ys(e),t[83](null)}}}function Lc(t){let e,n,r,i=t[7](t[27])+"";return{c(){e=qs("span"),Qs(e,"contenteditable",""),Qs(e,"class","text-inner text-edit svelte-1gf2ad6"),void 0===t[26]&&bl(()=>t[82].call(e))},m(o,a){Hs(o,e,a),e.innerHTML=i,t[81](e),void 0!==t[26]&&(e.innerHTML=t[26]),n||(r=[Zs(e,"input",t[82]),Zs(e,"input",t[43]),Zs(e,"blur",t[44])],n=!0)},p(t,n){134217856&n[0]&&i!==(i=t[7](t[27])+"")&&(e.innerHTML=i),67108864&n[0]&&t[26]!==e.innerHTML&&(e.innerHTML=t[26])},d(i){i&&Ys(e),t[81](null),n=!1,Ps(r)}}}function Cc(t){let e,n,r,i,o;function a(e){t[85](e)}function s(e){t[86](e)}function l(e){t[87](e)}let c={type:"text",annotation:t[0],index:t[10]};return void 0!==t[3]&&(c.noOffsetAtEventStart=t[3]),void 0!==t[4]&&(c.activeResizer=t[4]),void 0!==t[5]&&(c.resizing=t[5]),e=new ql({props:c}),pl.push(()=>Sl(e,"noOffsetAtEventStart",a)),pl.push(()=>Sl(e,"activeResizer",s)),pl.push(()=>Sl(e,"resizing",l)),e.$on("selectAnnotation",t[88]),e.$on("setWidth",t[46]),{c(){Ll(e.$$.fragment)},m(t,n){Cl(e,t,n),o=!0},p(t,o){const a={};1&o[0]&&(a.annotation=t[0]),1024&o[0]&&(a.index=t[10]),!n&&8&o[0]&&(n=!0,a.noOffsetAtEventStart=t[3],xl(()=>n=!1)),!r&&16&o[0]&&(r=!0,a.activeResizer=t[4],xl(()=>r=!1)),!i&&32&o[0]&&(i=!0,a.resizing=t[5],xl(()=>i=!1)),e.$set(a)},i(t){o||(Ol(e.$$.fragment,t),o=!0)},o(t){Nl(e.$$.fragment,t),o=!1},d(t){Dl(e,t)}}}function Dc(t){let e,n,r,i,o,a;e=new yc({});let s=t[6]&&!t[19]&&!t[18]&&bc(t);return{c(){Ll(e.$$.fragment),n=Xs(),s&&s.c(),r=Ks()},m(l,c){Cl(e,l,c),Hs(l,n,c),s&&s.m(l,c),Hs(l,r,c),i=!0,o||(a=Zs(window,"keydown",t[45]),o=!0)},p(t,e){!t[6]||t[19]||t[18]?s&&(Tl(),Nl(s,1,1,()=>{s=null}),$l()):s?(s.p(t,e),786496&e[0]&&Ol(s,1)):(s=bc(t),s.c(),Ol(s,1),s.m(r.parentNode,r))},i(t){i||(Ol(e.$$.fragment,t),Ol(s),i=!0)},o(t){Nl(e.$$.fragment,t),Nl(s),i=!1},d(t){Dl(e,t),t&&Ys(n),s&&s.d(t),t&&Ys(r),o=!1,a()}}}function Rc(t,e,n){let r,i,o,a,s,l,c,u,f,h,p,d,g,m,y,v,b,x,w,k,M,_,A,E,T,$,O,N,S,L,C,D,{annotation:R={}}=e,{dataToPx:I}=e,{pxToData:P}=e,{bounds:z}=e,{theme:j}=e,{cm:F}=e,{chroma:U}=e,{purifyHtml:B}=e,{key:H}=e,{rtl:Y=!1}=e,{mirrorX:W=!1}=e,{visWidth:q}=e,{isMobileWidth:G}=e,V=0,X=0,K=0,Z=0,J=0;function Q(){let t=function(t,e){return Math.atan(t/e)*gc}(R.dy,R.dx)+90;return R.dx<0&&(t+=180),function(t){switch(!0){case t>337.5||t<=22.5:return"bc";case t>22.5&&t<=67.5:return"bl";case t>67.5&&t<=112.5:return"ml";case t>112.5&&t<=157.5:return"tl";case t>157.5&&t<=202.5:return"tc";case t>202.5&&t<=247.5:return"tr";case t>247.5&&t<=292.5:return"mr";case t>292.5&&t<=337.5:return"br";default:return"mc"}}(t)}function tt(t){const[e,n]=y(R,{useInnerText:!0});let r=e,i=e+J;return Y&&p&&(r-=d,i-=d),V>r-t&&V<i+t&&X>n-t&&X<n+Z+t}function et(){if(!h)return 4;const t=Q();if(t.includes("c")||t.includes("m"))return 0;const e=(K*Math.sqrt(2)-K)/2;return-Math.sqrt(Math.pow(e,2)/2)}cl(()=>{function t(){L&&(n(63,K=L.offsetWidth),n(64,Z=L.offsetHeight),n(65,J=C&&C.offsetWidth||ot&&ot.offsetWidth||0),function(){if(!R.connectorLine||!R.connectorLine.enabled)return;const t=st(D);t.selectAll("*").remove();const{circle:e,circleRadius:r,stroke:i,inheritColor:a,targetPadding:s}=R.connectorLine,[l,c]=y(R,{useInnerText:!0});let f=l-V;Y&&p&&(f-=d);const g=c-X,m=a&&u&&!h?u:Ss(j,"color",o),v={curveLeft:W?"curveRight":"curveLeft",curveRight:W?"curveLeft":"curveRight",straight:"straight"},b=h?K:J,x=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t={sourcePadding:0,targetPadding:4,arrowHead:!1,type:"straight",circle:!1,circleRadius:15,strokeWidth:1,color:"black",...t},function(e){return e.each((function(e){const n={...t,...e},r=st(this).append("g.callout-line").attr("aria-hidden",!0);n.arrowHead&&(n.targetPadding+=n.strokeWidth,n.circleRadius+=n.strokeWidth);const i=r.append("path").style("stroke-width",n.strokeWidth).style("stroke",n.color).call(ac[n.type](n));n.arrowHead&&lc(r,i.node(),n.arrowHead,n.strokeWidth,n.color),n.circle&&r.append("circle").style("stroke",n.color).style("stroke-width",n.strokeWidth).style("stroke-dasharray","dashed"===n.circleStyle?cc(n.strokeWidth):void 0).attr("r",n.circleRadius-(n.arrowHead?n.strokeWidth:0))}))}}({...R.connectorLine,circle:e,circleRadius:r,source:{x:f,y:g,width:b,height:Z},sourcePadding:et(),targetPadding:h?0:s,strokeWidth:h?1:i,color:m,type:v[R.connectorLine.type]});t.call(x);const w=D.getBBox();n(24,nt=Math.max(Math.ceil(w.width),1)),n(25,rt=Math.max(Math.ceil(w.height),1));const M=t.select(".callout-line").select("path").attr("d");(function(t,e){const n=t.replace("M","").replace("Q","").trim().replace(/ /g,",").split(",");let r=Math.max(Math.abs(Number(n[0])),Math.abs(Number(n[1])))-e;return isNaN(r)&&(r=0),r})(M,s)<10||tt(5)||function(t,e,n){if(!t||!n)return;const r=e.indexOf("M ")+"M ".length,i=e.indexOf(" ",r),o=e.substring(r,i).split(",").map(t=>parseInt(t,10));return Math.pow(o[0]-0,2)+Math.pow(o[1]-0,2)<Math.pow(n,2)}(e,M,r)?(t.selectAll("*").remove(),k&&it("updateEditorState",{hideConnectorLine:!0})):k&&it("updateEditorState",{hideConnectorLine:!1})}())}at?t():(vl(),ml).then(t)});let nt=1,rt=1;const it=ul();let ot,{editMode:at}=e,{isEditable:lt}=e,{editorState:ct}=e,{index:ut}=e,{repeatedIndex:ft}=e;function ht(){R.showInAllPlots&&ft!==ct.activeRepeatedAnnotationIndex||it("updateAnnotation",{annotation:R,index:ut,type:"text"})}let pt,dt,{moveX:gt}=e,{moveY:mt}=e,{dragging:yt}=e,{noOffsetAtEventStart:vt}=e,{forceOffsetDrag:bt}=e,{forceAnchorDrag:xt}=e,{forceAnchorDragTemp:wt}=e,{activeResizer:kt}=e,{resizing:Mt}=e,_t=R.text,At=1,Et=1;return t.$$set=t=>{"annotation"in t&&n(0,R=t.annotation),"dataToPx"in t&&n(51,I=t.dataToPx),"pxToData"in t&&n(52,P=t.pxToData),"bounds"in t&&n(6,z=t.bounds),"theme"in t&&n(53,j=t.theme),"cm"in t&&n(54,F=t.cm),"chroma"in t&&n(55,U=t.chroma),"purifyHtml"in t&&n(7,B=t.purifyHtml),"key"in t&&n(8,H=t.key),"rtl"in t&&n(56,Y=t.rtl),"mirrorX"in t&&n(57,W=t.mirrorX),"visWidth"in t&&n(58,q=t.visWidth),"isMobileWidth"in t&&n(59,G=t.isMobileWidth),"editMode"in t&&n(9,at=t.editMode),"isEditable"in t&&n(1,lt=t.isEditable),"editorState"in t&&n(60,ct=t.editorState),"index"in t&&n(10,ut=t.index),"repeatedIndex"in t&&n(61,ft=t.repeatedIndex),"moveX"in t&&n(47,gt=t.moveX),"moveY"in t&&n(48,mt=t.moveY),"dragging"in t&&n(2,yt=t.dragging),"noOffsetAtEventStart"in t&&n(3,vt=t.noOffsetAtEventStart),"forceOffsetDrag"in t&&n(49,bt=t.forceOffsetDrag),"forceAnchorDrag"in t&&n(50,xt=t.forceAnchorDrag),"forceAnchorDragTemp"in t&&n(62,wt=t.forceAnchorDragTemp),"activeResizer"in t&&n(4,kt=t.activeResizer),"resizing"in t&&n(5,Mt=t.resizing)},t.$$.update=()=>{if(4194304&t.$$.dirty[1]&&n(78,r={mobile:aa(j,"vis.base.annotations.mobile",{}),desktop:aa(j,"vis.base.annotations.text",{})}),4194304&t.$$.dirty[1]&&n(20,i=aa(j,"colors.background","#ffffff")),20971520&t.$$.dirty[1]&&n(69,o=sa(j,U).fallbackBaseColor),1048576&t.$$.dirty[0]|65536&t.$$.dirty[2]&&n(75,a=aa(r.mobile,"icons.background",dc(i,.7))),65664&t.$$.dirty[2]&&n(76,s=aa(r.mobile,"icons.outline","1px solid "+o)),65536&t.$$.dirty[2]&&n(77,l=r.desktop.color),67108864&t.$$.dirty[1]&&n(66,c=W?-1:1),1&t.$$.dirty[0]&&n(0,R.dx=+R.dx||0,R),1&t.$$.dirty[0]&&n(0,R.dy=+R.dy||0,R),1024&t.$$.dirty[0]|536870912&t.$$.dirty[1]&&n(17,k=1===ct.selectedTextAnnotations.length&&ct.selectedTextAnnotations[0]===ut),131085&t.$$.dirty[0]|4128768&t.$$.dirty[1]|17&t.$$.dirty[2]&&k&&yt&&(gt||mt)){if(vt&&!bt||xt||wt){let[t,e]=I(R.x,R.y,R._plot);t+=gt,e+=mt;const[r,i]=P(t,e,R._plot);n(0,R.x=r,R),n(0,R.y=i,R)}else n(0,R.dx+=gt*c,R),n(0,R.dy+=mt,R);bt&&vt&&!R.connectorLine.enabled&&!tt(20)&&(n(0,R.connectorLine.enabled=!0,R),n(0,R.connectorLine.type="curveLeft",R)),n(47,gt=0),n(48,mt=0),ht()}if(131129&t.$$.dirty[0]|204668928&t.$$.dirty[1]&&k&&Mt&&(gt||mt)){let t=gt/q*100,e=0;if(R.align.includes("c")?(e+=gt/2,"l"===kt&&(t=-t)):R.align.includes(W?"r":"l")?"l"===kt&&(e+=gt,t=-t):R.align.includes(W?"l":"r")&&("l"===kt&&(t=-t),"r"===kt&&(e+=gt)),vt){const t=I(R.x,R.y,R._plot);let r=t[0];r+=e;const[i,o]=P(r,t[1],R._plot);n(0,R.x=i,R),n(0,R.y=o,R)}else n(0,R.dx+=e,R);n(0,R.width+=t,R),n(0,R.width=Math.max(5,R.width),R),n(47,gt=0),ht()}var e;if(1&t.$$.dirty[0]|8388608&t.$$.dirty[1]|32768&t.$$.dirty[2]&&n(70,u=R.color?F(R.color):F(l,{noInvert:!0})),1&t.$$.dirty[0]|268435456&t.$$.dirty[1]&&n(38,f=pc(R)||!(!fc((e=R).showMobile)||!1!==e.showDesktop||G)||hc(R)&&G),256&t.$$.dirty[0]&&n(16,h=H&&H.render),65536&t.$$.dirty[0]|10&t.$$.dirty[2]&&n(71,p=!h&&J>K),10&t.$$.dirty[2]&&(d=J-K),1&t.$$.dirty[0]|1048576&t.$$.dirty[1]&&n(11,[V,X]=I(R.x,R.y,R._plot),V,(n(12,X),n(51,I),n(0,R),n(17,k),n(2,yt),n(47,gt),n(48,mt),n(3,vt),n(49,bt),n(50,xt),n(62,wt),n(52,P),n(66,c),n(5,Mt),n(58,q),n(4,kt),n(57,W),n(60,ct),n(10,ut))),2048&t.$$.dirty[0]&&n(19,g=void 0===V),4096&t.$$.dirty[0]&&n(18,m=void 0===X),1&t.$$.dirty[0]&&n(67,M=0===R.dx&&0===R.dy),71680&t.$$.dirty[0]|67108864&t.$$.dirty[1]|574&t.$$.dirty[2]&&n(72,y=(t,{useInnerText:e=!1}={})=>{let[n,r]=[V,X],i=t.align;h||(n+=t.dx*c,r+=t.dy),h&&!M&&([n,r]=function(t,e){const n=R.connectorLine.circle?Math.max(0,R.connectorLine.circleRadius):0,r=22+n,i=(27+n)*c,o=Q(),[a,s]={br:[-r,-r],bc:[-i,0],bl:[-r,r],mr:[0,-i],mc:[-i-.5*Z,0],ml:[0,i],tr:[r,-r],tc:[i,0],tl:[r,r]}[o];return[t+=s,e+=a]}(n,r),i="mc");const o={l:W?"r":"l",r:W?"l":"r",c:"c"}[i.charAt(1)],a=i.charAt(0);return n-=(!e||p||h?K:J)*{l:0,c:.5,r:1}[o],r-=Z*{t:0,m:.5,b:1}[a],[n,r]}),1024&t.$$.dirty[2]&&n(73,v=t=>{const[e,n]=y(t);return uc(e,n)}),65536&t.$$.dirty[0]|30976&t.$$.dirty[2]&&n(37,x=t=>{const e=[];return h?(e.push("border: "+s),e.push("background-color: "+a)):(e.push(...b(t)),u&&e.push("color: "+u)),e.push("transform: "+v(t)),e.join("; ")}),1048576&t.$$.dirty[0]|6144&t.$$.dirty[2]&&n(36,w=t=>{const e=[];return e.push(...b(t)),e.push("text-shadow: "+function(t,e,n){const r=[],i=function(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i}(-t,t+1);return i.forEach(t=>{i.forEach(i=>{(t||i)&&r.push(t+"px "+i+"px "+(t&&i?0:e)+"px "+n)})}),r.join(", ")}(2,2,i)),e.push("transform: "+v(t)),e.join("; ")}),8194&t.$$.dirty[0]&&!lt&&ot&&ot.blur(),989185&t.$$.dirty[0]|6&t.$$.dirty[2]&&k){const t={x:V,y:X,invalidX:g,invalidY:m,width:K,height:Z,mobileFallback:h,text:R.text};it("updateEditorState",{selectedAnnotationProps:t})}if(1&t.$$.dirty[0]&&n(68,_="mc"===R.align),197120&t.$$.dirty[0]|96&t.$$.dirty[2]&&n(35,A=at&&k&&!h&&!(M&&_)),197120&t.$$.dirty[0]|32&t.$$.dirty[2]&&n(34,E=at&&k&&!h&&!M),6144&t.$$.dirty[0]&&n(33,T=()=>{let[t,e]=[V,X];return t-=2.5,e-=2.5,uc(t,e)}),197120&t.$$.dirty[0]|96&t.$$.dirty[2]&&n(32,$=at&&k&&!h&&!M&&!_),6145&t.$$.dirty[0]|16&t.$$.dirty[2]&&n(31,O=()=>{let[t,e]=[V,X];return t-=2.5,e-=2.5,t+=R.dx*c,e+=R.dy,uc(t,e)}),8321&t.$$.dirty[0]&&(ot&&ot===document.activeElement||(n(26,pt=B(R.text)),n(27,_t=R.text))),197121&t.$$.dirty[0]|32&t.$$.dirty[2]&&n(15,N=at&&k&&!R.connectorLine.enabled&&!M&&!h),6144&t.$$.dirty[0]|16&t.$$.dirty[2]&&n(30,S=t=>{const[e,n]=[V,X];return`M ${e},${n} L${e+t.dx*c},${n+t.dy}`}),49152&t.$$.dirty[0]&&dt&&N){const t=dt.getBBox();n(28,At=Math.max(Math.ceil(t.width),1)),n(29,Et=Math.max(Math.ceil(t.height),1))}},n(74,b=t=>{const e=[];return t.width&&e.push("width: "+function(t){return q*(t.width/100)+"px"}(t)),e.push(`font-size: ${t.size||14}px`),e.push(`min-height: ${t.size||14}px`),e.push("text-align: "+function(t){return t.align?{l:W?"right":"left",c:"center",r:W?"left":"right"}[t.align.charAt(1)]:"center"}(t)),e}),[R,lt,yt,vt,kt,Mt,z,B,H,at,ut,V,X,ot,dt,N,h,k,m,g,i,L,C,D,nt,rt,pt,_t,At,Et,S,O,$,T,E,A,w,x,f,function(t){if(!at)return;zl(),it("selectAnnotation",{type:"text",index:ut,repeatedIndex:ft});const e="true"===t.target.contentEditable||"true"===t.target.parentNode.contentEditable;h||e&&k||(n(47,gt=0),n(48,mt=0),n(2,yt=!0),n(49,bt=t.ctrlKey),bt&&it("updateEditorState",{forceOffsetDrag:!0}),n(3,vt=0===R.dx&&0===R.dy))},function(t){at&&t.preventDefault()},function(t){at&&t.preventDefault()},function(){at&&(zl(),it("selectAnnotation",{type:"text",index:ut,repeatedIndex:ft}),n(2,yt=!0),n(50,xt=!0))},function(){n(0,R.text=pt.slice&&"&nbsp;"===pt.slice(-6)&&"&nbsp;&nbsp;"!==pt.slice(-12)?pt.slice(0,-6)+" ":pt,R),ht()},function(){zl()},function(t){if(!at||h)return;const e="ArrowUp"===t.key||"ArrowDown"===t.key||"ArrowLeft"===t.key||"ArrowRight"===t.key;if("Escape"===t.key&&k&&lt)ot.blur(),n(1,lt=!1);else if("Escape"===t.key&&k)it("selectAnnotation",null);else if(e&&k&&!lt){t.preventDefault();const e="ArrowLeft"===t.key?-1:"ArrowRight"===t.key?1:0,r="ArrowUp"===t.key?-1:"ArrowDown"===t.key?1:0;if(t.ctrlKey)n(0,R.dx+=e*c,R),n(0,R.dy+=r,R);else{let[t,i]=I(R.x,R.y,R._plot);t+=e,i+=r;const[o,a]=P(t,i,R._plot);n(0,R.x=o,R),n(0,R.y=a,R)}}ht()},function(){n(0,R.width=K/q*100,R),ht()},gt,mt,bt,xt,I,P,j,F,U,Y,W,q,G,ct,ft,wt,K,Z,J,c,M,_,o,u,p,y,v,b,a,s,l,r,function(t){pl[t?"unshift":"push"](()=>{D=t,n(23,D)})},function(t){pl[t?"unshift":"push"](()=>{dt=t,n(14,dt)})},function(t){pl[t?"unshift":"push"](()=>{ot=t,n(13,ot)})},function(){pt=this.innerHTML,n(26,pt),n(13,ot),n(7,B),n(0,R),n(17,k),n(2,yt),n(47,gt),n(48,mt),n(3,vt),n(49,bt),n(50,xt),n(62,wt),n(51,I),n(52,P),n(66,c),n(5,Mt),n(58,q),n(4,kt),n(57,W),n(60,ct),n(10,ut)},function(t){pl[t?"unshift":"push"](()=>{ot=t,n(13,ot)})},function(t){pl[t?"unshift":"push"](()=>{C=t,n(22,C)})},function(t){vt=t,n(3,vt)},function(t){kt=t,n(4,kt)},function(t){Mt=t,n(5,Mt)},function(e){fl.call(this,t,e)},function(t){pl[t?"unshift":"push"](()=>{L=t,n(21,L)})}]}class Ic extends Pl{constructor(t){super(),Il(this,t,Rc,Dc,js,{annotation:0,dataToPx:51,pxToData:52,bounds:6,theme:53,cm:54,chroma:55,purifyHtml:7,key:8,rtl:56,mirrorX:57,visWidth:58,isMobileWidth:59,editMode:9,isEditable:1,editorState:60,index:10,repeatedIndex:61,moveX:47,moveY:48,dragging:2,noOffsetAtEventStart:3,forceOffsetDrag:49,forceAnchorDrag:50,forceAnchorDragTemp:62,activeResizer:4,resizing:5},vc,[-1,-1,-1,-1])}}function Pc(t){Bs(t,"svelte-zi598g",".create-mode .range-annotation{pointer-events:none !important}.range-annotation.svelte-zi598g.svelte-zi598g{position:absolute;top:0px;left:0px;pointer-events:none}.range-annotation.edit-mode.svelte-zi598g.svelte-zi598g{display:flex;justify-content:center;align-items:center;pointer-events:auto;z-index:1}.range-annotation.edit-mode.svelte-zi598g:hover .dot.svelte-zi598g{opacity:1 !important}.range-annotation.edit-mode.range.svelte-zi598g.svelte-zi598g{background:transparent !important}.range-annotation.edit-mode.range.svelte-zi598g.svelte-zi598g{z-index:1;border:1px solid transparent;box-sizing:border-box}.range-annotation.edit-mode.range.x.svelte-zi598g.svelte-zi598g{border-width:0 1px 0 1px}.range-annotation.edit-mode.range.x.start-out-of-bounds.svelte-zi598g.svelte-zi598g{border-left-width:0 !important}.range-annotation.edit-mode.range.x.end-out-of-bounds.svelte-zi598g.svelte-zi598g{border-right-width:0 !important}.range-annotation.edit-mode.range.y.svelte-zi598g.svelte-zi598g{border-width:1px 0 1px 0}.range-annotation.edit-mode.range.y.start-out-of-bounds.svelte-zi598g.svelte-zi598g{border-top-width:0 !important}.range-annotation.edit-mode.range.y.end-out-of-bounds.svelte-zi598g.svelte-zi598g{border-bottom-width:0 !important}.range-annotation.edit-mode.selected.svelte-zi598g.svelte-zi598g{z-index:2}.range-annotation.edit-mode.selected.svelte-zi598g .dot.svelte-zi598g{opacity:1}.range-annotation.edit-mode.selected.range.svelte-zi598g.svelte-zi598g{z-index:2;border:1px solid rgba(255, 0, 221, 0.95)}.range-annotation.edit-mode.selected.range.x.svelte-zi598g.svelte-zi598g{border-width:0 1px 0 1px}.range-annotation.edit-mode.selected.range.y.svelte-zi598g.svelte-zi598g{border-width:1px 0 1px 0}.range-annotation.edit-mode.selected.line.svelte-zi598g.svelte-zi598g{border-color:rgba(255, 0, 221, 0.95) !important}.range-annotation.edit-mode.range.svelte-zi598g .dot-drag.svelte-zi598g{width:20px;height:20px;cursor:grab;display:flex;align-items:center;justify-content:center}.range-annotation.edit-mode.range.svelte-zi598g .dot-drag .dot.svelte-zi598g{width:5px;height:5px;background:rgba(255, 0, 221, 0.95);opacity:0;transition:opacity 0.2s}.range-annotation.x.svelte-zi598g.svelte-zi598g{height:100%}.range-annotation.y.svelte-zi598g.svelte-zi598g{width:100%}.range-annotation.range.svelte-zi598g.svelte-zi598g{z-index:-1}.range-annotation.line.svelte-zi598g.svelte-zi598g{z-index:1;border-width:0;background:transparent}.range-annotation.line.x.svelte-zi598g.svelte-zi598g{height:100%;width:0px}.range-annotation.line.y.svelte-zi598g.svelte-zi598g{width:100%;height:0px}.create-mode .range-annotation{pointer-events:none}")}function zc(t){let e,n,r,i;const o=[Fc,jc],a=[];function s(t,e){return"line"!==t[0].display||t[9]?t[9]||t[8]?-1:1:0}return~(e=s(t))&&(n=a[e]=o[e](t)),{c(){n&&n.c(),r=Ks()},m(t,n){~e&&a[e].m(t,n),Hs(t,r,n),i=!0},p(t,i){let l=e;e=s(t),e===l?~e&&a[e].p(t,i):(n&&(Tl(),Nl(a[l],1,1,()=>{a[l]=null}),$l()),~e?(n=a[e],n?n.p(t,i):(n=a[e]=o[e](t),n.c()),Ol(n,1),n.m(r.parentNode,r)):n=null)},i(t){i||(Ol(n),i=!0)},o(t){Nl(n),i=!1},d(t){~e&&a[e].d(t),t&&Ys(r)}}}function jc(t){let e,n,r,i,o,a,s=t[5]&&Uc(t);return{c(){e=qs("div"),i=Xs(),s&&s.c(),o=Ks(),Qs(e,"class",n="range-annotation dw-rect range "+t[0].type+" svelte-zi598g"),Qs(e,"style",r=t[16](t[0],t[4]))},m(t,n){Hs(t,e,n),Hs(t,i,n),s&&s.m(t,n),Hs(t,o,n),a=!0},p(t,i){(!a||1&i[0]&&n!==(n="range-annotation dw-rect range "+t[0].type+" svelte-zi598g"))&&Qs(e,"class",n),(!a||65553&i[0]&&r!==(r=t[16](t[0],t[4])))&&Qs(e,"style",r),t[5]?s?(s.p(t,i),32&i[0]&&Ol(s,1)):(s=Uc(t),s.c(),Ol(s,1),s.m(o.parentNode,o)):s&&(Tl(),Nl(s,1,1,()=>{s=null}),$l())},i(t){a||(Ol(s),a=!0)},o(t){Nl(s),a=!1},d(t){t&&Ys(e),t&&Ys(i),s&&s.d(t),t&&Ys(o)}}}function Fc(t){let e,n,r,i,o,a,s=t[5]&&Bc(t);return{c(){e=qs("div"),s&&s.c(),Qs(e,"class",n="range-annotation dw-line line "+t[0].type+" svelte-zi598g"),Qs(e,"style",r=t[15](t[0],t[4])),rl(e,"edit-mode",t[5]),rl(e,"no-edit-mode",!t[5]),rl(e,"selected",t[10])},m(n,r){Hs(n,e,r),s&&s.m(e,null),i=!0,o||(a=Zs(e,"mousedown",Js(t[31])),o=!0)},p(t,o){t[5]?s?(s.p(t,o),32&o[0]&&Ol(s,1)):(s=Bc(t),s.c(),Ol(s,1),s.m(e,null)):s&&(Tl(),Nl(s,1,1,()=>{s=null}),$l()),(!i||1&o[0]&&n!==(n="range-annotation dw-line line "+t[0].type+" svelte-zi598g"))&&Qs(e,"class",n),(!i||32785&o[0]&&r!==(r=t[15](t[0],t[4])))&&Qs(e,"style",r),(!i||33&o[0])&&rl(e,"edit-mode",t[5]),(!i||33&o[0])&&rl(e,"no-edit-mode",!t[5]),(!i||1025&o[0])&&rl(e,"selected",t[10])},i(t){i||(Ol(s),i=!0)},o(t){Nl(s),i=!1},d(t){t&&Ys(e),s&&s.d(),o=!1,a()}}}function Uc(t){let e,n,r,i,o,a,s,l,c,u,f;function h(e){t[35](e)}function p(e){t[36](e)}let d={type:"range",annotation:t[0],index:t[6],repeatedIndex:t[7],orientation:t[0].type,rangeOverPlotStart:t[11],rangeOverPlotEnd:t[12]};return void 0!==t[2]&&(d.activeResizer=t[2]),void 0!==t[1]&&(d.resizing=t[1]),i=new ql({props:d}),pl.push(()=>Sl(i,"activeResizer",h)),pl.push(()=>Sl(i,"resizing",p)),i.$on("selectAnnotation",t[37]),{c(){e=qs("div"),n=qs("div"),n.innerHTML='<div class="dot svelte-zi598g"></div>',r=Xs(),Ll(i.$$.fragment),Qs(n,"class","dot-drag svelte-zi598g"),Qs(e,"style",s=t[16](t[0],t[4])),Qs(e,"class",l="range-annotation edit-mode range "+t[0].type+" svelte-zi598g"),rl(e,"edit-mode",t[5]),rl(e,"no-edit-mode",!t[5]),rl(e,"selected",t[10]),rl(e,"start-out-of-bounds",t[11]),rl(e,"end-out-of-bounds",t[12])},m(o,a){Hs(o,e,a),Us(e,n),Us(e,r),Cl(i,e,null),c=!0,u||(f=Zs(n,"mousedown",Js(t[18])),u=!0)},p(t,n){const r={};1&n[0]&&(r.annotation=t[0]),64&n[0]&&(r.index=t[6]),128&n[0]&&(r.repeatedIndex=t[7]),1&n[0]&&(r.orientation=t[0].type),2048&n[0]&&(r.rangeOverPlotStart=t[11]),4096&n[0]&&(r.rangeOverPlotEnd=t[12]),!o&&4&n[0]&&(o=!0,r.activeResizer=t[2],xl(()=>o=!1)),!a&&2&n[0]&&(a=!0,r.resizing=t[1],xl(()=>a=!1)),i.$set(r),(!c||65553&n[0]&&s!==(s=t[16](t[0],t[4])))&&Qs(e,"style",s),(!c||1&n[0]&&l!==(l="range-annotation edit-mode range "+t[0].type+" svelte-zi598g"))&&Qs(e,"class",l),(!c||33&n[0])&&rl(e,"edit-mode",t[5]),(!c||33&n[0])&&rl(e,"no-edit-mode",!t[5]),(!c||1025&n[0])&&rl(e,"selected",t[10]),(!c||2049&n[0])&&rl(e,"start-out-of-bounds",t[11]),(!c||4097&n[0])&&rl(e,"end-out-of-bounds",t[12])},i(t){c||(Ol(i.$$.fragment,t),c=!0)},o(t){Nl(i.$$.fragment,t),c=!1},d(t){t&&Ys(e),Dl(i),u=!1,f()}}}function Bc(t){let e,n,r,i;function o(e){t[32](e)}function a(e){t[33](e)}let s={annotation:t[0],index:t[6],orientation:t[0].type,lineOverPlotStart:t[13],lineOverPlotEnd:t[14]};return void 0!==t[2]&&(s.activeResizer=t[2]),void 0!==t[1]&&(s.resizing=t[1]),e=new ql({props:s}),pl.push(()=>Sl(e,"activeResizer",o)),pl.push(()=>Sl(e,"resizing",a)),e.$on("selectAnnotation",t[34]),{c(){Ll(e.$$.fragment)},m(t,n){Cl(e,t,n),i=!0},p(t,i){const o={};1&i[0]&&(o.annotation=t[0]),64&i[0]&&(o.index=t[6]),1&i[0]&&(o.orientation=t[0].type),8192&i[0]&&(o.lineOverPlotStart=t[13]),16384&i[0]&&(o.lineOverPlotEnd=t[14]),!n&&4&i[0]&&(n=!0,o.activeResizer=t[2],xl(()=>n=!1)),!r&&2&i[0]&&(r=!0,o.resizing=t[1],xl(()=>r=!1)),e.$set(o)},i(t){i||(Ol(e.$$.fragment,t),i=!0)},o(t){Nl(e.$$.fragment,t),i=!1},d(t){Dl(e,t)}}}function Hc(t){let e,n,r,i,o=t[3]&&zc(t);return{c(){o&&o.c(),e=Ks()},m(a,s){o&&o.m(a,s),Hs(a,e,s),n=!0,r||(i=Zs(window,"keydown",t[17]),r=!0)},p(t,n){t[3]?o?(o.p(t,n),8&n[0]&&Ol(o,1)):(o=zc(t),o.c(),Ol(o,1),o.m(e.parentNode,e)):o&&(Tl(),Nl(o,1,1,()=>{o=null}),$l())},i(t){n||(Ol(o),n=!0)},o(t){Nl(o),n=!1},d(t){o&&o.d(t),t&&Ys(e),r=!1,i()}}}function Yc(t,e,n){return!t.showInAllPlots||t.showInAllPlots&&e===n.activeRepeatedAnnotationIndex}function Wc(t,e,n){let r,i,o,a,s,l,c,u,f,{annotation:h}=e,{dataToPx:p}=e,{pxToData:d}=e,{bounds:g}=e,{theme:m}=e,{cm:y}=e,{editMode:v}=e,{editorState:b}=e,{index:x}=e,{repeatedIndex:w}=e,{moveX:k}=e,{moveY:M}=e,{resizing:_}=e,{dragging:A}=e,{activeResizer:E}=e,{forceAnchorDragTemp:T}=e;const $=ul();function O({color:t,opacity:e,display:n},r){const i=function(t){const{color:e,opacity:n,display:r}=t,{color:i,opacity:o}=b.defaults[r]||{};return Jt(e).toString()===Jt(i).toString()&&o===n}(h),o=aa(r,"vis.base.annotations."+n,{}),a=i&&o.color&&"opacity"in o?dc(o.color,o.opacity):dc(t,e/100);return y(a,{noInvert:i})}function N(t){const e="x"===t?g.x:g.y;return{plotStart:e,plotEnd:e+("x"===t?g.width:g.height),plotOtherAxisStart:"x"===t?g.y:g.x,plotOtherAxisSize:"x"===t?g.height:g.width}}let S=!1,L=!1,C=!1,D=!1;function R(){h.showInAllPlots&&w!==b.activeRepeatedAnnotationIndex||$("updateAnnotation",{annotation:h,index:x,type:"range"})}return t.$$set=t=>{"annotation"in t&&n(0,h=t.annotation),"dataToPx"in t&&n(22,p=t.dataToPx),"pxToData"in t&&n(23,d=t.pxToData),"bounds"in t&&n(3,g=t.bounds),"theme"in t&&n(4,m=t.theme),"cm"in t&&n(24,y=t.cm),"editMode"in t&&n(5,v=t.editMode),"editorState"in t&&n(25,b=t.editorState),"index"in t&&n(6,x=t.index),"repeatedIndex"in t&&n(7,w=t.repeatedIndex),"moveX"in t&&n(19,k=t.moveX),"moveY"in t&&n(20,M=t.moveY),"resizing"in t&&n(1,_=t.resizing),"dragging"in t&&n(21,A=t.dragging),"activeResizer"in t&&n(2,E=t.activeResizer),"forceAnchorDragTemp"in t&&n(26,T=t.forceAnchorDragTemp)},t.$$.update=()=>{if(33554496&t.$$.dirty[0]&&n(10,r=1===b.selectedRangeAnnotations.length&&b.selectedRangeAnnotations[0]===x),114820239&t.$$.dirty[0]&&r&&Yc(h,w,b)&&_&&(k||M)){if(["l","r"].includes(E)){const t=p(h.x0,0,h._plot)[0],e=p(h.x1,0,h._plot)[0];let r;"l"===E&&"line"===h.display?r="x0":"l"===E?r=t>e?"x1":"x0":"r"===E&&(r=t>e?"x0":"x1");let[i]=p(h[r],0,h._plot),o=p(h["x1"===r?"x0":"x1"],0,h._plot)[0];i-o>0!=i+k-o>0&&n(2,E="l"===E?"r":"l"),i+=k;const a=g.x,s=g.x+g.width;if(i>=a&&i<=s){const[t]=d(i,0,h._plot);if(n(0,h[r]=t,h),T&&(o-=k,o>=a&&o<=s)){const[t]=d(o,0,h._plot);n(0,h["x1"===r?"x0":"x1"]=t,h)}}}else{const t=p(0,h.y0,h._plot)[1],e=p(0,h.y1,h._plot)[1];let r;"t"===E&&"line"===h.display?r="y0":"t"===E?r=t<e?"y0":"y1":"b"===E&&(r=t<e?"y1":"y0");const i=p(0,h[r],h._plot);let o=i[1];const a=p(0,h["y1"===r?"y0":"y1"],h._plot)[1];o-a>0!=o+M-a>0&&n(2,E="t"===E?"b":"t"),o+=M;const s=g.y,l=g.y+g.height;if(o>=s&&o<=l){const[t,e]=d(i[0],o,h._plot);n(0,h[r]=e,h)}}n(19,k=0),n(20,M=0),R()}if(49808521&t.$$.dirty[0]&&r&&Yc(h,w,b)&&A&&(k||M)){const t=h.type;if("x"===t){let[e,r]=p(h.x0,0,h._plot),[i,o]=p(h.x1,0,h._plot);if(e+=k,i+=k,jl({start:Math.min(e,i),end:Math.max(e,i),bounds:g,type:t,move:k})){const[t,r]=d(e,0,h._plot),[o,a]=d(i,0,h._plot);n(0,h.x0=t,h),n(0,h.x1=o,h)}}else{let[e,r]=p(0,h.y0,h._plot),[i,o]=p(0,h.y1,h._plot);if(r+=M,o+=M,jl({start:Math.min(r,o),end:Math.max(r,o),bounds:g,type:t,move:M})){const[t,e]=d(0,r,h._plot),[i,a]=d(0,o,h._plot);n(0,h.y0=e,h),n(0,h.y1=a,h)}}n(19,k=0),n(20,M=0),R()}4194305&t.$$.dirty[0]&&n(28,[i,o]=function(t,e){return["x"===t.type?e(t.x0,0,t._plot)[0]:e(0,t.y0,t._plot)[1],"x"===t.type?e(t.x1,0,t._plot)[0]:e(0,t.y1,t._plot)[1]]}(h,p),i,(n(27,o),n(0,h),n(22,p),n(10,r),n(7,w),n(25,b),n(1,_),n(19,k),n(20,M),n(2,E),n(3,g),n(23,d),n(26,T),n(21,A),n(6,x))),268435456&t.$$.dirty[0]&&n(9,a=void 0===i),134217728&t.$$.dirty[0]&&n(8,s=void 0===o),402653184&t.$$.dirty[0]&&n(30,l=Math.min(i,o)),402653184&t.$$.dirty[0]&&n(29,c=Math.max(i,o)),1610612737&t.$$.dirty[0]&&n(16,u=({type:t}=h,e)=>{const r=[],{plotStart:i,plotEnd:o,plotOtherAxisStart:a,plotOtherAxisSize:s}=N(t),u=Math.max(l,i),f=Math.min(c-l,o-l,c-i);return n(11,S=l<i),n(12,L=c>o),f>=0?(r.push(`${"x"===t?"left":"top"}: ${u}px`),r.push(`${"x"===t?"width":"height"}: ${f}px`),r.push(`${"x"===t?"top":"left"}: ${a}px`),r.push(`${"x"===t?"height":"width"}: ${s}px`)):r.push("display: none"),r.push("background-color: "+O(h,e)),r.join("; ")}),268435457&t.$$.dirty[0]&&n(15,f=({type:t,strokeWidth:e,strokeType:r}=h,o)=>{const a=e||1,s=[],{plotStart:l,plotEnd:c,plotOtherAxisStart:u,plotOtherAxisSize:f}=N(t),p=i-a/2;if(i<=c&&i>=l){s.push(`${"x"===t?"left":"top"}: ${p}px`),s.push(`${"x"===t?"top":"left"}: ${u}px`),s.push(`${"x"===t?"height":"width"}: ${f}px`),s.push(`${"x"===t?"border-left-width":"border-top-width"}: ${a}px`);const e=i+a/2-a,r=i-a/2+a,o=-5;if(n(13,C=!1),n(14,D=!1),e<l){const r=Number((l-e).toFixed(1)),i="x"===t?`0 ${o}px 0 ${r}px`:`${r}px 0 ${o}px 0`;s.push(`clip-path: inset(${i})`),n(13,C=!0)}if(r>c){const e=Number((r-c).toFixed(1)),i="x"===t?`0 ${e}px 0 ${o}px`:`${o}px 0 ${e}px 0`;s.push(`clip-path: inset(${i})`),n(14,D=!0)}}else s.push("display: none");return s.push("border-color: "+O(h,o)),s.push("border-style: "+(r||"solid")),s.join("; ")}),402654976&t.$$.dirty[0]&&r&&$("updateEditorState",{selectedAnnotationProps:{start:i,end:o,invalidStart:a,invalidEnd:s}})},[h,_,E,g,m,v,x,w,s,a,r,S,L,C,D,f,u,function(t){v&&"Escape"===t.key&&r&&$("selectAnnotation",null)},function(){v&&($("selectAnnotation",{type:"range",index:x,repeatedIndex:w}),n(21,A=!0))},k,M,A,p,d,y,b,T,o,i,c,l,function(e){fl.call(this,t,e)},function(t){E=t,n(2,E),n(10,r),n(0,h),n(7,w),n(25,b),n(1,_),n(19,k),n(20,M),n(22,p),n(3,g),n(23,d),n(26,T),n(6,x),n(21,A)},function(t){_=t,n(1,_)},function(e){fl.call(this,t,e)},function(t){E=t,n(2,E),n(10,r),n(0,h),n(7,w),n(25,b),n(1,_),n(19,k),n(20,M),n(22,p),n(3,g),n(23,d),n(26,T),n(6,x),n(21,A)},function(t){_=t,n(1,_)},function(e){fl.call(this,t,e)}]}class qc extends Pl{constructor(t){super(),Il(this,t,Wc,Hc,js,{annotation:0,dataToPx:22,pxToData:23,bounds:3,theme:4,cm:24,editMode:5,editorState:25,index:6,repeatedIndex:7,moveX:19,moveY:20,resizing:1,dragging:21,activeResizer:2,forceAnchorDragTemp:26},Pc,[-1,-1])}}var Gc={exports:{}};!function(t,e){var n="[object Arguments]",r="[object Function]",i="[object GeneratorFunction]",o="[object Map]",a="[object Set]",s=/\w*$/,l=/^\[object .+?Constructor\]$/,c=/^(?:0|[1-9]\d*)$/,u={};u[n]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object DataView]"]=u["[object Boolean]"]=u["[object Date]"]=u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u[o]=u["[object Number]"]=u["[object Object]"]=u["[object RegExp]"]=u[a]=u["[object String]"]=u["[object Symbol]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u["[object Error]"]=u[r]=u["[object WeakMap]"]=!1;var f="object"==typeof na&&na&&na.Object===Object&&na,h="object"==typeof self&&self&&self.Object===Object&&self,p=f||h||Function("return this")(),d=e&&!e.nodeType&&e,g=d&&t&&!t.nodeType&&t,m=g&&g.exports===d;function y(t,e){return t.set(e[0],e[1]),t}function v(t,e){return t.add(e),t}function b(t,e,n,r){var i=-1,o=t?t.length:0;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function x(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function w(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function k(t,e){return function(n){return t(e(n))}}function M(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var _,A=Array.prototype,E=Function.prototype,T=Object.prototype,$=p["__core-js_shared__"],O=(_=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||""))?"Symbol(src)_1."+_:"",N=E.toString,S=T.hasOwnProperty,L=T.toString,C=RegExp("^"+N.call(S).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),D=m?p.Buffer:void 0,R=p.Symbol,I=p.Uint8Array,P=k(Object.getPrototypeOf,Object),z=Object.create,j=T.propertyIsEnumerable,F=A.splice,U=Object.getOwnPropertySymbols,B=D?D.isBuffer:void 0,H=k(Object.keys,Object),Y=pt(p,"DataView"),W=pt(p,"Map"),q=pt(p,"Promise"),G=pt(p,"Set"),V=pt(p,"WeakMap"),X=pt(Object,"create"),K=vt(Y),Z=vt(W),J=vt(q),Q=vt(G),tt=vt(V),et=R?R.prototype:void 0,nt=et?et.valueOf:void 0;function rt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function it(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function ot(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function at(t){this.__data__=new it(t)}function st(t,e,n){var r=t[e];S.call(t,e)&&bt(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function lt(t,e){for(var n=t.length;n--;)if(bt(t[n][0],e))return n;return-1}function ct(t,e,l,c,f,h,p){var d;if(c&&(d=h?c(t,f,h,p):c(t)),void 0!==d)return d;if(!_t(t))return t;var g=xt(t);if(g){if(d=function(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&S.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!e)return function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}(t,d)}else{var m=gt(t),k=m==r||m==i;if(kt(t))return function(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}(t,e);if("[object Object]"==m||m==n||k&&!h){if(x(t))return h?t:{};if(d=function(t){return"function"!=typeof t.constructor||yt(t)?{}:function(t){return _t(t)?z(t):{}}(P(t))}(k?{}:t),!e)return function(t,e){return ft(t,dt(t),e)}(t,function(t,e){return t&&ft(e,At(e),t)}(d,t))}else{if(!u[m])return h?t:{};d=function(t,e,n,r){var i,l=t.constructor;switch(e){case"[object ArrayBuffer]":return ut(t);case"[object Boolean]":case"[object Date]":return new l(+t);case"[object DataView]":return function(t,e){var n=e?ut(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,e){var n=e?ut(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,r);case o:return function(t,e,n){return b(e?n(w(t),!0):w(t),y,new t.constructor)}(t,r,n);case"[object Number]":case"[object String]":return new l(t);case"[object RegExp]":return function(t){var e=new t.constructor(t.source,s.exec(t));return e.lastIndex=t.lastIndex,e}(t);case a:return function(t,e,n){return b(e?n(M(t),!0):M(t),v,new t.constructor)}(t,r,n);case"[object Symbol]":return i=t,nt?Object(nt.call(i)):{}}}(t,m,ct,e)}}p||(p=new at);var _=p.get(t);if(_)return _;if(p.set(t,d),!g)var A=l?function(t){return function(t,e,n){var r=e(t);return xt(t)?r:function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}(r,n(t))}(t,At,dt)}(t):At(t);return function(t,e){for(var n=-1,r=t?t.length:0;++n<r&&!1!==e(t[n],n););}(A||t,(function(n,r){A&&(n=t[r=n]),st(d,r,ct(n,e,l,c,r,t,p))})),d}function ut(t){var e=new t.constructor(t.byteLength);return new I(e).set(new I(t)),e}function ft(t,e,n,r){n||(n={});for(var i=-1,o=e.length;++i<o;){var a=e[i],s=r?r(n[a],t[a],a,n,t):void 0;st(n,a,void 0===s?t[a]:s)}return n}function ht(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function pt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!_t(t)||(e=t,O&&O in e))&&(Mt(t)||x(t)?C:l).test(vt(t));var e}(n)?n:void 0}rt.prototype.clear=function(){this.__data__=X?X(null):{}},rt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},rt.prototype.get=function(t){var e=this.__data__;if(X){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return S.call(e,t)?e[t]:void 0},rt.prototype.has=function(t){var e=this.__data__;return X?void 0!==e[t]:S.call(e,t)},rt.prototype.set=function(t,e){return this.__data__[t]=X&&void 0===e?"__lodash_hash_undefined__":e,this},it.prototype.clear=function(){this.__data__=[]},it.prototype.delete=function(t){var e=this.__data__,n=lt(e,t);return!(n<0||(n==e.length-1?e.pop():F.call(e,n,1),0))},it.prototype.get=function(t){var e=this.__data__,n=lt(e,t);return n<0?void 0:e[n][1]},it.prototype.has=function(t){return lt(this.__data__,t)>-1},it.prototype.set=function(t,e){var n=this.__data__,r=lt(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},ot.prototype.clear=function(){this.__data__={hash:new rt,map:new(W||it),string:new rt}},ot.prototype.delete=function(t){return ht(this,t).delete(t)},ot.prototype.get=function(t){return ht(this,t).get(t)},ot.prototype.has=function(t){return ht(this,t).has(t)},ot.prototype.set=function(t,e){return ht(this,t).set(t,e),this},at.prototype.clear=function(){this.__data__=new it},at.prototype.delete=function(t){return this.__data__.delete(t)},at.prototype.get=function(t){return this.__data__.get(t)},at.prototype.has=function(t){return this.__data__.has(t)},at.prototype.set=function(t,e){var n=this.__data__;if(n instanceof it){var r=n.__data__;if(!W||r.length<199)return r.push([t,e]),this;n=this.__data__=new ot(r)}return n.set(t,e),this};var dt=U?k(U,Object):function(){return[]},gt=function(t){return L.call(t)};function mt(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||c.test(t))&&t>-1&&t%1==0&&t<e}function yt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||T)}function vt(t){if(null!=t){try{return N.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function bt(t,e){return t===e||t!=t&&e!=e}(Y&&"[object DataView]"!=gt(new Y(new ArrayBuffer(1)))||W&&gt(new W)!=o||q&&"[object Promise]"!=gt(q.resolve())||G&&gt(new G)!=a||V&&"[object WeakMap]"!=gt(new V))&&(gt=function(t){var e=L.call(t),n="[object Object]"==e?t.constructor:void 0,r=n?vt(n):void 0;if(r)switch(r){case K:return"[object DataView]";case Z:return o;case J:return"[object Promise]";case Q:return a;case tt:return"[object WeakMap]"}return e});var xt=Array.isArray;function wt(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(t.length)&&!Mt(t)}var kt=B||function(){return!1};function Mt(t){var e=_t(t)?L.call(t):"";return e==r||e==i}function _t(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function At(t){return wt(t)?function(t,e){var r=xt(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&wt(t)}(t)&&S.call(t,"callee")&&(!j.call(t,"callee")||L.call(t)==n)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],i=r.length,o=!!i;for(var a in t)!e&&!S.call(t,a)||o&&("length"==a||mt(a,i))||r.push(a);return r}(t):function(t){if(!yt(t))return H(t);var e=[];for(var n in Object(t))S.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}t.exports=function(t){return ct(t,!0,!0)}}(Gc,Gc.exports);var Vc=ra(Gc.exports);const{document:Xc}=Fs;function Kc(t){Bs(t,"svelte-1npguyw",".annotations-inner.svelte-1npguyw{width:100%;height:100%;pointer-events:none}.annotations-inner.editing.svelte-1npguyw{pointer-events:auto}.annotations-inner.create-mode.svelte-1npguyw{pointer-events:auto;cursor:crosshair}.annotations-inner.create-mode.svelte-1npguyw{-webkit-user-select:none;user-select:none}.annotations-inner.create-mode.svelte-1npguyw .text-annotation,.annotations-inner.create-mode.svelte-1npguyw .text-annotation .resizer{pointer-events:none}.create-rect.text.svelte-1npguyw{position:absolute;outline:1px solid rgba(255, 0, 221, 0.95);background:rgba(255, 0, 221, 0.1)}.create-rect.range.svelte-1npguyw{position:absolute;background:rgba(0, 0, 0, 0.1)}.annotation-keys{display:flex;flex-direction:column;gap:5px;width:100%;margin-top:10px}.annotation-keys.hide{display:none}.annotation-keys .key{display:flex;align-items:baseline}.annotation-keys .num{flex:0 0 auto;display:flex;justify-content:center;align-items:center;font-size:12px;border-radius:50%;width:20px;height:20px}.annotation-keys.dir-rtl .num{margin-left:5px}.annotation-keys:not(.dir-rtl) .num{margin-right:5px}.annotation-keys .num.dw-bold{font-weight:700}.annotation-plot.svelte-1npguyw{position:absolute;width:100%;height:100%}")}function Zc(t,e,n){const r=t.slice();return r[79]=e[n],r}function Jc(t,e,n){const r=t.slice();return r[79]=e[n],r}function Qc(t,e,n){const r=t.slice();return r[84]=e[n],r}function tu(t){let e,n=t[11],r=[];for(let e=0;e<n.length;e+=1)r[e]=eu(Qc(t,n,e));return{c(){e=qs("div");for(let t=0;t<r.length;t+=1)r[t].c();Qs(e,"class","annotation-plots")},m(t,n){Hs(t,e,n);for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,null)},p(t,i){if(2048&i[0]){let o;for(n=t[11],o=0;o<n.length;o+=1){const a=Qc(t,n,o);r[o]?r[o].p(a,i):(r[o]=eu(a),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){t&&Ys(e),Ws(r,t)}}}function eu(t){let e;return{c(){e=qs("div"),Qs(e,"class","annotation-plot svelte-1npguyw"),nl(e,"width",t[84].width+"px"),nl(e,"height",t[84].height+"px"),nl(e,"left",t[84].x+"px"),nl(e,"top",t[84].y+"px")},m(t,n){Hs(t,e,n)},p(t,n){2048&n[0]&&nl(e,"width",t[84].width+"px"),2048&n[0]&&nl(e,"height",t[84].height+"px"),2048&n[0]&&nl(e,"left",t[84].x+"px"),2048&n[0]&&nl(e,"top",t[84].y+"px")},d(t){t&&Ys(e)}}}function nu(t){let e,n,r,i,o,a,s,l,c,u,f;function h(e){t[53](e)}function p(e){t[54](e)}function d(e){t[55](e)}function g(e){t[56](e)}function m(e){t[57](e)}function y(e){t[58](e)}function v(e){t[59](e)}function b(e){t[60](e)}function x(e){t[61](e)}let w={annotation:t[79],dataToPx:t[1],pxToData:t[2],bounds:t[79]._bounds,theme:t[3],cm:t[4],chroma:t[7],purifyHtml:t[8],key:t[14][t[79]._index],rtl:t[9],mirrorX:t[10],visWidth:t[5],isMobileWidth:t[21],editMode:t[12],editorState:t[0],forceAnchorDragTemp:t[27],index:t[79]._index,repeatedIndex:t[79]._repeatedIndex};return void 0!==t[24]&&(w.noOffsetAtEventStart=t[24]),void 0!==t[29]&&(w.isEditable=t[29]),void 0!==t[17]&&(w.dragging=t[17]),void 0!==t[26]&&(w.forceAnchorDrag=t[26]),void 0!==t[25]&&(w.forceOffsetDrag=t[25]),void 0!==t[15]&&(w.moveX=t[15]),void 0!==t[16]&&(w.moveY=t[16]),void 0!==t[18]&&(w.resizing=t[18]),void 0!==t[28]&&(w.activeResizer=t[28]),e=new Ic({props:w}),pl.push(()=>Sl(e,"noOffsetAtEventStart",h)),pl.push(()=>Sl(e,"isEditable",p)),pl.push(()=>Sl(e,"dragging",d)),pl.push(()=>Sl(e,"forceAnchorDrag",g)),pl.push(()=>Sl(e,"forceOffsetDrag",m)),pl.push(()=>Sl(e,"moveX",y)),pl.push(()=>Sl(e,"moveY",v)),pl.push(()=>Sl(e,"resizing",b)),pl.push(()=>Sl(e,"activeResizer",x)),e.$on("selectAnnotation",t[33]),e.$on("updateEditorState",t[35]),e.$on("updateAnnotation",t[34]),{c(){Ll(e.$$.fragment)},m(t,n){Cl(e,t,n),f=!0},p(t,f){const h={};2&f[1]&&(h.annotation=t[79]),2&f[0]&&(h.dataToPx=t[1]),4&f[0]&&(h.pxToData=t[2]),2&f[1]&&(h.bounds=t[79]._bounds),8&f[0]&&(h.theme=t[3]),16&f[0]&&(h.cm=t[4]),128&f[0]&&(h.chroma=t[7]),256&f[0]&&(h.purifyHtml=t[8]),16384&f[0]|2&f[1]&&(h.key=t[14][t[79]._index]),512&f[0]&&(h.rtl=t[9]),1024&f[0]&&(h.mirrorX=t[10]),32&f[0]&&(h.visWidth=t[5]),2097152&f[0]&&(h.isMobileWidth=t[21]),4096&f[0]&&(h.editMode=t[12]),1&f[0]&&(h.editorState=t[0]),134217728&f[0]&&(h.forceAnchorDragTemp=t[27]),2&f[1]&&(h.index=t[79]._index),2&f[1]&&(h.repeatedIndex=t[79]._repeatedIndex),!n&&16777216&f[0]&&(n=!0,h.noOffsetAtEventStart=t[24],xl(()=>n=!1)),!r&&536870912&f[0]&&(r=!0,h.isEditable=t[29],xl(()=>r=!1)),!i&&131072&f[0]&&(i=!0,h.dragging=t[17],xl(()=>i=!1)),!o&&67108864&f[0]&&(o=!0,h.forceAnchorDrag=t[26],xl(()=>o=!1)),!a&&33554432&f[0]&&(a=!0,h.forceOffsetDrag=t[25],xl(()=>a=!1)),!s&&32768&f[0]&&(s=!0,h.moveX=t[15],xl(()=>s=!1)),!l&&65536&f[0]&&(l=!0,h.moveY=t[16],xl(()=>l=!1)),!c&&262144&f[0]&&(c=!0,h.resizing=t[18],xl(()=>c=!1)),!u&&268435456&f[0]&&(u=!0,h.activeResizer=t[28],xl(()=>u=!1)),e.$set(h)},i(t){f||(Ol(e.$$.fragment,t),f=!0)},o(t){Nl(e.$$.fragment,t),f=!1},d(t){Dl(e,t)}}}function ru(t){let e,n,r,i,o,a,s;function l(e){t[63](e)}function c(e){t[64](e)}function u(e){t[65](e)}function f(e){t[66](e)}function h(e){t[67](e)}let p={annotation:t[79],dataToPx:t[1],pxToData:t[2],bounds:t[79]._bounds,theme:t[3],cm:t[4],editMode:t[12],editorState:t[0],forceAnchorDragTemp:t[27],index:t[79]._index,repeatedIndex:t[79]._repeatedIndex};return void 0!==t[17]&&(p.dragging=t[17]),void 0!==t[15]&&(p.moveX=t[15]),void 0!==t[16]&&(p.moveY=t[16]),void 0!==t[18]&&(p.resizing=t[18]),void 0!==t[28]&&(p.activeResizer=t[28]),e=new qc({props:p}),pl.push(()=>Sl(e,"dragging",l)),pl.push(()=>Sl(e,"moveX",c)),pl.push(()=>Sl(e,"moveY",u)),pl.push(()=>Sl(e,"resizing",f)),pl.push(()=>Sl(e,"activeResizer",h)),e.$on("selectAnnotation",t[33]),e.$on("updateEditorState",t[35]),e.$on("updateAnnotation",t[34]),{c(){Ll(e.$$.fragment)},m(t,n){Cl(e,t,n),s=!0},p(t,s){const l={};1&s[1]&&(l.annotation=t[79]),2&s[0]&&(l.dataToPx=t[1]),4&s[0]&&(l.pxToData=t[2]),1&s[1]&&(l.bounds=t[79]._bounds),8&s[0]&&(l.theme=t[3]),16&s[0]&&(l.cm=t[4]),4096&s[0]&&(l.editMode=t[12]),1&s[0]&&(l.editorState=t[0]),134217728&s[0]&&(l.forceAnchorDragTemp=t[27]),1&s[1]&&(l.index=t[79]._index),1&s[1]&&(l.repeatedIndex=t[79]._repeatedIndex),!n&&131072&s[0]&&(n=!0,l.dragging=t[17],xl(()=>n=!1)),!r&&32768&s[0]&&(r=!0,l.moveX=t[15],xl(()=>r=!1)),!i&&65536&s[0]&&(i=!0,l.moveY=t[16],xl(()=>i=!1)),!o&&262144&s[0]&&(o=!0,l.resizing=t[18],xl(()=>o=!1)),!a&&268435456&s[0]&&(a=!0,l.activeResizer=t[28],xl(()=>a=!1)),e.$set(l)},i(t){s||(Ol(e.$$.fragment,t),s=!0)},o(t){Nl(e.$$.fragment,t),s=!1},d(t){Dl(e,t)}}}function iu(t){let e,n,r;return{c(){e=qs("div"),Qs(e,"class",n="create-rect "+t[0].createMode+" svelte-1npguyw"),Qs(e,"style",r=t[30]())},m(t,n){Hs(t,e,n)},p(t,i){1&i[0]&&n!==(n="create-rect "+t[0].createMode+" svelte-1npguyw")&&Qs(e,"class",n),1073741824&i[0]&&r!==(r=t[30]())&&Qs(e,"style",r)},d(t){t&&Ys(e)}}}function ou(t){let e,n,r,i,o,a,s,l,c,u;bl(t[52]);let f=t[12]&&t[11]&&t[11].length&&tu(t),h=t[32],p=[];for(let e=0;e<h.length;e+=1)p[e]=nu(Jc(t,h,e));const d=t=>Nl(p[t],1,1,()=>{p[t]=null});let g=t[31],m=[];for(let e=0;e<g.length;e+=1)m[e]=ru(Zc(t,g,e));const y=t=>Nl(m[t],1,1,()=>{m[t]=null});let v=t[12]&&t[19]&&iu(t);return{c(){e=Xs(),n=qs("div"),f&&f.c(),r=Xs(),i=qs("div");for(let t=0;t<p.length;t+=1)p[t].c();o=Xs(),a=qs("div");for(let t=0;t<m.length;t+=1)m[t].c();s=Xs(),v&&v.c(),Qs(i,"class","text-annotations"),Qs(i,"aria-label",t[6]),Qs(i,"role","list"),Qs(a,"class","range-annotations"),Qs(n,"class","annotations-inner svelte-1npguyw"),rl(n,"editing",t[20]),rl(n,"create-mode",t[0].createMode),rl(n,"creating",t[19])},m(h,d){Hs(h,e,d),Hs(h,n,d),f&&f.m(n,null),Us(n,r),Us(n,i);for(let t=0;t<p.length;t+=1)p[t]&&p[t].m(i,null);t[62](i),Us(n,o),Us(n,a);for(let t=0;t<m.length;t+=1)m[t]&&m[t].m(a,null);var g;Us(n,s),v&&v.m(n,null),t[68](n),l=!0,c||(u=[Zs(window,"keydown",t[36]),Zs(window,"mousedown",t[37]),Zs(window,"mousemove",t[38]),Zs(window,"mouseup",t[39]),Zs(window,"resize",t[52]),Zs(Xc.body,"mouseleave",t[40]),Zs(n,"mousedown",(g=t[41],function(t){return t.preventDefault(),g.call(this,t)}))],c=!0)},p(t,e){if(t[12]&&t[11]&&t[11].length?f?f.p(t,e):(f=tu(t),f.c(),f.m(n,r)):f&&(f.d(1),f=null),1059575743&e[0]|30&e[1]){let n;for(h=t[32],n=0;n<h.length;n+=1){const r=Jc(t,h,n);p[n]?(p[n].p(r,e),Ol(p[n],1)):(p[n]=nu(r),p[n].c(),Ol(p[n],1),p[n].m(i,null))}for(Tl(),n=h.length;n<p.length;n+=1)d(n);$l()}if((!l||64&e[0])&&Qs(i,"aria-label",t[6]),403148831&e[0]|29&e[1]){let n;for(g=t[31],n=0;n<g.length;n+=1){const r=Zc(t,g,n);m[n]?(m[n].p(r,e),Ol(m[n],1)):(m[n]=ru(r),m[n].c(),Ol(m[n],1),m[n].m(a,null))}for(Tl(),n=g.length;n<m.length;n+=1)y(n);$l()}t[12]&&t[19]?v?v.p(t,e):(v=iu(t),v.c(),v.m(n,null)):v&&(v.d(1),v=null),(!l||1048576&e[0])&&rl(n,"editing",t[20]),(!l||1&e[0])&&rl(n,"create-mode",t[0].createMode),(!l||524288&e[0])&&rl(n,"creating",t[19])},i(t){if(!l){for(let t=0;t<h.length;t+=1)Ol(p[t]);for(let t=0;t<g.length;t+=1)Ol(m[t]);l=!0}},o(t){p=p.filter(Boolean);for(let t=0;t<p.length;t+=1)Nl(p[t]);m=m.filter(Boolean);for(let t=0;t<m.length;t+=1)Nl(m[t]);l=!1},d(r){r&&Ys(e),r&&Ys(n),f&&f.d(),Ws(p,r),t[62](null),Ws(m,r),v&&v.d(),t[68](null),c=!1,Ps(u)}}}function au(t,e,n,r){return null===e?{x:0,y:0,width:n,height:r}:e.find(e=>e.name===t._plot)}function su(t,e,n,r){let i=t.map((t,e)=>({...t,_index:e}));return i=e?i.flatMap(t=>t.showInAllPlots?function(t,e){return e.map((e,n)=>({...t,_plot:e.name,_repeatedIndex:n}))}(t,e):{...t,_plot:t.plot}):i,i=i.map(t=>({...t,_bounds:au(t,e,n,r)})),i}function lu(t,e,n){let r,i,o,a,s,l,c,u,{textAnnotations:f=[]}=e,{rangeAnnotations:h=[]}=e,{dataToPx:p}=e,{pxToData:d}=e,{theme:g}=e,{cm:m=(t=>t)}=e,{visWidth:y}=e,{visHeight:v}=e,{annotationKeysSel:b=null}=e,{ariaLabel:x=""}=e,{chroma:w}=e,{purifyHtml:k}=e,{rtl:M=!1}=e,{mirrorX:_=!1}=e,{plots:A=null}=e;function E({textAnnotations:t,isMobileWidth:e,dataToPx:n}){let r=0;return t.map(t=>{const i=e&&t.mobileFallback&&!hc(t)&&!pc(t)&&function(t,e){const[n,r]=e(t.x,t.y,t._plot);return void 0!==n&&void 0!==r}(t,n);return i&&r++,{render:i,num:i?r:null}})}let T,$,O=[],{editMode:N=!1}=e,{editorState:S={defaults:{},selectedTextAnnotations:[],selectedRangeAnnotations:[],activeRepeatedAnnotationIndex:null,createMode:!1,hideConnectorLine:!1,forceOffsetDrag:!1,width:null,height:null,dataToPx:null,pxToData:null,selectedAnnotationProps:{x:null,y:null,invalidX:!1,invalidY:!1,width:null,height:null,mobileFallback:!1,text:null,start:null,end:null,invalidStart:!1,invalidEnd:!1}}}=e;cl(()=>{S&&$&&(n(0,S.width=$.offsetWidth,S),n(0,S.height=$.offsetHeight,S))});let L,C,D,R,I,P=0,z=0,j=!1,F=!1,U=!1,B=0,H=0,Y=!1,W=!1;function q(){n(24,L=!1),n(25,C=!1),n(26,D=!1),n(27,R=!1),n(0,S.forceOffsetDrag=!1,S),n(17,j=!1),F=!1,n(18,U=!1)}function G(){n(15,P=0),n(16,z=0),n(47,B=0),n(48,H=0),n(19,Y=!1),n(0,S.createMode=!1,S)}const V=ul();let X=!1;const K=document.querySelector(".dw-chart-body");return t.$$set=t=>{"textAnnotations"in t&&n(42,f=t.textAnnotations),"rangeAnnotations"in t&&n(43,h=t.rangeAnnotations),"dataToPx"in t&&n(1,p=t.dataToPx),"pxToData"in t&&n(2,d=t.pxToData),"theme"in t&&n(3,g=t.theme),"cm"in t&&n(4,m=t.cm),"visWidth"in t&&n(5,y=t.visWidth),"visHeight"in t&&n(44,v=t.visHeight),"annotationKeysSel"in t&&n(45,b=t.annotationKeysSel),"ariaLabel"in t&&n(6,x=t.ariaLabel),"chroma"in t&&n(7,w=t.chroma),"purifyHtml"in t&&n(8,k=t.purifyHtml),"rtl"in t&&n(9,M=t.rtl),"mirrorX"in t&&n(10,_=t.mirrorX),"plots"in t&&n(11,A=t.plots),"editMode"in t&&n(12,N=t.editMode),"editorState"in t&&n(0,S=t.editorState)},t.$$.update=()=>{if(2080&t.$$.dirty[0]|10240&t.$$.dirty[1]&&n(51,r=su(f,A,y,v)),2080&t.$$.dirty[0]|12288&t.$$.dirty[1]&&n(50,i=su(h,A,y,v)),1048576&t.$$.dirty[1]&&n(32,o=[...r].reverse()),524288&t.$$.dirty[1]&&n(31,a=[...i].reverse()),8192&t.$$.dirty[0]&&n(21,s=u<=450),136&t.$$.dirty[0]&&n(49,l=sa(g,w).fallbackBaseColor),2114050&t.$$.dirty[0]|280576&t.$$.dirty[1]&&b&&(n(14,O=E({textAnnotations:f,isMobileWidth:s,dataToPx:p})),b.classed("hide",!0).html(""),b.classed("dir-rtl",M),s)){let t=!1;f.forEach((e,n)=>{const r=O[n];r.render&&(t=!0,b.append("div.key").html(function(t,e,n){return`<div  style="border: 1px solid ${t}" class="num dw-circle dw-bold"><span class="export-text">${e.num}</span></div><span class="text export-text">${k(n.text)}</span>`}(l,r,e)))}),b.classed("hide",!t)}3&t.$$.dirty[0]&&S&&n(0,S.dataToPx=p,S),5&t.$$.dirty[0]&&S&&n(0,S.pxToData=d,S),98305&t.$$.dirty[0]|196608&t.$$.dirty[1]&&n(30,c=()=>{const t=[];if("text"===S.createMode){if(Math.abs(P)<1)return;return t.push(`top: ${z>0?H:H+z}px`),t.push(`height: ${z>0?z:-z}px`),t.push(`left: ${P>0?B:B+P}px`),t.push(`width: ${P>0?P:-P}px`),t.join("; ")}if("range"===S.createMode){if(Math.abs(P)<1&&Math.abs(z)<1)return;Math.abs(z)>Math.abs(P)?(t.push(`top: ${z<0?H+z:H}px`),t.push("left: 0px"),t.push("width: 100%"),t.push(`height: ${Math.abs(z)}px`)):(t.push("top: 0px"),t.push(`left: ${P<0?B+P:B}px`),t.push("height: 100%"),t.push(`width: ${Math.abs(P)}px`))}return t.join("; ")}),4097&t.$$.dirty[0]|6144&t.$$.dirty[1]&&N&&V("update",{rangeAnnotations:Vc(h),textAnnotations:Vc(f),editorState:Vc(S)}),1966080&t.$$.dirty[0]&&(n(20,X=j||U||Y),K&&(X?K.classList.add("editing-annotations"):K.classList.remove("editing-annotations")))},[S,p,d,g,m,y,x,w,k,M,_,A,N,u,O,P,z,j,U,Y,X,s,T,$,L,C,D,R,I,W,c,a,o,function(t){if(null===t.detail)return n(0,S.selectedTextAnnotations=[],S),n(0,S.selectedRangeAnnotations=[],S),n(0,S.activeRepeatedAnnotationIndex=null,S),void n(29,W=!1);if(n(0,S.activeRepeatedAnnotationIndex=t.detail.repeatedIndex,S),"text"===t.detail.type){const e=S.selectedTextAnnotations,r=e.length>1;(e[0]!==t.detail.index||r)&&(n(29,W=!1),n(0,S.selectedTextAnnotations=[t.detail.index],S),n(0,S.selectedRangeAnnotations=[],S))}else n(0,S.selectedRangeAnnotations=[t.detail.index],S),n(0,S.selectedTextAnnotations=[],S)},function(t){const{annotation:e,index:r,type:i}=t.detail,o=Vc(e);delete o._index,delete o._bounds,delete o._plot,delete o._repeatedIndex,"text"===i?Uo(f[r],o)||n(42,f[r]=o,f):Uo(h[r],o)||n(43,h[r]=o,h)},function(t){const[e,r]=Object.entries(t.detail)[0];n(0,S[e]=r,S)},function(t){N&&"Escape"===t.key&&Y&&G()},function(){N&&(n(0,S.selectedTextAnnotations=[],S),n(0,S.selectedRangeAnnotations=[],S),n(0,S.activeRepeatedAnnotationIndex=null,S))},function(t){N&&((j||Y||U&&["l","r"].includes(I))&&(n(15,P+=t.movementX),t.movementX&&(n(29,W=!1),F=!0)),(j||Y||U&&["t","b"].includes(I))&&(n(16,z+=t.movementY),t.movementY&&(n(29,W=!1),F=!0)),n(27,R=!1),t.ctrlKey&&!L&&n(27,R=!0))},function(t){N&&(F||n(29,W=t.target.classList.contains("text-edit")||t.target.parentNode.classList&&t.target.parentNode.classList.contains("text-edit")),q(),Y&&(function(){if("text"===S.createMode){const[t,e]=d(B,H),r=function(t,e){const n=t*(_?-1:1)<0,r=e<0;return n&&r?"br":n&&!r?"tr":!n&&r?"bl":"tl"}(P,z),i=Math.abs(P/y*100),o={...Vc(S.defaults.text),x:t,y:e,align:r,width:i};Math.abs(P)<10&&Math.abs(z)<10&&(o.width=25,o.align="mc",o.dy=H<100?50:-50,o.connectorLine.enabled=!0),s&&(o.mobileFallback=!1),f.unshift(o),n(42,f)}else if("range"===S.createMode){const[t,e]=d(B,H),[r,i]=d(B+P,H+z),o=Math.abs(P)>Math.abs(z)?"x":"y";let a="range";("x"===o&&Math.abs(P)<10||"y"===o&&Math.abs(z)<10)&&(a="line");const s={...Vc(S.defaults[a]),type:o,display:a,x0:t,x1:r,y0:e,y1:i};h.unshift(s),n(43,h)}}(),function(){if("text"===S.createMode){const t=0;if(n(0,S.selectedTextAnnotations=[t],S),n(0,S.selectedRangeAnnotations=[],S),E({textAnnotations:f,isMobileWidth:s,dataToPx:p})[t].render)return;n(29,W=!0),setTimeout(()=>{const t=T.querySelectorAll(".text-annotation"),e=t[t.length-1].querySelector(".text-edit");e.focus(),function(t){const e=document.createRange();e.selectNodeContents(t);const n=window.getSelection();n.removeAllRanges(),n.addRange(e)}(e)})}if("range"===S.createMode){const t=0;n(0,S.selectedTextAnnotations=[],S),n(0,S.selectedRangeAnnotations=[t],S)}}(),G()))},function(){N&&(j||U)&&q()},function(t){N&&S.createMode&&(n(19,Y=!0),n(47,B=t.offsetX),n(48,H=t.offsetY))},f,h,v,b,function({textAnnotations:t,rangeAnnotations:e,editorState:r}){void 0===t||Uo(f,t)||n(42,f=t),void 0===e||Uo(h,e)||n(43,h=e),void 0===r||Uo(S,r)||n(0,S=r)},B,H,l,i,r,function(){n(13,u=window.innerWidth)},function(t){L=t,n(24,L)},function(t){W=t,n(29,W)},function(t){j=t,n(17,j)},function(t){D=t,n(26,D)},function(t){C=t,n(25,C)},function(t){P=t,n(15,P)},function(t){z=t,n(16,z)},function(t){U=t,n(18,U)},function(t){I=t,n(28,I)},function(t){pl[t?"unshift":"push"](()=>{T=t,n(22,T)})},function(t){j=t,n(17,j)},function(t){P=t,n(15,P)},function(t){z=t,n(16,z)},function(t){U=t,n(18,U)},function(t){I=t,n(28,I)},function(t){pl[t?"unshift":"push"](()=>{$=t,n(23,$)})}]}class cu extends Pl{constructor(t){super(),Il(this,t,lu,ou,js,{textAnnotations:42,rangeAnnotations:43,dataToPx:1,pxToData:2,theme:3,cm:4,visWidth:5,visHeight:44,annotationKeysSel:45,ariaLabel:6,chroma:7,purifyHtml:8,rtl:9,mirrorX:10,plots:11,editMode:12,editorState:0,setAnnotationState:46},Kc,[-1,-1,-1])}get setAnnotationState(){return this.$$.ctx[46]}}function uu(t){return Wo(t)?t:dw.column("x",[t],"date").val(0)}function fu(t,e){const n=t.chart().get("metadata.data.column-format",{})[e]||{};return{prepend:n["number-prepend"]||"",append:n["number-append"]||"",multiply:Math.pow(10,-n["number-divisor"]||0)}}function hu(t,e){return"number"===e?function(t){return Vo(t)&&Go(t)}(t):"date"!==e||function(t){return Wo(t)&&!isNaN(t.getTime())}(t)}const pu="--zero-baseline--",du={"":"M 0,0",circle:"M1,0A1,1,0,1,1,-1,0A1,1,0,1,1,1,0",cross:"M-1.1889981892818033,-0.3963327297606011L-0.3963327297606011,-0.3963327297606011L-0.3963327297606011,-1.1889981892818033L0.3963327297606011,-1.1889981892818033L0.3963327297606011,-0.3963327297606011L1.1889981892818033,-0.3963327297606011L1.1889981892818033,0.3963327297606011L0.3963327297606011,0.3963327297606011L0.3963327297606011,1.1889981892818033L-0.3963327297606011,1.1889981892818033L-0.3963327297606011,0.3963327297606011L-1.1889981892818033,0.3963327297606011Z",diamond:"M0,-1.2533021179752901L1.2533021179752901,0L0,1.2533021179752901L-1.2533021179752901,0Z",hexagon:"M0,-1.0995723403806665L0.9523860585677004,-0.5497861701903333L0.9523860585677004,0.5497861701903333L0,1.0995723403806665L-0.9523860585677004,0.5497861701903333L-0.9523860585677004,-0.5497861701903333L0,-1.0995723403806665",marker:"M0.004979896974227243,-3.3767473763342513C-0.5667419149948458,-3.3767473763342513,-1.0302899786713222,-2.913302192969097,-1.0302899786713222,-2.3414787254543126C-1.0302899786713222,-2.181335722756794,-0.993893619009957,-2.0294807089487485,-0.9288867346761991,-1.8942102462789254C-0.9252491808116011,-1.8865223925388308,0.004978672208616249,0,0.004978672208616249,0L0.9276240013312831,-1.8715643301319844C0.9996071505851586,-2.0124956594557375,1.0402473230885547,-2.1722393885640776,1.0402473230885547,-2.3414787254543126C1.0402473230885547,-2.9133034177347077,0.5768021397234003,-3.3767473763342513,0.004977447443005238,-3.3767473763342513M0.6211607006217187,-2.341477500688702A0.6211607006217187,0.6211607006217187,0,1,1,-0.6211607006217187,-2.341477500688702A0.6211607006217187,0.6211607006217187,0,1,1,0.6211607006217187,-2.341477500688702",spike:"M-2,0L0,-3.141592653589793L2,0",square:"M-0.8862269254527579,-0.8862269254527579h1.7724538509055159v1.7724538509055159h-1.7724538509055159Z",star:"M0,-1.6728932614097094L0.3755879381022125,-0.5169524475509316L1.5910160373299558,-0.5169524475509316L0.6077140496138717,0.19745826439700848L0.9833019877160845,1.353399078255786L1.6653345369377348e-16,0.6389883663078462L-0.983301987716084,1.3533990782557863L-0.6077140496138715,0.19745826439700861L-1.591016037329956,-0.5169524475509313L-0.37558793810221275,-0.5169524475509315Z",triangleDown:"M0,1.555120301556214L1.3467736870885982,-0.777560150778107L-1.3467736870885982,-0.777560150778107Z",triangleUp:"M0,-1.555120301556214L1.3467736870885982,0.777560150778107L-1.3467736870885982,0.777560150778107Z",wye:"M0.4783075492868435,0.27615099233618934L0.4783075492868435,1.2327660909098763L-0.4783075492868435,1.2327660909098763L-0.4783075492868435,0.2761509923361892L-1.3067605262954114,-0.20215655695065426L-0.8284529770085678,-1.030609533959222L2.7755575615628914e-17,-0.5523019846723786L0.8284529770085678,-1.030609533959222L1.3067605262954114,-0.20215655695065426Z",triangle_down:"M0,1.555120301556214L1.3467736870885982,-0.777560150778107L-1.3467736870885982,-0.777560150778107Z",triangle_up:"M0,-1.555120301556214L1.3467736870885982,0.777560150778107L-1.3467736870885982,0.777560150778107Z"},gu=["","circle","square","diamond","triangleUp","triangleDown","cross","hexagon","star","wye"],mu=Object.fromEntries(gu.map(t=>[t.replace(/[A-Z]/g,t=>"_".concat(t.toLowerCase())),t])),yu={width:"style0",dash:"style0",directLabel:!1,colorKey:!0,labelLastValue:!1};function vu(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r={width:"style".concat(aa(n,"vis.d3-lines.lines.defaultWidthStyle",0))},i=Object.assign({},yu,r);return Object.fromEntries(t.map(t=>{const n=t.name();return[n,Object.assign({},i,e[n]||{})]}))}function bu(t){let{vis:e,dataset:n}=t;const r=e.get("custom-area-fills",[]);if(!r||!r.length)return[];const i=e.axes().y;let o=r.filter(t=>{const e=t.from===pu||n.hasColumn(t.from),r=t.to===pu||n.hasColumn(t.to);return e&&r});return i.length>1?o:(o=o.filter(t=>xu(t)),o.length?o.slice(0,1):[])}function xu(t){return t.from===pu&&t.to!==pu||t.to===pu&&t.from!==pu}function wu(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r,i;if(void 0===e||isNaN(e)||null===e)return"";let o=n.format||"0.[00]";const a=n.multiply||1,s=n.prepend||"",l=n.append||"",c=null!==(r=n.minusChar)&&void 0!==r?r:"â",u=null!==(i=n.plusMinusChar)&&void 0!==i?i:"Â±";o.includes("%")&&Number.isFinite(e)&&(e*=.01),e*=a;const f=o.indexOf("(")>-1,h=o.indexOf(";")>-1;o=o.replace(/;/g,",");let p=t(f?e:Math.abs(e)).format(o);if(h){const n=t.options.currentLocale,r=t.locales[n].delimiters.thousands,i=o.includes("%")?e/.01:e;p=Math.abs(i)<1e4?p.replace(r,""):p}return s&&!f&&e<0&&ku.has(s.trim().toLowerCase())?"".concat(c).concat(s).concat(p.replace("+","")).concat(l):s&&e>=0&&ku.has(s.trim().toLowerCase())&&o.includes("+")?"".concat(0===e?u:"+").concat(s).concat(p.replace("+","")).concat(l):0===e&&o.includes("+")?"".concat(s).concat(p.replace("+",u)).concat(l):e<0&&!f?"".concat(s).concat(c).concat(p.replace("+","")).concat(l):"".concat(s).concat(p).concat(l)}const ku=new Set(["à¸¿","â¿","Â¢","$","â¬","eur","Â£","gbp","Â¥","yen","usd","cad","us$","ca$","can$"]),Mu=864e5,_u=30*Mu,Au=365*Mu;function Eu(t,e,n,r){const i=fe(t),[o,a]=n?[Math.min(i.l,r[0]),Math.max(i.l,r[1])]:r;let s=1===e?[i.l]:function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}(Se(o,a),e);if(n&&!s.includes(i.l)){const t=s.reduce((t,e)=>Math.abs(t)>Math.abs(i.l-e)?i.l-e:t,100);s=s.map(e=>e+t)}return s=s.map(t=>fe(t,i.a,i.b)),s.map(t=>t.hex())}function Tu(t){t.reverse();const e=t.length;if(e<3)return t.slice(0);let n=0,r=-2;const i=[],o={},a=Math.ceil(e/2.5);do{n%=e,!o[n]&&(e<5||Math.abs(r-n)>1)?(i.push(t[n]),o[n]=!0,r=n,n+=a):n+=1}while(i.length<e);return i}const $u=t=>e=>({}.hasOwnProperty.call(t,e.key)?t[String(e.key)]:null),Ou=(t,e,n)=>r=>r.value>0?t:r.value<0?e:n,Nu=(t,e)=>n=>t[(Math.max(0,e)+n.i)%t.length],Su=(t,e)=>function(n){if("string"!=typeof t[0]){t.sort((function(t,e){return t.length-e.length}));let r=t.length-1;return t.forEach((function(t,n){e>(t[n-1]||[]).length&&e<=t.length&&(r=n)})),t[r][n.i%t[r].length]}return t[n.i%t.length]},Lu=t=>{let e=0;const n=[];return r=>n[r.i]?n[r.i]:e!==t.length?n[r.i]=t[e++]:null},Cu=(t,e)=>null===t?e[0]:isNaN(t)?t:e[t%e.length];function Du(t){return(Du="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ru(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Du(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e);if("object"!==Du(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"===Du(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Iu={};!function(t){function e(){}function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function i(){return Object.create(null)}function o(t){t.forEach(r)}function a(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(t,e,r,i){return t[1]&&i?n(r.ctx.slice(),t[1](i(e))):r.ctx}function c(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function f(t){t.parentNode&&t.parentNode.removeChild(t)}function h(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function p(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function d(t){return document.createTextNode(t)}function g(){return d(" ")}function m(){return d("")}function y(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function v(t,e){for(const n in e)y(t,n,e[n])}function b(t,e){e=""+e,t.data!==e&&(t.data=e)}function x(t,e,n,r){null==n?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function w(t,e,n){t.classList.toggle(e,!!n)}let k;function M(t){k=t}function _(){if(!k)throw new Error("Function called outside component initialization");return k}function A(t){_().$$.after_update.push(t)}function E(){const t=_();return function(e,n){let{cancelable:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=t.$$.callbacks[e];if(i){const o=function(t,e){let{bubbles:n=!1,cancelable:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}(e,n,{cancelable:r});return i.slice().forEach(e=>{e.call(t,o)}),!o.defaultPrevented}return!0}}const T=[],$=[];let O=[];const N=[],S=Promise.resolve();let L=!1;function C(){L||(L=!0,S.then(z))}function D(){return C(),S}function R(t){O.push(t)}const I=new Set;let P=0;function z(){if(0!==P)return;const t=k;do{try{for(;P<T.length;){const t=T[P];P++,M(t),j(t.$$)}}catch(t){throw T.length=0,P=0,t}for(M(null),T.length=0,P=0;$.length;)$.pop()();for(let t=0;t<O.length;t+=1){const e=O[t];I.has(e)||(I.add(e),e())}O.length=0}while(T.length);for(;N.length;)N.pop()();L=!1,I.clear(),M(t)}function j(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(R)}}const F=new Set;let U;function B(){U={r:0,c:[],p:U}}function H(){U.r||o(U.c),U=U.p}function Y(t,e){t&&t.i&&(F.delete(t),t.i(e))}function W(t,e,n,r){if(t&&t.o){if(F.has(t))return;F.add(t),U.c.push(()=>{F.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function q(t){return void 0!==(null==t?void 0:t.length)?t:Array.from(t)}function G(t,e){const n={},r={},i={$$scope:1};let o=t.length;for(;o--;){const a=t[o],s=e[o];if(s){for(const t in a)t in s||(r[t]=1);for(const t in s)i[t]||(n[t]=s[t],i[t]=1);t[o]=s}else for(const t in a)i[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}function V(t){return"object"==typeof t&&null!==t?t:{}}function X(t){t&&t.c()}function K(t,e,n){const{fragment:i,after_update:s}=t.$$;i&&i.m(e,n),R(()=>{const e=t.$$.on_mount.map(r).filter(a);t.$$.on_destroy?t.$$.on_destroy.push(...e):o(e),t.$$.on_mount=[]}),s.forEach(R)}function Z(t,e){const n=t.$$;null!==n.fragment&&(function(t){const e=[],n=[];O.forEach(r=>-1===t.indexOf(r)?e.push(r):n.push(r)),n.forEach(t=>t()),O=e}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function J(t,n,r,a,s,l){let c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[-1];const h=k;M(t);const p=t.$$={fragment:null,ctx:[],props:l,update:e,not_equal:s,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(h?h.$$.context:[])),callbacks:i(),dirty:u,skip_bound:!1,root:n.target||h.$$.root};c&&c(p.root);let d=!1;if(p.ctx=r?r(t,n.props||{},(function(e,n){const r=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:n;return p.ctx&&s(p.ctx[e],p.ctx[e]=r)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](r),d&&function(t,e){-1===t.$$.dirty[0]&&(T.push(t),C(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),n})):[],p.update(),d=!0,o(p.before_update),p.fragment=!!a&&a(p.ctx),n.target){if(n.hydrate){const t=(g=n.target,Array.from(g.childNodes));p.fragment&&p.fragment.l(t),t.forEach(f)}else p.fragment&&p.fragment.c();n.intro&&Y(t.$$.fragment),K(t,n.target,n.anchor),z()}var g;M(h)}class Q{constructor(){Ru(this,"$$",void 0),Ru(this,"$$set",void 0)}$destroy(){Z(this,1),this.$destroy=e}$on(t,n){if(!a(n))return e;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function tt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return t;const r=Array.isArray(e)?e:e.split(".");let i=t;for(let t=0;t<r.length&&null!=i;t++)i=i[r[t]];return null==i?n:i}function et(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");var nt,rt={exports:{}};
/*! @license DOMPurify 3.0.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.6/LICENSE */function it(){return nt||(nt=1,function(t,e){t.exports=function(){const{entries:t,setPrototypeOf:e,isFrozen:n,getPrototypeOf:r,getOwnPropertyDescriptor:i}=Object;let{freeze:o,seal:a,create:s}=Object,{apply:l,construct:c}="undefined"!=typeof Reflect&&Reflect;o||(o=function(t){return t}),a||(a=function(t){return t}),l||(l=function(t,e,n){return t.apply(e,n)}),c||(c=function(t,e){return new t(...e)});const u=w(Array.prototype.forEach),f=w(Array.prototype.pop),h=w(Array.prototype.push),p=w(String.prototype.toLowerCase),d=w(String.prototype.toString),g=w(String.prototype.match),m=w(String.prototype.replace),y=w(String.prototype.indexOf),v=w(String.prototype.trim),b=w(RegExp.prototype.test),x=function(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return c(t,n)}}(TypeError);function w(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return l(t,e,r)}}function k(t,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p;e&&e(t,null);let o=r.length;for(;o--;){let e=r[o];if("string"==typeof e){const t=i(e);t!==e&&(n(r)||(r[o]=t),e=t)}t[e]=!0}return t}function M(e){const n=s(null);for(const[r,o]of t(e))void 0!==i(e,r)&&(n[r]=o);return n}function _(t,e){for(;null!==t;){const n=i(t,e);if(n){if(n.get)return w(n.get);if("function"==typeof n.value)return w(n.value)}t=r(t)}return function(t){return console.warn("fallback value for",t),null}}const A=o(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),E=o(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),T=o(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),$=o(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),O=o(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),N=o(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),S=o(["#text"]),L=o(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),C=o(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),D=o(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),R=o(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),I=a(/\{\{[\w\W]*|[\w\W]*\}\}/gm),P=a(/<%[\w\W]*|[\w\W]*%>/gm),z=a(/\${[\w\W]*}/gm),j=a(/^data-[\-\w.\u00B7-\uFFFF]/),F=a(/^aria-[\-\w]+$/),U=a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),B=a(/^(?:\w+script|data):/i),H=a(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Y=a(/^html$/i);var W=Object.freeze({__proto__:null,MUSTACHE_EXPR:I,ERB_EXPR:P,TMPLIT_EXPR:z,DATA_ATTR:j,ARIA_ATTR:F,IS_ALLOWED_URI:U,IS_SCRIPT_OR_DATA:B,ATTR_WHITESPACE:H,DOCTYPE_NAME:Y});const q=function(){return"undefined"==typeof window?null:window},G=function(t,e){if("object"!=typeof t||"function"!=typeof t.createPolicy)return null;let n=null;const r="data-tt-policy-suffix";e&&e.hasAttribute(r)&&(n=e.getAttribute(r));const i="dompurify"+(n?"#"+n:"");try{return t.createPolicy(i,{createHTML:t=>t,createScriptURL:t=>t})}catch(t){return console.warn("TrustedTypes policy "+i+" could not be created."),null}};return function e(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q();const r=t=>e(t);if(r.version="3.0.6",r.removed=[],!n||!n.document||9!==n.document.nodeType)return r.isSupported=!1,r;let{document:i}=n;const a=i,l=a.currentScript,{DocumentFragment:c,HTMLTemplateElement:w,Node:I,Element:P,NodeFilter:z,NamedNodeMap:j=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:F,DOMParser:B,trustedTypes:H}=n,V=P.prototype,X=_(V,"cloneNode"),K=_(V,"nextSibling"),Z=_(V,"childNodes"),J=_(V,"parentNode");if("function"==typeof w){const t=i.createElement("template");t.content&&t.content.ownerDocument&&(i=t.content.ownerDocument)}let Q,tt="";const{implementation:et,createNodeIterator:nt,createDocumentFragment:rt,getElementsByTagName:it}=i,{importNode:ot}=a;let at={};r.isSupported="function"==typeof t&&"function"==typeof J&&et&&void 0!==et.createHTMLDocument;const{MUSTACHE_EXPR:st,ERB_EXPR:lt,TMPLIT_EXPR:ct,DATA_ATTR:ut,ARIA_ATTR:ft,IS_SCRIPT_OR_DATA:ht,ATTR_WHITESPACE:pt}=W;let{IS_ALLOWED_URI:dt}=W,gt=null;const mt=k({},[...A,...E,...T,...O,...S]);let yt=null;const vt=k({},[...L,...C,...D,...R]);let bt=Object.seal(s(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),xt=null,wt=null,kt=!0,Mt=!0,_t=!1,At=!0,Et=!1,Tt=!1,$t=!1,Ot=!1,Nt=!1,St=!1,Lt=!1,Ct=!0,Dt=!1;const Rt="user-content-";let It=!0,Pt=!1,zt={},jt=null;const Ft=k({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ut=null;const Bt=k({},["audio","video","img","source","image","track"]);let Ht=null;const Yt=k({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Wt="http://www.w3.org/1998/Math/MathML",qt="http://www.w3.org/2000/svg",Gt="http://www.w3.org/1999/xhtml";let Vt=Gt,Xt=!1,Kt=null;const Zt=k({},[Wt,qt,Gt],d);let Jt=null;const Qt=["application/xhtml+xml","text/html"],te="text/html";let ee=null,ne=null;const re=i.createElement("form"),ie=function(t){return t instanceof RegExp||t instanceof Function},oe=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!ne||ne!==t){if(t&&"object"==typeof t||(t={}),t=M(t),Jt=Jt=-1===Qt.indexOf(t.PARSER_MEDIA_TYPE)?te:t.PARSER_MEDIA_TYPE,ee="application/xhtml+xml"===Jt?d:p,gt="ALLOWED_TAGS"in t?k({},t.ALLOWED_TAGS,ee):mt,yt="ALLOWED_ATTR"in t?k({},t.ALLOWED_ATTR,ee):vt,Kt="ALLOWED_NAMESPACES"in t?k({},t.ALLOWED_NAMESPACES,d):Zt,Ht="ADD_URI_SAFE_ATTR"in t?k(M(Yt),t.ADD_URI_SAFE_ATTR,ee):Yt,Ut="ADD_DATA_URI_TAGS"in t?k(M(Bt),t.ADD_DATA_URI_TAGS,ee):Bt,jt="FORBID_CONTENTS"in t?k({},t.FORBID_CONTENTS,ee):Ft,xt="FORBID_TAGS"in t?k({},t.FORBID_TAGS,ee):{},wt="FORBID_ATTR"in t?k({},t.FORBID_ATTR,ee):{},zt="USE_PROFILES"in t&&t.USE_PROFILES,kt=!1!==t.ALLOW_ARIA_ATTR,Mt=!1!==t.ALLOW_DATA_ATTR,_t=t.ALLOW_UNKNOWN_PROTOCOLS||!1,At=!1!==t.ALLOW_SELF_CLOSE_IN_ATTR,Et=t.SAFE_FOR_TEMPLATES||!1,Tt=t.WHOLE_DOCUMENT||!1,Nt=t.RETURN_DOM||!1,St=t.RETURN_DOM_FRAGMENT||!1,Lt=t.RETURN_TRUSTED_TYPE||!1,Ot=t.FORCE_BODY||!1,Ct=!1!==t.SANITIZE_DOM,Dt=t.SANITIZE_NAMED_PROPS||!1,It=!1!==t.KEEP_CONTENT,Pt=t.IN_PLACE||!1,dt=t.ALLOWED_URI_REGEXP||U,Vt=t.NAMESPACE||Gt,bt=t.CUSTOM_ELEMENT_HANDLING||{},t.CUSTOM_ELEMENT_HANDLING&&ie(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(bt.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&ie(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(bt.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(bt.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Et&&(Mt=!1),St&&(Nt=!0),zt&&(gt=k({},[...S]),yt=[],!0===zt.html&&(k(gt,A),k(yt,L)),!0===zt.svg&&(k(gt,E),k(yt,C),k(yt,R)),!0===zt.svgFilters&&(k(gt,T),k(yt,C),k(yt,R)),!0===zt.mathMl&&(k(gt,O),k(yt,D),k(yt,R))),t.ADD_TAGS&&(gt===mt&&(gt=M(gt)),k(gt,t.ADD_TAGS,ee)),t.ADD_ATTR&&(yt===vt&&(yt=M(yt)),k(yt,t.ADD_ATTR,ee)),t.ADD_URI_SAFE_ATTR&&k(Ht,t.ADD_URI_SAFE_ATTR,ee),t.FORBID_CONTENTS&&(jt===Ft&&(jt=M(jt)),k(jt,t.FORBID_CONTENTS,ee)),It&&(gt["#text"]=!0),Tt&&k(gt,["html","head","body"]),gt.table&&(k(gt,["tbody"]),delete xt.tbody),t.TRUSTED_TYPES_POLICY){if("function"!=typeof t.TRUSTED_TYPES_POLICY.createHTML)throw x('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof t.TRUSTED_TYPES_POLICY.createScriptURL)throw x('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Q=t.TRUSTED_TYPES_POLICY,tt=Q.createHTML("")}else void 0===Q&&(Q=G(H,l)),null!==Q&&"string"==typeof tt&&(tt=Q.createHTML(""));o&&o(t),ne=t}},ae=k({},["mi","mo","mn","ms","mtext"]),se=k({},["foreignobject","desc","title","annotation-xml"]),le=k({},["title","style","font","a","script"]),ce=k({},E);k(ce,T),k(ce,$);const ue=k({},O);k(ue,N);const fe=function(t){let e=J(t);e&&e.tagName||(e={namespaceURI:Vt,tagName:"template"});const n=p(t.tagName),r=p(e.tagName);return!!Kt[t.namespaceURI]&&(t.namespaceURI===qt?e.namespaceURI===Gt?"svg"===n:e.namespaceURI===Wt?"svg"===n&&("annotation-xml"===r||ae[r]):Boolean(ce[n]):t.namespaceURI===Wt?e.namespaceURI===Gt?"math"===n:e.namespaceURI===qt?"math"===n&&se[r]:Boolean(ue[n]):t.namespaceURI===Gt?!(e.namespaceURI===qt&&!se[r])&&!(e.namespaceURI===Wt&&!ae[r])&&!ue[n]&&(le[n]||!ce[n]):!("application/xhtml+xml"!==Jt||!Kt[t.namespaceURI]))},he=function(t){h(r.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){t.remove()}},pe=function(t,e){try{h(r.removed,{attribute:e.getAttributeNode(t),from:e})}catch(t){h(r.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t&&!yt[t])if(Nt||St)try{he(e)}catch(t){}else try{e.setAttribute(t,"")}catch(t){}},de=function(t){let e=null,n=null;if(Ot)t="<remove></remove>"+t;else{const e=g(t,/^[\r\n\t ]+/);n=e&&e[0]}"application/xhtml+xml"===Jt&&Vt===Gt&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");const r=Q?Q.createHTML(t):t;if(Vt===Gt)try{e=(new B).parseFromString(r,Jt)}catch(t){}if(!e||!e.documentElement){e=et.createDocument(Vt,"template",null);try{e.documentElement.innerHTML=Xt?tt:r}catch(t){}}const o=e.body||e.documentElement;return t&&n&&o.insertBefore(i.createTextNode(n),o.childNodes[0]||null),Vt===Gt?it.call(e,Tt?"html":"body")[0]:Tt?e.documentElement:o},ge=function(t){return nt.call(t.ownerDocument||t,t,z.SHOW_ELEMENT|z.SHOW_COMMENT|z.SHOW_TEXT,null)},me=function(t){return t instanceof F&&("string"!=typeof t.nodeName||"string"!=typeof t.textContent||"function"!=typeof t.removeChild||!(t.attributes instanceof j)||"function"!=typeof t.removeAttribute||"function"!=typeof t.setAttribute||"string"!=typeof t.namespaceURI||"function"!=typeof t.insertBefore||"function"!=typeof t.hasChildNodes)},ye=function(t){return"function"==typeof I&&t instanceof I},ve=function(t,e,n){at[t]&&u(at[t],t=>{t.call(r,e,n,ne)})},be=function(t){let e=null;if(ve("beforeSanitizeElements",t,null),me(t))return he(t),!0;const n=ee(t.nodeName);if(ve("uponSanitizeElement",t,{tagName:n,allowedTags:gt}),t.hasChildNodes()&&!ye(t.firstElementChild)&&b(/<[/\w]/g,t.innerHTML)&&b(/<[/\w]/g,t.textContent))return he(t),!0;if(!gt[n]||xt[n]){if(!xt[n]&&we(n)){if(bt.tagNameCheck instanceof RegExp&&b(bt.tagNameCheck,n))return!1;if(bt.tagNameCheck instanceof Function&&bt.tagNameCheck(n))return!1}if(It&&!jt[n]){const e=J(t)||t.parentNode,n=Z(t)||t.childNodes;if(n&&e)for(let r=n.length-1;r>=0;--r)e.insertBefore(X(n[r],!0),K(t))}return he(t),!0}return t instanceof P&&!fe(t)?(he(t),!0):"noscript"!==n&&"noembed"!==n&&"noframes"!==n||!b(/<\/no(script|embed|frames)/i,t.innerHTML)?(Et&&3===t.nodeType&&(e=t.textContent,u([st,lt,ct],t=>{e=m(e,t," ")}),t.textContent!==e&&(h(r.removed,{element:t.cloneNode()}),t.textContent=e)),ve("afterSanitizeElements",t,null),!1):(he(t),!0)},xe=function(t,e,n){if(Ct&&("id"===e||"name"===e)&&(n in i||n in re))return!1;if(Mt&&!wt[e]&&b(ut,e));else if(kt&&b(ft,e));else if(!yt[e]||wt[e]){if(!(we(t)&&(bt.tagNameCheck instanceof RegExp&&b(bt.tagNameCheck,t)||bt.tagNameCheck instanceof Function&&bt.tagNameCheck(t))&&(bt.attributeNameCheck instanceof RegExp&&b(bt.attributeNameCheck,e)||bt.attributeNameCheck instanceof Function&&bt.attributeNameCheck(e))||"is"===e&&bt.allowCustomizedBuiltInElements&&(bt.tagNameCheck instanceof RegExp&&b(bt.tagNameCheck,n)||bt.tagNameCheck instanceof Function&&bt.tagNameCheck(n))))return!1}else if(Ht[e]);else if(b(dt,m(n,pt,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==y(n,"data:")||!Ut[t])if(_t&&!b(ht,m(n,pt,"")));else if(n)return!1;return!0},we=function(t){return t.indexOf("-")>0},ke=function(t){ve("beforeSanitizeAttributes",t,null);const{attributes:e}=t;if(!e)return;const n={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:yt};let i=e.length;for(;i--;){const o=e[i],{name:a,namespaceURI:s,value:l}=o,c=ee(a);let h="value"===a?l:v(l);if(n.attrName=c,n.attrValue=h,n.keepAttr=!0,n.forceKeepAttr=void 0,ve("uponSanitizeAttribute",t,n),h=n.attrValue,n.forceKeepAttr)continue;if(pe(a,t),!n.keepAttr)continue;if(!At&&b(/\/>/i,h)){pe(a,t);continue}Et&&u([st,lt,ct],t=>{h=m(h,t," ")});const p=ee(t.nodeName);if(xe(p,c,h)){if(!Dt||"id"!==c&&"name"!==c||(pe(a,t),h=Rt+h),Q&&"object"==typeof H&&"function"==typeof H.getAttributeType)if(s);else switch(H.getAttributeType(p,c)){case"TrustedHTML":h=Q.createHTML(h);break;case"TrustedScriptURL":h=Q.createScriptURL(h)}try{s?t.setAttributeNS(s,a,h):t.setAttribute(a,h),f(r.removed)}catch(t){}}}ve("afterSanitizeAttributes",t,null)},Me=function t(e){let n=null;const r=ge(e);for(ve("beforeSanitizeShadowDOM",e,null);n=r.nextNode();)ve("uponSanitizeShadowNode",n,null),be(n)||(n.content instanceof c&&t(n.content),ke(n));ve("afterSanitizeShadowDOM",e,null)};return r.sanitize=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,i=null,o=null,s=null;if(Xt=!t,Xt&&(t="\x3c!--\x3e"),"string"!=typeof t&&!ye(t)){if("function"!=typeof t.toString)throw x("toString is not a function");if("string"!=typeof(t=t.toString()))throw x("dirty is not a string, aborting")}if(!r.isSupported)return t;if($t||oe(e),r.removed=[],"string"==typeof t&&(Pt=!1),Pt){if(t.nodeName){const e=ee(t.nodeName);if(!gt[e]||xt[e])throw x("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof I)n=de("\x3c!----\x3e"),i=n.ownerDocument.importNode(t,!0),1===i.nodeType&&"BODY"===i.nodeName||"HTML"===i.nodeName?n=i:n.appendChild(i);else{if(!Nt&&!Et&&!Tt&&-1===t.indexOf("<"))return Q&&Lt?Q.createHTML(t):t;if(n=de(t),!n)return Nt?null:Lt?tt:""}n&&Ot&&he(n.firstChild);const l=ge(Pt?t:n);for(;o=l.nextNode();)be(o)||(o.content instanceof c&&Me(o.content),ke(o));if(Pt)return t;if(Nt){if(St)for(s=rt.call(n.ownerDocument);n.firstChild;)s.appendChild(n.firstChild);else s=n;return(yt.shadowroot||yt.shadowrootmode)&&(s=ot.call(a,s,!0)),s}let f=Tt?n.outerHTML:n.innerHTML;return Tt&&gt["!doctype"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&b(Y,n.ownerDocument.doctype.name)&&(f="<!DOCTYPE "+n.ownerDocument.doctype.name+">\n"+f),Et&&u([st,lt,ct],t=>{f=m(f,t," ")}),Q&&Lt?Q.createHTML(f):f},r.setConfig=function(){oe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),$t=!0},r.clearConfig=function(){ne=null,$t=!1},r.isValidAttribute=function(t,e,n){ne||oe({});const r=ee(t),i=ee(e);return xe(r,i,n)},r.addHook=function(t,e){"function"==typeof e&&(at[t]=at[t]||[],h(at[t],e))},r.removeHook=function(t){if(at[t])return f(at[t])},r.removeHooks=function(t){at[t]&&(at[t]=[])},r.removeAllHooks=function(){at={}},r}()}()}(rt)),rt.exports}function ot(t,e,n){const r=(t=>Array.isArray(t))(e)?[...e]:e.split(".");if(!r.length)throw new Error("Key should not be empty");const i=r.pop();let o=t;return r.forEach(t=>{void 0!==o[t]&&null!==o[t]||(o[t]={}),o=o[t]}),JSON.stringify(o[i])!==JSON.stringify(n)&&(o[i]=n,!0)}window.DOMPurify||(window.DOMPurify=it().default||it());var at="object"==typeof self&&self.self===self&&self||"object"==typeof na&&na.global===na&&na||Function("return this")()||{},st=Object.prototype,lt=st.toString,ct=st.hasOwnProperty,ut=Array.isArray,ft=Object.keys,ht=!{toString:null}.propertyIsEnumerable("toString"),pt=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function dt(t){return t instanceof dt?t:this instanceof dt?void(this._wrapped=t):new dt(t)}function gt(t){return t}function mt(t){var e="[object "+t+"]";return function(t){return lt.call(t)===e}}dt.VERSION="1.13.6",dt.prototype.value=function(){return this._wrapped},dt.prototype.valueOf=dt.prototype.toJSON=dt.prototype.value,dt.prototype.toString=function(){return String(this._wrapped)};var yt=mt("Function"),vt=at.document&&at.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof vt&&(yt=function(t){return"function"==typeof t||!1});var bt=yt;function xt(t){var e=typeof t;return"function"===e||"object"===e&&!!t}var wt=ut||mt("Array");function kt(t,e){return null!=t&&ct.call(t,e)}function Mt(t){if(!xt(t))return[];if(ft)return ft(t);var e=[];for(var n in t)kt(t,n)&&e.push(n);return ht&&function(t,e){e=function(t){for(var e={},n=t.length,r=0;r<n;++r)e[t[r]]=!0;return{contains:function(t){return!0===e[t]},push:function(n){return e[n]=!0,t.push(n)}}}(e);var n=pt.length,r=t.constructor,i=bt(r)&&r.prototype||st,o="constructor";for(kt(t,o)&&!e.contains(o)&&e.push(o);n--;)(o=pt[n])in t&&t[o]!==i[o]&&!e.contains(o)&&e.push(o)}(t,e),e}var _t=function(t,e){return function(e){var n=arguments.length;if(n<2||null==e)return e;for(var r=1;r<n;r++)for(var i=arguments[r],o=t(i),a=o.length,s=0;s<a;s++){var l=o[s];e[l]=i[l]}return e}}(Mt);function At(t){return dt.toPath(t)}function Et(t,e){for(var n=(e=At(e)).length,r=0;r<n;r++){var i=e[r];if(!kt(t,i))return!1;t=t[i]}return!!n}function Tt(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1}dt.toPath=function(t){return wt(t)?t:[t]},dt.iteratee=function(t,e){return function(t,e,n){return null==t?gt:bt(t)?function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return function(){return t.apply(e,arguments)}}(t,e,n):xt(t)&&!wt(t)?function(t){return t=_t({},t),function(e){return function(t,e){var n=Mt(e),r=n.length;if(null==t)return!r;for(var i=Object(t),o=0;o<r;o++){var a=n[o];if(e[a]!==i[a]||!(a in i))return!1}return!0}(e,t)}}(t):(r=At(r=t),function(t){return function(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0}(t,r)});var r}(t,e,1/0)};var $t=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];function Ot(t){var e,n;if(function(t){return isFinite(t)&&t===Math.round(t)}(t)){if(t<=0)return isFinite(t)?1/0:NaN;if(t>171)return 1/0;for(var r=t-2,i=t-1;r>1;)i*=r,r--;return 0===i&&(i=1),i}if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*Ot(1-t));if(t>=171.35)return 1/0;if(t>85){var o=t*t,a=o*t,s=a*t,l=s*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*o)-139/(51840*a)-571/(2488320*s)+163879/(209018880*l)+5246819/(75246796800*l*t))}--t,n=$t[0];for(var c=1;c<$t.length;++c)n+=$t[c]/(t+c);return e=t+4.7421875+.5,Math.sqrt(2*Math.PI)*Math.pow(e,t+.5)*Math.exp(-e)*n}var Nt=Object.freeze({__proto__:null,add:function(t,e){return Number(t)+Number(e)},sub:function(t,e){return t-e},mul:function(t,e){return t*e},div:function(t,e){return t/e},mod:function(t,e){return t%e},concat:function(t,e){return Array.isArray(t)&&Array.isArray(e)?t.concat(e):""+t+e},equal:function(t,e){return t===e},notEqual:function(t,e){return t!==e},greaterThan:function(t,e){return t>e},lessThan:function(t,e){return t<e},greaterThanEqual:function(t,e){return t>=e},lessThanEqual:function(t,e){return t<=e},andOperator:function(t,e){return Boolean(t&&e)},orOperator:function(t,e){return Boolean(t||e)},inOperator:function(t,e){return Tt(e,t)},sinh:function(t){return(Math.exp(t)-Math.exp(-t))/2},cosh:function(t){return(Math.exp(t)+Math.exp(-t))/2},tanh:function(t){return t===1/0?1:t===-1/0?-1:(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))},asinh:function(t){return t===-1/0?t:Math.log(t+Math.sqrt(t*t+1))},acosh:function(t){return Math.log(t+Math.sqrt(t*t-1))},atanh:function(t){return Math.log((1+t)/(1-t))/2},log10:function(t){return Math.log(t)*Math.LOG10E},neg:function(t){return-t},not:function(t){return!t},trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)},random:function(t){return Math.random()*(t||1)},factorial:function(t){return Ot(t+1)},gamma:Ot,stringOrArrayLength:function(t){return Array.isArray(t)?t.length:String(t).length},hypot:function(){for(var t=0,e=0,n=0;n<arguments.length;n++){var r,i=Math.abs(arguments[n]);e<i?(t=t*(r=e/i)*r+1,e=i):t+=i>0?(r=i/e)*r:i}return e===1/0?1/0:e*Math.sqrt(t)},condition:function(t,e,n){return t?e:n},roundTo:function(t,e){return void 0===e||0==+e?Math.round(t):(t=+t,e=-+e,isNaN(t)||"number"!=typeof e||e%1!=0?NaN:(t=t.toString().split("e"),+((t=(t=Math.round(+(t[0]+"e"+(t[1]?+t[1]-e:-e)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]+e:e))))},setVar:function(t,e,n){return n&&(n[t]=e),e},arrayIndex:function(t,e){return t[0|e]},max:function(t){return 1===arguments.length&&Array.isArray(t)?Math.max.apply(Math,t):Math.max.apply(Math,arguments)},min:function(t){return 1===arguments.length&&Array.isArray(t)?Math.min.apply(Math,t):Math.min.apply(Math,arguments)},arrayMap:function(t,e){if("function"!=typeof t)throw new Error("First argument to map is not a function");if(!Array.isArray(e))throw new Error("Second argument to map is not an array");return e.map((function(e,n){return t(e,n)}))},arrayFold:function(t,e,n){if("function"!=typeof t)throw new Error("First argument to fold is not a function");if(!Array.isArray(n))throw new Error("Second argument to fold is not an array");return n.reduce((function(e,n,r){return t(e,n,r)}),e)},arrayFilter:function(t,e){if("function"!=typeof t)throw new Error("First argument to filter is not a function");if(!Array.isArray(e))throw new Error("Second argument to filter is not an array");return e.filter((function(e,n){return t(e,n)}))},stringOrArrayIndexOf:function(t,e){if(!Array.isArray(e)&&"string"!=typeof e)throw new Error("Second argument to indexOf is not a string or array");return e.indexOf(t)},arrayJoin:function(t,e){if(!Array.isArray(e))throw new Error("Second argument to join is not an array");return e.join(t)},sign:function(t){return(t>0)-(t<0)||+t},cbrt:function(t){return t<0?-Math.pow(-t,1/3):Math.pow(t,1/3)},expm1:function(t){return Math.exp(t)-1},log1p:function(t){return Math.log(1+t)},log2:function(t){return Math.log(t)/Math.LN2},sum:function(t){if(!Array.isArray(t))throw new Error("Sum argument is not an array");return t.reduce((function(t,e){return t+Number(e)}),0)}}),St="INUMBER",Lt="IOP1",Ct="IOP2",Dt="IOP3",Rt="IVAR",It="IVARNAME",Pt="IFUNCALL",zt="IFUNDEF",jt="IEXPR",Ft="IEXPREVAL",Ut="IMEMBER",Bt="IENDSTATEMENT",Ht="IARRAY";function Yt(t,e){this.type=t,this.value=null!=e?e:0}function Wt(t){return new Yt(Lt,t)}function qt(t){return new Yt(Ct,t)}function Gt(t,e,n){var r,i,o,a,s,l,c=[];if(Xt(t))return Kt(t,n);for(var u=t.length,f=0;f<u;f++){var h=t[f],p=h.type;if(p===St||p===It)c.push(h.value);else if(p===Ct)i=c.pop(),r=c.pop(),"and"===h.value?c.push(!!r&&!!Gt(i,e,n)):"or"===h.value?c.push(!!r||!!Gt(i,e,n)):"="===h.value?(a=e.binaryOps[h.value],c.push(a(r,Gt(i,e,n),n))):(a=e.binaryOps[h.value],c.push(a(Kt(r,n),Kt(i,n))));else if(p===Dt)o=c.pop(),i=c.pop(),r=c.pop(),"?"===h.value?c.push(Gt(r?i:o,e,n)):(a=e.ternaryOps[h.value],c.push(a(Kt(r,n),Kt(i,n),Kt(o,n))));else if(p===Rt){if(/^__proto__|prototype|constructor$/.test(h.value))throw new Error("prototype access detected");if(h.value in e.functions)c.push(e.functions[h.value]);else if(h.value in e.unaryOps&&e.parser.isOperatorEnabled(h.value))c.push(e.unaryOps[h.value]);else{var d=n[h.value];if(void 0===d)throw new Error("undefined variable: "+h.value);c.push(d)}}else if(p===Lt)r=c.pop(),a=e.unaryOps[h.value],c.push(a(Kt(r,n)));else if(p===Pt){for(l=h.value,s=[];l-- >0;)s.unshift(Kt(c.pop(),n));if(!(a=c.pop()).apply||!a.call)throw new Error(a+" is not a function");c.push(a.apply(void 0,s))}else if(p===zt)c.push(function(){for(var t=c.pop(),r=[],i=h.value;i-- >0;)r.unshift(c.pop());var o=c.pop(),a=function(){for(var i=Object.assign({},n),o=0,a=r.length;o<a;o++)i[r[o]]=arguments[o];return Gt(t,e,i)};return Object.defineProperty(a,"name",{value:o,writable:!1}),n[o]=a,a}());else if(p===jt)c.push(Vt(h,e));else if(p===Ft)c.push(h);else if(p===Ut)r=c.pop(),c.push(r[h.value]);else if(p===Bt)c.pop();else{if(p!==Ht)throw new Error("invalid Expression");for(l=h.value,s=[];l-- >0;)s.unshift(c.pop());c.push(s)}}if(c.length>1)throw new Error("invalid Expression (parity)");return 0===c[0]?0:Kt(c[0],n)}function Vt(t,e,n){return Xt(t)?t:{type:Ft,value:function(n){return Gt(t.value,e,n)}}}function Xt(t){return t&&t.type===Ft}function Kt(t,e){return Xt(t)?t.value(e):t}Yt.prototype.toString=function(){switch(this.type){case St:case Lt:case Ct:case Dt:case Rt:case It:case Bt:return this.value;case Pt:return"CALL "+this.value;case zt:return"DEF "+this.value;case Ht:return"ARRAY "+this.value;case Ut:return"."+this.value;default:return"Invalid Instruction"}};var Zt="TEOF",Jt="TOP",Qt="TNUMBER",te="TSTRING",ee="TPAREN",ne="TBRACKET",re="TCOMMA",ie="TNAME",oe="TSEMICOLON";function ae(t,e,n){this.type=t,this.value=e,this.index=n}function se(t,e){this.pos=0,this.current=null,this.unaryOps=t.unaryOps,this.binaryOps=t.binaryOps,this.ternaryOps=t.ternaryOps,this.consts=t.consts,this.expression=e,this.savedPosition=0,this.savedCurrent=null,this.options=t.options,this.parser=t}ae.prototype.toString=function(){return this.type+": "+this.value},se.prototype.newToken=function(t,e,n){return new ae(t,e,null!=n?n:this.pos)},se.prototype.save=function(){this.savedPosition=this.pos,this.savedCurrent=this.current},se.prototype.restore=function(){this.pos=this.savedPosition,this.current=this.savedCurrent},se.prototype.next=function(){return this.pos>=this.expression.length?this.newToken(Zt,"EOF"):this.isWhitespace()||this.isComment()?this.next():this.isRadixInteger()||this.isNumber()||this.isOperator()||this.isString()||this.isParen()||this.isBracket()||this.isComma()||this.isSemicolon()||this.isNamedOp()||this.isConst()||this.isName()?this.current:void this.parseError('Unknown character "'+this.expression.charAt(this.pos)+'"')},se.prototype.isString=function(){var t=!1,e=this.pos,n=this.expression.charAt(e);if("'"===n||'"'===n)for(var r=this.expression.indexOf(n,e+1);r>=0&&this.pos<this.expression.length;){if(this.pos=r+1,"\\"!==this.expression.charAt(r-1)){var i=this.expression.substring(e+1,r);this.current=this.newToken(te,this.unescape(i),e),t=!0;break}r=this.expression.indexOf(n,r+1)}return t},se.prototype.isParen=function(){var t=this.expression.charAt(this.pos);return("("===t||")"===t)&&(this.current=this.newToken(ee,t),this.pos++,!0)},se.prototype.isBracket=function(){var t=this.expression.charAt(this.pos);return!("["!==t&&"]"!==t||!this.isOperatorEnabled("[")||(this.current=this.newToken(ne,t),this.pos++,0))},se.prototype.isComma=function(){return","===this.expression.charAt(this.pos)&&(this.current=this.newToken(re,","),this.pos++,!0)},se.prototype.isSemicolon=function(){return";"===this.expression.charAt(this.pos)&&(this.current=this.newToken(oe,";"),this.pos++,!0)},se.prototype.isConst=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||"_"!==n&&"."!==n&&(n<"0"||n>"9")))break}if(e>t){var r=this.expression.substring(t,e);if(r in this.consts)return this.current=this.newToken(Qt,this.consts[r]),this.pos+=r.length,!0}return!1},se.prototype.isNamedOp=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||"_"!==n&&(n<"0"||n>"9")))break}if(e>t){var r=this.expression.substring(t,e);if(this.isOperatorEnabled(r)&&(r in this.binaryOps||r in this.unaryOps||r in this.ternaryOps))return this.current=this.newToken(Jt,r),this.pos+=r.length,!0}return!1},se.prototype.isName=function(){for(var t=this.pos,e=t,n=!1;e<this.expression.length;e++){var r=this.expression.charAt(e);if(r.toUpperCase()===r.toLowerCase()){if(e===this.pos&&("$"===r||"_"===r)){"_"===r&&(n=!0);continue}if(e===this.pos||!n||"_"!==r&&(r<"0"||r>"9"))break}else n=!0}if(n){var i=this.expression.substring(t,e);return this.current=this.newToken(ie,i),this.pos+=i.length,!0}return!1},se.prototype.isWhitespace=function(){for(var t=!1,e=this.expression.charAt(this.pos);!(" "!==e&&"\t"!==e&&"\n"!==e&&"\r"!==e||(t=!0,this.pos++,this.pos>=this.expression.length));)e=this.expression.charAt(this.pos);return t};var le=/^[0-9a-f]{4}$/i;function ce(t,e,n){this.parser=t,this.tokens=e,this.current=null,this.nextToken=null,this.next(),this.savedCurrent=null,this.savedNextToken=null,this.allowMemberAccess=!1!==n.allowMemberAccess,this.restrictMemberAccess=new Set(n.restrictMemberAccess||[])}se.prototype.unescape=function(t){var e=t.indexOf("\\");if(e<0)return t;for(var n=t.substring(0,e);e>=0;){var r=t.charAt(++e);switch(r){case"'":n+="'";break;case'"':n+='"';break;case"\\":n+="\\";break;case"/":n+="/";break;case"b":n+="\b";break;case"f":n+="\f";break;case"n":n+="\n";break;case"r":n+="\r";break;case"t":n+="\t";break;case"u":var i=t.substring(e+1,e+5);le.test(i)||this.parseError("Illegal escape sequence: \\u"+i),n+=String.fromCharCode(parseInt(i,16)),e+=4;break;default:throw this.parseError('Illegal escape sequence: "\\'+r+'"')}++e;var o=t.indexOf("\\",e);n+=t.substring(e,o<0?t.length:o),e=o}return n},se.prototype.isComment=function(){return"/"===this.expression.charAt(this.pos)&&"*"===this.expression.charAt(this.pos+1)&&(this.pos=this.expression.indexOf("*/",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0)},se.prototype.isRadixInteger=function(){var t,e,n=this.pos;if(n>=this.expression.length-2||"0"!==this.expression.charAt(n))return!1;if(++n,"x"===this.expression.charAt(n))t=16,e=/^[0-9a-f]$/i,++n;else{if("b"!==this.expression.charAt(n))return!1;t=2,e=/^[01]$/i,++n}for(var r=!1,i=n;n<this.expression.length;){var o=this.expression.charAt(n);if(!e.test(o))break;n++,r=!0}return r&&(this.current=this.newToken(Qt,parseInt(this.expression.substring(i,n),t)),this.pos=n),r},se.prototype.isNumber=function(){for(var t,e=!1,n=this.pos,r=n,i=n,o=!1,a=!1;n<this.expression.length&&((t=this.expression.charAt(n))>="0"&&t<="9"||!o&&"."===t);)"."===t?o=!0:a=!0,n++,e=a;if(e&&(i=n),"e"===t||"E"===t){n++;for(var s=!0,l=!1;n<this.expression.length;){if(t=this.expression.charAt(n),!s||"+"!==t&&"-"!==t){if(!(t>="0"&&t<="9"))break;l=!0,s=!1}else s=!1;n++}l||(n=i)}return e?(this.current=this.newToken(Qt,parseFloat(this.expression.substring(r,n))),this.pos=n):this.pos=i,e},se.prototype.isOperator=function(){var t=this.pos,e=this.expression.charAt(this.pos);if("+"===e||"-"===e||"*"===e||"/"===e||"%"===e||"^"===e||"?"===e||":"===e||"."===e)this.current=this.newToken(Jt,e);else if("â"===e||"â¢"===e)this.current=this.newToken(Jt,"*");else if(">"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Jt,">="),this.pos++):this.current=this.newToken(Jt,">");else if("<"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Jt,"<="),this.pos++):this.current=this.newToken(Jt,"<");else if("|"===e){if("|"!==this.expression.charAt(this.pos+1))return!1;this.current=this.newToken(Jt,"||"),this.pos++}else if("="===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Jt,"=="),this.pos++):this.current=this.newToken(Jt,e);else{if("!"!==e)return!1;"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Jt,"!="),this.pos++):this.current=this.newToken(Jt,e)}return this.pos++,!!this.isOperatorEnabled(this.current.value)||(this.pos=t,!1)},se.prototype.isOperatorEnabled=function(t){return this.parser.isOperatorEnabled(t)},se.prototype.getCoordinates=function(){var t,e=0,n=-1;do{e++,t=this.pos-n,n=this.expression.indexOf("\n",n+1)}while(n>=0&&n<this.pos);return{line:e,column:t}},se.prototype.parseError=function(t){var e=this.getCoordinates();throw new Error("parse error ["+e.line+":"+e.column+"]: "+t)},ce.prototype.next=function(){return this.current=this.nextToken,this.nextToken=this.tokens.next()},ce.prototype.tokenMatches=function(t,e){return void 0===e||(Array.isArray(e)?Tt(e,t.value):"function"==typeof e?e(t):t.value===e)},ce.prototype.save=function(){this.savedCurrent=this.current,this.savedNextToken=this.nextToken,this.tokens.save()},ce.prototype.restore=function(){this.tokens.restore(),this.current=this.savedCurrent,this.nextToken=this.savedNextToken},ce.prototype.accept=function(t,e){return!(this.nextToken.type!==t||!this.tokenMatches(this.nextToken,e)||(this.next(),0))},ce.prototype.expect=function(t,e){if(!this.accept(t,e)){var n=this.tokens.getCoordinates();throw new Error("parse error ["+n.line+":"+n.column+"]: Expected "+(e||t))}},ce.prototype.parseAtom=function(t){var e=this.tokens.unaryOps;if(this.accept(ie)||this.accept(Jt,(function(t){return t.value in e})))t.push(new Yt(Rt,this.current.value));else if(this.accept(Qt))t.push(new Yt(St,this.current.value));else if(this.accept(te))t.push(new Yt(St,this.current.value));else if(this.accept(ee,"("))this.parseExpression(t),this.expect(ee,")");else{if(!this.accept(ne,"["))throw new Error("unexpected "+this.nextToken);if(this.accept(ne,"]"))t.push(new Yt(Ht,0));else{var n=this.parseArrayList(t);t.push(new Yt(Ht,n))}}},ce.prototype.parseExpression=function(t){var e=[];this.parseUntilEndStatement(t,e)||(this.parseVariableAssignmentExpression(e),this.parseUntilEndStatement(t,e)||this.pushExpression(t,e))},ce.prototype.pushExpression=function(t,e){for(var n=0,r=e.length;n<r;n++)t.push(e[n])},ce.prototype.parseUntilEndStatement=function(t,e){return!!this.accept(oe)&&(!this.nextToken||this.nextToken.type===Zt||this.nextToken.type===ee&&")"===this.nextToken.value||e.push(new Yt(Bt)),this.nextToken.type!==Zt&&this.parseExpression(e),t.push(new Yt(jt,e)),!0)},ce.prototype.parseArrayList=function(t){for(var e=0;!this.accept(ne,"]");)for(this.parseExpression(t),++e;this.accept(re);)this.parseExpression(t),++e;return e},ce.prototype.parseVariableAssignmentExpression=function(t){for(this.parseConditionalExpression(t);this.accept(Jt,"=");){var e=t.pop(),n=[],r=t.length-1;if(e.type!==Pt){if(e.type!==Rt&&e.type!==Ut)throw new Error("expected variable for assignment");this.parseVariableAssignmentExpression(n),t.push(new Yt(It,e.value)),t.push(new Yt(jt,n)),t.push(qt("="))}else{if(!this.tokens.isOperatorEnabled("()="))throw new Error("function definition is not permitted");for(var i=0,o=e.value+1;i<o;i++){var a=r-i;t[a].type===Rt&&(t[a]=new Yt(It,t[a].value))}this.parseVariableAssignmentExpression(n),t.push(new Yt(jt,n)),t.push(new Yt(zt,e.value))}}},ce.prototype.parseConditionalExpression=function(t){for(this.parseOrExpression(t);this.accept(Jt,"?");){var e=[],n=[];this.parseConditionalExpression(e),this.expect(Jt,":"),this.parseConditionalExpression(n),t.push(new Yt(jt,e)),t.push(new Yt(jt,n)),t.push(new Yt(Dt,"?"))}},ce.prototype.parseOrExpression=function(t){for(this.parseAndExpression(t);this.accept(Jt,"or");){var e=[];this.parseAndExpression(e),t.push(new Yt(jt,e)),t.push(qt("or"))}},ce.prototype.parseAndExpression=function(t){for(this.parseComparison(t);this.accept(Jt,"and");){var e=[];this.parseComparison(e),t.push(new Yt(jt,e)),t.push(qt("and"))}};var ue=["==","!=","<","<=",">=",">","in"];ce.prototype.parseComparison=function(t){for(this.parseAddSub(t);this.accept(Jt,ue);){var e=this.current;this.parseAddSub(t),t.push(qt(e.value))}};var fe=["+","-","||"];ce.prototype.parseAddSub=function(t){for(this.parseTerm(t);this.accept(Jt,fe);){var e=this.current;this.parseTerm(t),t.push(qt(e.value))}};var he=["*","/","%"];ce.prototype.parseTerm=function(t){for(this.parseFactor(t);this.accept(Jt,he);){var e=this.current;this.parseFactor(t),t.push(qt(e.value))}},ce.prototype.parseFactor=function(t){var e=this.tokens.unaryOps;if(this.save(),this.accept(Jt,(function(t){return t.value in e}))){if("-"!==this.current.value&&"+"!==this.current.value){if(this.nextToken.type===ee&&"("===this.nextToken.value)return this.restore(),void this.parseExponential(t);if(this.nextToken.type===oe||this.nextToken.type===re||this.nextToken.type===Zt||this.nextToken.type===ee&&")"===this.nextToken.value)return this.restore(),void this.parseAtom(t)}var n=this.current;this.parseFactor(t),t.push(Wt(n.value))}else this.parseExponential(t)},ce.prototype.parseExponential=function(t){for(this.parsePostfixExpression(t);this.accept(Jt,"^");)this.parseFactor(t),t.push(qt("^"))},ce.prototype.parsePostfixExpression=function(t){for(this.parseFunctionCall(t);this.accept(Jt,"!");)t.push(Wt("!"))},ce.prototype.parseFunctionCall=function(t){var e=this.tokens.unaryOps;if(this.accept(Jt,(function(t){return t.value in e}))){var n=this.current;this.parseAtom(t),t.push(Wt(n.value))}else for(this.parseMemberExpression(t);this.accept(ee,"(");)if(this.accept(ee,")"))t.push(new Yt(Pt,0));else{var r=this.parseArgumentList(t);t.push(new Yt(Pt,r))}},ce.prototype.parseArgumentList=function(t){for(var e=0;!this.accept(ee,")");)for(this.parseExpression(t),++e;this.accept(re);)this.parseExpression(t),++e;return e},ce.prototype.parseMemberExpression=function(t){for(this.parseAtom(t);this.accept(Jt,".")||this.accept(ne,"[");){var e=this.current;if("."===e.value){if(!this.allowMemberAccess)throw new Error('unexpected ".", member access is not permitted');if(this.restrictMemberAccess.has(this.nextToken.value))throw new Error('access to member "'+this.nextToken.value+'" is not permitted');this.expect(ie),t.push(new Yt(Ut,this.current.value))}else{if("["!==e.value)throw new Error("unexpected symbol: "+e.value);if(!this.tokens.isOperatorEnabled("["))throw new Error('unexpected "[]", arrays are disabled');this.parseExpression(t),this.expect(ne,"]"),t.push(qt("["))}}};const{add:pe,sub:de,mul:ge,div:me,mod:ye,equal:ve,notEqual:be,greaterThan:xe,lessThan:we,greaterThanEqual:ke,lessThanEqual:Me,andOperator:_e,orOperator:Ae,log10:Ee,neg:Te,not:$e,trunc:Oe,random:Ne,stringOrArrayLength:Se,condition:Le,roundTo:Ce,arrayIndex:De,max:Re,min:Ie,sum:Pe,arrayMap:ze,arrayFold:je,arrayFilter:Fe,sign:Ue,log1p:Be,log2:He}=Nt;function Ye(t,e){this.tokens=t,this.parser=e,this.unaryOps=e.unaryOps,this.binaryOps=e.binaryOps,this.ternaryOps=e.ternaryOps,this.functions=e.functions}function We(t){return t.trim()}Ye.prototype.evaluate=function(t){return t=t||{},Gt(this.tokens,this,t)},Ye.prototype.variables=function(){return(this.tokens||[]).filter(t=>"IVAR"===t.type).map(t=>t.value)};const qe=new Set(["__proto__","prototype","constructor"]);function Ge(t){this.options=t||{},this.unaryOps={SIN:Math.sin,COS:Math.cos,TAN:Math.tan,ASIN:Math.asin,ACOS:Math.acos,ATAN:Math.atan,SQRT:Math.sqrt,LOG:Math.log,LOG2:Math.log2||He,LN:Math.log,LOG10:Math.log10||Ee,LG:Math.log10||Ee,LOG1P:Math.log1p||Be,ABS:Math.abs,CEIL:Math.ceil,FLOOR:Math.floor,ISNULL:t=>null===t,TRUNC:Math.trunc||Oe,"-":Te,"+":Number,EXP:Math.exp,NOT:$e,LENGTH:Se,"!":$e,SIGN:Math.sign||Ue,TEXT:t=>e(t)?t.toISOString():String(t),NUMBER:Number},this.binaryOps={"+":pe,"-":de,"*":ge,"/":me,"%":ye,"^":Math.pow,"==":ve,"!=":be,">":xe,"<":we,">=":ke,"<=":Me,and:_e,or:Ae,in:(t,e)=>Array.isArray(e)?e.includes(t):String(e).includes(t),"[":De},this.ternaryOps={"?":Le};const e=t=>t instanceof Date&&!isNaN(t),n=t=>{if(e(t))return t;try{const n=new Date(t);return e(n)?n:null}catch(t){return null}};function r(t){return(1===arguments.length&&Array.isArray(t)?t:Array.from(arguments)).slice(0).filter(t=>!isNaN(t)&&Number.isFinite(t))}let i=/\w*/g,o=/\w\S*/g;const a=/[\\^$*+?.()|[\]{}]/g;try{i=new RegExp("\\p{L}*","ug"),o=new RegExp("[\\p{L}\\p{N}]\\S*","ug")}catch(t){}this.functions={IF:Le,RANDOM:Ne,MIN(){const t=r.apply(this,arguments);return Ie(t)},MAX(){return Re(r.apply(this,arguments))},SUM(){return Pe(r.apply(this,arguments))},MEAN(){const t=r.apply(this,arguments);return Pe(t)/t.length},MEDIAN(){const t=r.apply(this,arguments).sort((t,e)=>t-e),e=Math.floor(t.length/2);return t.length%2==1?t[e]:.5*(t[e-1]+t[e])},POW:Math.pow,ATAN2:Math.atan2,ROUND:Ce,CONCAT(){return Array.from(arguments).join("")},TRIM:We,SUBSTR:(t,e,n)=>t.substr(e,n),REPLACE:(t,e,n)=>t.replace(new RegExp(String(e).replace(a,"\\$&"),"g"),n),REPLACE_REGEX:(t,e,n)=>t.replace(new RegExp(e,"g"),n),SPLIT:(t,e)=>String(t).split(e),LOWER:t=>String(t).toLowerCase(),UPPER:t=>String(t).toUpperCase(),PROPER:t=>String(t).replace(i,t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()),TITLE:t=>String(t).replace(o,t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()),SORT(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(qe.has(n))throw new Error("Invalid key");if(!Array.isArray(t))throw new Error("First argument to SORT is not an array");return t.slice(0).sort((t,r)=>((t="string"==typeof n?t[n]:"function"==typeof n?n(t):t)>(r="string"==typeof n?r[n]:"function"==typeof n?n(r):r)?1:t<r?-1:0)*(e?1:-1))},SLICE(t,e,n){if(!Array.isArray(t))throw new Error("First argument to SLICE is not an array");return t.slice(e,n)},JOIN(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!Array.isArray(t))throw new Error("First argument to JOIN is not an array");return n?[t.slice(0,t.length-1).join(e),t[t.length-1]].join(n):t.join(e)},MAP:ze,FOLD:je,FILTER:Fe,PLUCK(t,e){if(qe.has(e))throw new Error("Invalid key");if(!Array.isArray(t))throw new Error("First argument to PLUCK is not an array");return t.map(t=>Object.prototype.hasOwnProperty.call(t,e)?t[e]:null)},INDEXOF:(t,e)=>(Array.isArray(t)||(t=String(t)),t.indexOf(e)),FIND(t,e){if(!Array.isArray(t))throw new Error("First argument to FIND is not an array");if("function"!=typeof e)throw new Error("Second argument to FIND is not a function");const n=t.length;for(let r=0;r<n;r++)if(e(t[r]))return t[r];return null},RANGE(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i},EVERY(t,e){if(!Array.isArray(t))throw new Error("First argument to EVERY is not an array");if("function"!=typeof e)throw new Error("Second argument to EVERY is not a function");const n=t.length;let r=!0;for(let i=0;i<n;i++)if(r=r&&e(t[i]),!r)return!1;return!0},SOME(t,e){if(!Array.isArray(t))throw new Error("First argument to SOME is not an array");if("function"!=typeof e)throw new Error("Second argument to SOME is not a function");const n=t.length;let r=!1;for(let i=0;i<n;i++)if(r=r||e(t[i]),r)return!0;return!1},DATE(){return arguments.length>1&&(arguments[1]=arguments[1]-1),new Date(...arguments)},YEAR:t=>(t=n(t))?t.getFullYear():null,MONTH:t=>(t=n(t))?t.getMonth()+1:null,DAY:t=>(t=n(t))?t.getDate():null,WEEKDAY:t=>(t=n(t))?t.getDay():null,HOURS:t=>(t=n(t))?t.getHours():null,MINUTES:t=>(t=n(t))?t.getMinutes():null,SECONDS:t=>(t=n(t))?t.getSeconds():null,DATEDIFF:(t,e)=>(t=n(t),e=n(e),t&&e?(e.getTime()-t.getTime())/864e5:null),TIMEDIFF:(t,e)=>(t=n(t),e=n(e),t&&e?(e.getTime()-t.getTime())/1e3:null)},this.unaryOps.LOWER=this.functions.LOWER,this.unaryOps.UPPER=this.functions.UPPER,this.unaryOps.PROPER=this.functions.PROPER,this.unaryOps.TITLE=this.functions.TITLE,this.unaryOps.TRIM=this.functions.TRIM,this.unaryOps.YEAR=this.functions.YEAR,this.unaryOps.MONTH=this.functions.MONTH,this.unaryOps.DAY=this.functions.DAY,this.unaryOps.WEEKDAY=this.functions.WEEKDAY,this.unaryOps.HOURS=this.functions.HOURS,this.unaryOps.MINUTES=this.functions.MINUTES,this.unaryOps.SECONDS=this.functions.SECONDS,this.consts={E:Math.E,PI:Math.PI,TRUE:!0,FALSE:!1,NA:Number.NaN,NULL:Number.NaN}}Ge.prototype.parse=function(t){var e=[],n=new ce(this,new se(this,t),{allowMemberAccess:!0,restrictMemberAccess:qe});return n.parseExpression(e),n.expect(Zt,"EOF"),new Ye(e,this)},Ge.prototype.evaluate=function(t,e){return this.parse(t).evaluate(e)};var Ve=new Ge;Ge.parse=function(t){return Ve.parse(t)},Ge.evaluate=function(t,e){return Ve.parse(t).evaluate(e)},Ge.keywords=["ABS","ACOS","ACOSH","and","ASIN","ASINH","ATAN","ATAN2","ATANH","CBRT","CEIL","CONCAT","COS","COSH","DATEDIFF","DAY","E","EVERY","EXP","EXPM1","FIND","FLOOR","HOURS","IF","in","INDEXOF","ISNULL","JOIN","LENGTH","LN","LOG","LOG10","LOG1P","LOG2","LOWER","MAP","MAX","MEAN","MEDIAN","MIN","MINUTES","MONTH","NOT","NOT","or","PI","PLUCK","POW","PROPER","RANDOM","RANGE","REPLACE","REPLACE_REGEX","ROUND","SECONDS","SIGN","SIN","SINH","SLICE","SOME","SORT","SPLIT","SQRT","SUBSTR","SUM","TAN","TANH","TIMEDIFF","TITLE","TRIM","TRUNC","UPPER","WEEKDAY","YEAR"];var Xe={"+":"add","-":"subtract","*":"multiply","/":"divide","%":"remainder","^":"power","!":"factorial","<":"comparison",">":"comparison","<=":"comparison",">=":"comparison","==":"comparison","!=":"comparison","||":"concatenate",AND:"logical",OR:"logical",NOT:"logical",IN:"logical","?":"conditional",":":"conditional","=":"assignment","[":"array","()=":"fndef"};function Ke(t,e,n){if(2===t.version){for(const n of["chart","bodyCenter","bodyTop","body"])if(Et(t,["blocks",n,"styles","typography",e]))return tt(t,["blocks",n,"styles","typography",e]);return n}return tt(t,"typography.chart.".concat(e),n)}Ge.prototype.isOperatorEnabled=function(t){var e=function(t){return Object.prototype.hasOwnProperty.call(Xe,t)?Xe[t]:t}(t),n=this.options.operators||{};return!(e in n)||!!n[e]};const Ze=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,Je=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/;var Qe=et(t=>{if(t.match(Ze)){4!==t.length&&7!==t.length||(t=t.substr(1)),3===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]);const e=parseInt(t,16);return[e>>16,e>>8&255,255&e,1]}if(t.match(Je)){5!==t.length&&9!==t.length||(t=t.substr(1)),4===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);const e=parseInt(t,16);return[e>>24&255,e>>16&255,e>>8&255,Math.round((255&e)/255*100)/100]}throw new Error("unknown hex color: ".concat(t))}),tn=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return t<e?e:t>n?n:t};const en=tn,nn={};for(let t of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])nn["[object ".concat(t,"]")]=t.toLowerCase();var rn=function(t){return nn[Object.prototype.toString.call(t)]||"object"};const on=rn,an=rn,sn=Math.PI;var ln={clip_rgb:t=>{t._clipped=!1,t._unclipped=t.slice(0);for(let e=0;e<=3;e++)e<3?((t[e]<0||t[e]>255)&&(t._clipped=!0),t[e]=en(t[e],0,255)):3===e&&(t[e]=en(t[e],0,1));return t},limit:tn,type:rn,unpack:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.length>=3?Array.prototype.slice.call(t):"object"==on(t[0])&&e?e.split("").filter(e=>void 0!==t[0][e]).map(e=>t[0][e]):t[0]},last:t=>{if(t.length<2)return null;const e=t.length-1;return"string"==an(t[e])?t[e].toLowerCase():null},PI:sn,TWOPI:2*sn,PITHIRD:sn/3,DEG2RAD:sn/180,RAD2DEG:180/sn};const{unpack:cn}=ln,{pow:un}=Math,fn=t=>(t/=255)<=.04045?t/12.92:un((t+.055)/1.055,2.4),hn=t=>t>.008856452?un(t,1/3):t/.12841855+.137931034,pn=(t,e,n)=>(t=fn(t),e=fn(e),n=fn(n),[hn((.4124564*t+.3575761*e+.1804375*n)/.95047),hn((.2126729*t+.7151522*e+.072175*n)/1),hn((.0193339*t+.119192*e+.9503041*n)/1.08883)]);var dn=et((function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const[r,i,o]=cn(e,"rgb"),[a,s,l]=pn(r,i,o),c=116*s-16;return[c<0?0:c,500*(a-s),200*(s-l)]}));function gn(t,e){const n=tt(t,"colors.background","#ffffff"),r=tt(t,"colors.chartContentBaseColor",e.contrast(n,"#000000")<5.5?"#f1f1f1":"#333333"),i={tickText:{secondary:tt(t,"colors.bgBlendRatios.tickText.secondary",e(n).luminance()<.5?.6:.4),primary:tt(t,"colors.bgBlendRatios.tickText.primary",.2)},series:tt(t,"colors.bgBlendRatios.series",0),value:tt(t,"colors.bgBlendRatios.value",.2),axis:tt(t,"colors.bgBlendRatios.axis",0),gridline:tt(t,"colors.bgBlendRatios.gridline",.82)};return{tickText:{secondary:e.mix(r,n,i.tickText.secondary).hex(),primary:e.mix(r,n,i.tickText.primary).hex()},series:e.mix(r,n,i.series).hex(),value:e.mix(r,n,i.value).hex(),axis:e.mix(r,n,i.axis).hex(),gridline:e.mix(r,n,i.gridline).hex(),fallbackBaseColor:r,blendColor:t=>e.mix(r,n,t).hex()}}var mn=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===yn}(t)}(t)},yn="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function vn(t,e){return!1!==e.clone&&e.isMergeableObject(t)?kn((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function bn(t,e,n){return t.concat(e).map((function(t){return vn(t,n)}))}function xn(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return Object.propertyIsEnumerable.call(t,e)})):[]}(t))}function wn(t,e){try{return e in t}catch(t){return!1}}function kn(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||bn,n.isMergeableObject=n.isMergeableObject||mn,n.cloneUnlessOtherwiseSpecified=vn;var r=Array.isArray(e);return r===Array.isArray(t)?r?n.arrayMerge(t,e,n):function(t,e,n){var r={};return n.isMergeableObject(t)&&xn(t).forEach((function(e){r[e]=vn(t[e],n)})),xn(e).forEach((function(i){(function(t,e){return wn(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,i)||(wn(t,i)&&n.isMergeableObject(e[i])?r[i]=function(t,e){if(!e.customMerge)return kn;var n=e.customMerge(t);return"function"==typeof n?n:kn}(i,n)(t[i],e[i],n):r[i]=vn(e[i],n))})),r}(t,e,n):vn(e,n)}kn.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return kn(t,n,e)}),{})};var Mn=et(kn);function _n(t,e,n,r){const{fallbackBaseColor:i}=gn(e,r),o=tt(e,"colors.background","#ffffff"),a=tt(e,"vis.base.grid",{}),s=[tt(a,"general"),tt(a,t)];n?s.push(tt(a,"secondary")):s.push(tt(a,"primary"));let l=s.reduce((function(t,e){return e?Mn(t,e):t}),{});return l=Mn(function(t,e,n){const r=tt(t,"colors.background","#ffffff"),i=dn(Qe(r))[0]<50,{fallbackBaseColor:o}=gn(t,n);return{tickLines:{aboveChart:!0,color:o,blendBaseColorWithBg:e?i?.95:.82:0,width:1,length:5,lengthInside:20,distance:0},gridLines:{aboveChart:!1,major:{blendBaseColorWithBg:i?.95:.82,width:1},minor:{opacity:.5,width:1}},baseLine:{aboveChart:!0,blendBaseColorWithBg:0,width:1,strokeLinecap:"square"},tickLabels:{buffer:10,aboveChart:!0,blendBaseColorWithBg:e?i?.7:.4:.2,distance:5}}}(e,n,r),l),ot(l,"gridLines.minor",Mn(tt(l,"gridLines.major",{}),tt(l,"gridLines.minor",{}))),["gridLines.major","gridLines.minor","baseLine","tickLines","tickLabels"].forEach(t=>{const{color:e,blendBaseColorWithBg:n}=tt(l,t);e||ot(l,"".concat(t,".color"),r.mix(i,o,n))}),l.tickLabels.bufferColor=o,l}function An(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];var i,o,a,s,l,c;e=null===e||e,n=null!==n&&n,r=null===r||r;const u=new Set(["tick-labels","base-lines"]),f=new Set(["grid-lines"]);return!1===e&&u.delete("tick-labels"),!0===n&&f.add("tick-lines"),!1===r&&f.delete("grid-lines"),(null===(i=null==t?void 0:t.tickLines)||void 0===i?void 0:i.forceOn)&&f.has("grid-lines")&&f.add("tick-lines"),f.has("tick-lines")&&(null===(o=null==t?void 0:t.tickLines)||void 0===o?void 0:o.aboveChart)&&u.add("tick-lines"),u.has("tick-labels")&&!1===(null===(a=null==t?void 0:t.tickLabels)||void 0===a?void 0:a.aboveChart)&&(u.delete("tick-labels"),f.add("tick-labels")),u.has("base-lines")&&!1===(null===(s=null==t?void 0:t.baseLine)||void 0===s?void 0:s.aboveChart)&&(u.delete("base-lines"),f.add("base-lines")),f.has("grid-lines")&&(null===(l=null==t?void 0:t.gridLines)||void 0===l?void 0:l.aboveChart)&&(f.delete("grid-lines"),u.add("grid-lines")),f.has("tick-lines")&&(null===(c=null==t?void 0:t.tickLines)||void 0===c?void 0:c.aboveChart)&&(f.delete("tick-lines"),u.add("tick-lines")),{elementsAbove:u,elementsBelow:f}}const En={a:9,A:10,b:9,B:10,c:8,C:10,d:9,D:11,e:9,E:9,f:5,F:8,g:9,G:11,h:9,H:11,i:4,I:4,j:4,J:4,k:8,K:9,l:4,L:8,m:14,M:12,n:9,N:10,o:9,O:11,p:9,P:8,q:9,Q:11,r:6,R:10,s:7,S:9,t:5,T:9,u:9,U:10,v:8,V:10,w:11,W:14,x:8,X:10,y:8,Y:9,z:7,Z:10,".":4,"!":4,"|":4,",":4,":":5,";":5,"-":5,"+":12," ":4},Tn=new Set(["à¸¿","â¿","Â¢","$","â¬","eur","Â£","gbp","Â¥","yen","usd","cad","us$","ca$","can$"]);var $n="object"==typeof self&&self.self===self&&self||"object"==typeof na&&na.global===na&&na||Function("return this")()||{},On=Array.prototype,Nn=Object.prototype,Sn="undefined"!=typeof Symbol?Symbol.prototype:null,Ln=On.push,Cn=On.slice,Dn=Nn.toString,Rn=Nn.hasOwnProperty,In="undefined"!=typeof ArrayBuffer,Pn="undefined"!=typeof DataView,zn=Array.isArray,jn=Object.keys,Fn=Object.create,Un=In&&ArrayBuffer.isView,Bn=isNaN,Hn=isFinite,Yn=!{toString:null}.propertyIsEnumerable("toString"),Wn=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],qn=Math.pow(2,53)-1;function Gn(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var o=Array(e+1);for(i=0;i<e;i++)o[i]=arguments[i];return o[e]=r,t.apply(this,o)}}function Vn(t){var e=typeof t;return"function"===e||"object"===e&&!!t}function Xn(t){return void 0===t}function Kn(t){return!0===t||!1===t||"[object Boolean]"===Dn.call(t)}function Zn(t){var e="[object "+t+"]";return function(t){return Dn.call(t)===e}}var Jn=Zn("String"),Qn=Zn("Number"),tr=Zn("Date"),er=Zn("RegExp"),nr=Zn("Error"),rr=Zn("Symbol"),ir=Zn("ArrayBuffer"),or=Zn("Function"),ar=$n.document&&$n.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof ar&&(or=function(t){return"function"==typeof t||!1});var sr=or,lr=Zn("Object"),cr=Pn&&lr(new DataView(new ArrayBuffer(8))),ur="undefined"!=typeof Map&&lr(new Map),fr=Zn("DataView"),hr=cr?function(t){return null!=t&&sr(t.getInt8)&&ir(t.buffer)}:fr,pr=zn||Zn("Array");function dr(t,e){return null!=t&&Rn.call(t,e)}var gr=Zn("Arguments");!function(){gr(arguments)||(gr=function(t){return dr(t,"callee")})}();var mr=gr;function yr(t){return Qn(t)&&Bn(t)}function vr(t){return function(){return t}}function br(t){return function(e){var n=t(e);return"number"==typeof n&&n>=0&&n<=qn}}function xr(t){return function(e){return null==e?void 0:e[t]}}var wr=xr("byteLength"),kr=br(wr),Mr=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,_r=In?function(t){return Un?Un(t)&&!hr(t):kr(t)&&Mr.test(Dn.call(t))}:vr(!1),Ar=xr("length");function Er(t,e){e=function(t){for(var e={},n=t.length,r=0;r<n;++r)e[t[r]]=!0;return{contains:function(t){return!0===e[t]},push:function(n){return e[n]=!0,t.push(n)}}}(e);var n=Wn.length,r=t.constructor,i=sr(r)&&r.prototype||Nn,o="constructor";for(dr(t,o)&&!e.contains(o)&&e.push(o);n--;)(o=Wn[n])in t&&t[o]!==i[o]&&!e.contains(o)&&e.push(o)}function Tr(t){if(!Vn(t))return[];if(jn)return jn(t);var e=[];for(var n in t)dr(t,n)&&e.push(n);return Yn&&Er(t,e),e}function $r(t,e){var n=Tr(e),r=n.length;if(null==t)return!r;for(var i=Object(t),o=0;o<r;o++){var a=n[o];if(e[a]!==i[a]||!(a in i))return!1}return!0}function Or(t){return t instanceof Or?t:this instanceof Or?void(this._wrapped=t):new Or(t)}function Nr(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,wr(t))}Or.VERSION="1.13.6",Or.prototype.value=function(){return this._wrapped},Or.prototype.valueOf=Or.prototype.toJSON=Or.prototype.value,Or.prototype.toString=function(){return String(this._wrapped)};var Sr="[object DataView]";function Lr(t){if(!Vn(t))return[];var e=[];for(var n in t)e.push(n);return Yn&&Er(t,e),e}function Cr(t){var e=Ar(t);return function(n){if(null==n)return!1;var r=Lr(n);if(Ar(r))return!1;for(var i=0;i<e;i++)if(!sr(n[t[i]]))return!1;return t!==zr||!sr(n[Dr])}}var Dr="forEach",Rr=["clear","delete"],Ir=["get","has","set"],Pr=Rr.concat(Dr,Ir),zr=Rr.concat(Ir),jr=["add"].concat(Rr,Dr,"has"),Fr=ur?Cr(Pr):Zn("Map"),Ur=ur?Cr(zr):Zn("WeakMap"),Br=ur?Cr(jr):Zn("Set"),Hr=Zn("WeakSet");function Yr(t){for(var e=Tr(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r}function Wr(t){for(var e={},n=Tr(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e}function qr(t){var e=[];for(var n in t)sr(t[n])&&e.push(n);return e.sort()}function Gr(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],a=t(o),s=a.length,l=0;l<s;l++){var c=a[l];e&&void 0!==n[c]||(n[c]=o[c])}return n}}var Vr=Gr(Lr),Xr=Gr(Tr),Kr=Gr(Lr,!0);function Zr(t){if(!Vn(t))return{};if(Fn)return Fn(t);var e=function(){};e.prototype=t;var n=new e;return e.prototype=null,n}function Jr(t){return pr(t)?t:[t]}function Qr(t){return Or.toPath(t)}function ti(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0}function ei(t,e,n){var r=ti(t,Qr(e));return Xn(r)?n:r}function ni(t){return t}function ri(t){return t=Xr({},t),function(e){return $r(e,t)}}function ii(t){return t=Qr(t),function(e){return ti(e,t)}}function oi(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return function(){return t.apply(e,arguments)}}function ai(t,e,n){return null==t?ni:sr(t)?oi(t,e,n):Vn(t)&&!pr(t)?ri(t):ii(t)}function si(t,e){return ai(t,e,1/0)}function li(t,e,n){return Or.iteratee!==si?Or.iteratee(t,e):ai(t,e,n)}function ci(){}function ui(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}Or.toPath=Jr,Or.iteratee=si;var fi=Date.now||function(){return(new Date).getTime()};function hi(t){var e=function(e){return t[e]},n="(?:"+Tr(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,e):t}}var pi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},di=hi(pi),gi=hi(Wr(pi)),mi=Or.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},yi=/(.)^/,vi={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},bi=/\\|'|\r|\n|\u2028|\u2029/g;function xi(t){return"\\"+vi[t]}var wi=/^\s*(\w|\$)+\s*$/,ki=0;function Mi(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var o=Zr(t.prototype),a=t.apply(o,i);return Vn(a)?a:o}var _i=Gn((function(t,e){var n=_i.placeholder,r=function(){for(var i=0,o=e.length,a=Array(o),s=0;s<o;s++)a[s]=e[s]===n?arguments[i++]:e[s];for(;i<arguments.length;)a.push(arguments[i++]);return Mi(t,r,this,this,a)};return r}));_i.placeholder=Or;var Ai=Gn((function(t,e,n){if(!sr(t))throw new TypeError("Bind must be called on a function");var r=Gn((function(i){return Mi(t,r,e,this,n.concat(i))}));return r})),Ei=br(Ar);function Ti(t,e,n,r){if(r=r||[],e||0===e){if(e<=0)return r.concat(t)}else e=1/0;for(var i=r.length,o=0,a=Ar(t);o<a;o++){var s=t[o];if(Ei(s)&&(pr(s)||mr(s)))if(e>1)Ti(s,e-1,n,r),i=r.length;else for(var l=0,c=s.length;l<c;)r[i++]=s[l++];else n||(r[i++]=s)}return r}var $i=Gn((function(t,e){var n=(e=Ti(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=Ai(t[r],t)}return t})),Oi=Gn((function(t,e,n){return setTimeout((function(){return t.apply(null,n)}),e)})),Ni=_i(Oi,Or,1);function Si(t){return function(){return!t.apply(this,arguments)}}function Li(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}var Ci=_i(Li,2);function Di(t,e,n){e=li(e,n);for(var r,i=Tr(t),o=0,a=i.length;o<a;o++)if(e(t[r=i[o]],r,t))return r}function Ri(t){return function(e,n,r){n=li(n,r);for(var i=Ar(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(n(e[o],o,e))return o;return-1}}var Ii=Ri(1),Pi=Ri(-1);function zi(t,e,n,r){for(var i=(n=li(n,r,1))(e),o=0,a=Ar(t);o<a;){var s=Math.floor((o+a)/2);n(t[s])<i?o=s+1:a=s}return o}function ji(t,e,n){return function(r,i,o){var a=0,s=Ar(r);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return r[o=n(r,i)]===i?o:-1;if(i!=i)return(o=e(Cn.call(r,a,s),yr))>=0?o+a:-1;for(o=t>0?a:s-1;o>=0&&o<s;o+=t)if(r[o]===i)return o;return-1}}var Fi=ji(1,Ii,zi),Ui=ji(-1,Pi);function Bi(t,e,n){var r=(Ei(t)?Ii:Di)(t,e,n);if(void 0!==r&&-1!==r)return t[r]}function Hi(t,e,n){var r,i;if(e=oi(e,n),Ei(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var o=Tr(t);for(r=0,i=o.length;r<i;r++)e(t[o[r]],o[r],t)}return t}function Yi(t,e,n){e=li(e,n);for(var r=!Ei(t)&&Tr(t),i=(r||t).length,o=Array(i),a=0;a<i;a++){var s=r?r[a]:a;o[a]=e(t[s],s,t)}return o}function Wi(t){return function(e,n,r,i){var o=arguments.length>=3;return function(e,n,r,i){var o=!Ei(e)&&Tr(e),a=(o||e).length,s=t>0?0:a-1;for(i||(r=e[o?o[s]:s],s+=t);s>=0&&s<a;s+=t){var l=o?o[s]:s;r=n(r,e[l],l,e)}return r}(e,oi(n,i,4),r,o)}}var qi=Wi(1),Gi=Wi(-1);function Vi(t,e,n){var r=[];return e=li(e,n),Hi(t,(function(t,n,i){e(t,n,i)&&r.push(t)})),r}function Xi(t,e,n){e=li(e,n);for(var r=!Ei(t)&&Tr(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(!e(t[a],a,t))return!1}return!0}function Ki(t,e,n){e=li(e,n);for(var r=!Ei(t)&&Tr(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(e(t[a],a,t))return!0}return!1}function Zi(t,e,n,r){return Ei(t)||(t=Yr(t)),("number"!=typeof n||r)&&(n=0),Fi(t,e,n)>=0}var Ji=Gn((function(t,e,n){var r,i;return sr(e)?i=e:(e=Qr(e),r=e.slice(0,-1),e=e[e.length-1]),Yi(t,(function(t){var o=i;if(!o){if(r&&r.length&&(t=ti(t,r)),null==t)return;o=t[e]}return null==o?o:o.apply(t,n)}))}));function Qi(t,e){return Yi(t,ii(e))}function to(t,e,n){var r,i,o=-1/0,a=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var s=0,l=(t=Ei(t)?t:Yr(t)).length;s<l;s++)null!=(r=t[s])&&r>o&&(o=r);else e=li(e,n),Hi(t,(function(t,n,r){((i=e(t,n,r))>a||i===-1/0&&o===-1/0)&&(o=t,a=i)}));return o}var eo=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function no(t){return t?pr(t)?Cn.call(t):Jn(t)?t.match(eo):Ei(t)?Yi(t,ni):Yr(t):[]}function ro(t,e,n){if(null==e||n)return Ei(t)||(t=Yr(t)),t[ui(t.length-1)];var r=no(t),i=Ar(r);e=Math.max(Math.min(e,i),0);for(var o=i-1,a=0;a<e;a++){var s=ui(a,o),l=r[a];r[a]=r[s],r[s]=l}return r.slice(0,e)}function io(t,e){return function(n,r,i){var o=e?[[],[]]:{};return r=li(r,i),Hi(n,(function(e,i){var a=r(e,i,n);t(o,e,a)})),o}}var oo=io((function(t,e,n){dr(t,n)?t[n].push(e):t[n]=[e]})),ao=io((function(t,e,n){t[n]=e})),so=io((function(t,e,n){dr(t,n)?t[n]++:t[n]=1})),lo=io((function(t,e,n){t[n?0:1].push(e)}),!0);function co(t,e,n){return e in n}var uo=Gn((function(t,e){var n={},r=e[0];if(null==t)return n;sr(r)?(e.length>1&&(r=oi(r,e[1])),e=Lr(t)):(r=co,e=Ti(e,!1,!1),t=Object(t));for(var i=0,o=e.length;i<o;i++){var a=e[i],s=t[a];r(s,a,t)&&(n[a]=s)}return n})),fo=Gn((function(t,e){var n,r=e[0];return sr(r)?(r=Si(r),e.length>1&&(n=e[1])):(e=Yi(Ti(e,!1,!1),String),r=function(t,n){return!Zi(e,n)}),uo(t,r,n)}));function ho(t,e,n){return Cn.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))}function po(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[0]:ho(t,t.length-e)}function go(t,e,n){return Cn.call(t,null==e||n?1:e)}var mo=Gn((function(t,e){return e=Ti(e,!0,!0),Vi(t,(function(t){return!Zi(e,t)}))})),yo=Gn((function(t,e){return mo(t,e)}));function vo(t,e,n,r){Kn(e)||(r=n,n=e,e=!1),null!=n&&(n=li(n,r));for(var i=[],o=[],a=0,s=Ar(t);a<s;a++){var l=t[a],c=n?n(l,a,t):l;e&&!n?(a&&o===c||i.push(l),o=c):n?Zi(o,c)||(o.push(c),i.push(l)):Zi(i,l)||i.push(l)}return i}var bo=Gn((function(t){return vo(Ti(t,!0,!0))}));function xo(t){for(var e=t&&to(t,Ar).length||0,n=Array(e),r=0;r<e;r++)n[r]=Qi(t,r);return n}var wo=Gn(xo);function ko(t,e){return t._chain?Or(e).chain():e}function Mo(t){return Hi(qr(t),(function(e){var n=Or[e]=t[e];Or.prototype[e]=function(){var t=[this._wrapped];return Ln.apply(t,arguments),ko(this,n.apply(Or,t))}})),Or}Hi(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=On[t];Or.prototype[t]=function(){var n=this._wrapped;return null!=n&&(e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0]),ko(this,n)}})),Hi(["concat","join","slice"],(function(t){var e=On[t];Or.prototype[t]=function(){var t=this._wrapped;return null!=t&&(t=e.apply(t,arguments)),ko(this,t)}}));var _o=Mo(Object.freeze({__proto__:null,VERSION:"1.13.6",after:function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},all:Xi,allKeys:Lr,any:Ki,assign:Xr,before:Li,bind:Ai,bindAll:$i,chain:function(t){var e=Or(t);return e._chain=!0,e},chunk:function(t,e){if(null==e||e<1)return[];for(var n=[],r=0,i=t.length;r<i;)n.push(Cn.call(t,r,r+=e));return n},clone:function(t){return Vn(t)?pr(t)?t.slice():Vr({},t):t},collect:Yi,compact:function(t){return Vi(t,Boolean)},compose:function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},constant:vr,contains:Zi,countBy:so,create:function(t,e){var n=Zr(t);return e&&Xr(n,e),n},debounce:function(t,e,n){var r,i,o,a,s,l=function(){var c=fi()-i;e>c?r=setTimeout(l,e-c):(r=null,n||(a=t.apply(s,o)),r||(o=s=null))},c=Gn((function(c){return s=this,o=c,i=fi(),r||(r=setTimeout(l,e),n&&(a=t.apply(s,o))),a}));return c.cancel=function(){clearTimeout(r),r=o=s=null},c},default:Or,defaults:Kr,defer:Ni,delay:Oi,detect:Bi,difference:mo,drop:go,each:Hi,escape:di,every:Xi,extend:Vr,extendOwn:Xr,filter:Vi,find:Bi,findIndex:Ii,findKey:Di,findLastIndex:Pi,findWhere:function(t,e){return Bi(t,ri(e))},first:po,flatten:function(t,e){return Ti(t,e,!1)},foldl:qi,foldr:Gi,forEach:Hi,functions:qr,get:ei,groupBy:oo,has:function(t,e){for(var n=(e=Qr(e)).length,r=0;r<n;r++){var i=e[r];if(!dr(t,i))return!1;t=t[i]}return!!n},head:po,identity:ni,include:Zi,includes:Zi,indexBy:ao,indexOf:Fi,initial:ho,inject:qi,intersection:function(t){for(var e=[],n=arguments.length,r=0,i=Ar(t);r<i;r++){var o=t[r];if(!Zi(e,o)){var a;for(a=1;a<n&&Zi(arguments[a],o);a++);a===n&&e.push(o)}}return e},invert:Wr,invoke:Ji,isArguments:mr,isArray:pr,isArrayBuffer:ir,isBoolean:Kn,isDataView:hr,isDate:tr,isElement:function(t){return!(!t||1!==t.nodeType)},isEmpty:function(t){if(null==t)return!0;var e=Ar(t);return"number"==typeof e&&(pr(t)||Jn(t)||mr(t))?0===e:0===Ar(Tr(t))},isEqual:function(t,e){return function t(e,n,r,i){if(e===n)return 0!==e||1/e==1/n;if(null==e||null==n)return!1;if(e!=e)return n!=n;var o=typeof e;return("function"===o||"object"===o||"object"==typeof n)&&function e(n,r,i,o){n instanceof Or&&(n=n._wrapped),r instanceof Or&&(r=r._wrapped);var a=Dn.call(n);if(a!==Dn.call(r))return!1;if(cr&&"[object Object]"==a&&hr(n)){if(!hr(r))return!1;a=Sr}switch(a){case"[object RegExp]":case"[object String]":return""+n==""+r;case"[object Number]":return+n!=+n?+r!=+r:0==+n?1/+n==1/r:+n==+r;case"[object Date]":case"[object Boolean]":return+n==+r;case"[object Symbol]":return Sn.valueOf.call(n)===Sn.valueOf.call(r);case"[object ArrayBuffer]":case Sr:return e(Nr(n),Nr(r),i,o)}var s="[object Array]"===a;if(!s&&_r(n)){if(wr(n)!==wr(r))return!1;if(n.buffer===r.buffer&&n.byteOffset===r.byteOffset)return!0;s=!0}if(!s){if("object"!=typeof n||"object"!=typeof r)return!1;var l=n.constructor,c=r.constructor;if(l!==c&&!(sr(l)&&l instanceof l&&sr(c)&&c instanceof c)&&"constructor"in n&&"constructor"in r)return!1}o=o||[];for(var u=(i=i||[]).length;u--;)if(i[u]===n)return o[u]===r;if(i.push(n),o.push(r),s){if((u=n.length)!==r.length)return!1;for(;u--;)if(!t(n[u],r[u],i,o))return!1}else{var f,h=Tr(n);if(u=h.length,Tr(r).length!==u)return!1;for(;u--;)if(!dr(r,f=h[u])||!t(n[f],r[f],i,o))return!1}return i.pop(),o.pop(),!0}(e,n,r,i)}(t,e)},isError:nr,isFinite:function(t){return!rr(t)&&Hn(t)&&!isNaN(parseFloat(t))},isFunction:sr,isMap:Fr,isMatch:$r,isNaN:yr,isNull:function(t){return null===t},isNumber:Qn,isObject:Vn,isRegExp:er,isSet:Br,isString:Jn,isSymbol:rr,isTypedArray:_r,isUndefined:Xn,isWeakMap:Ur,isWeakSet:Hr,iteratee:si,keys:Tr,last:function(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[t.length-1]:go(t,Math.max(0,t.length-e))},lastIndexOf:Ui,map:Yi,mapObject:function(t,e,n){e=li(e,n);for(var r=Tr(t),i=r.length,o={},a=0;a<i;a++){var s=r[a];o[s]=e(t[s],s,t)}return o},matcher:ri,matches:ri,max:to,memoize:function(t,e){var n=function(r){var i=n.cache,o=""+(e?e.apply(this,arguments):r);return dr(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return n.cache={},n},methods:qr,min:function(t,e,n){var r,i,o=1/0,a=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var s=0,l=(t=Ei(t)?t:Yr(t)).length;s<l;s++)null!=(r=t[s])&&r<o&&(o=r);else e=li(e,n),Hi(t,(function(t,n,r){((i=e(t,n,r))<a||i===1/0&&o===1/0)&&(o=t,a=i)}));return o},mixin:Mo,negate:Si,noop:ci,now:fi,object:function(t,e){for(var n={},r=0,i=Ar(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},omit:fo,once:Ci,pairs:function(t){for(var e=Tr(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r},partial:_i,partition:lo,pick:uo,pluck:Qi,property:ii,propertyOf:function(t){return null==t?ci:function(e){return ei(t,e)}},random:ui,range:function(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i},reduce:qi,reduceRight:Gi,reject:function(t,e,n){return Vi(t,Si(li(e)),n)},rest:go,restArguments:Gn,result:function(t,e,n){var r=(e=Qr(e)).length;if(!r)return sr(n)?n.call(t):n;for(var i=0;i<r;i++){var o=null==t?void 0:t[e[i]];void 0===o&&(o=n,i=r),t=sr(o)?o.call(t):o}return t},sample:ro,select:Vi,shuffle:function(t){return ro(t,1/0)},size:function(t){return null==t?0:Ei(t)?t.length:Tr(t).length},some:Ki,sortBy:function(t,e,n){var r=0;return e=li(e,n),Qi(Yi(t,(function(t,n,i){return{value:t,index:r++,criteria:e(t,n,i)}})).sort((function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index})),"value")},sortedIndex:zi,tail:go,take:po,tap:function(t,e){return e(t),t},template:function(t,e,n){!e&&n&&(e=n),e=Kr({},e,Or.templateSettings);var r=RegExp([(e.escape||yi).source,(e.interpolate||yi).source,(e.evaluate||yi).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(r,(function(e,n,r,a,s){return o+=t.slice(i,s).replace(bi,xi),i=s+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),e})),o+="';\n";var a,s=e.variable;if(s){if(!wi.test(s))throw new Error("variable is not a bare identifier: "+s)}else o="with(obj||{}){\n"+o+"}\n",s="obj";o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{a=new Function(s,"_",o)}catch(t){throw t.source=o,t}var l=function(t){return a.call(this,t,Or)};return l.source="function("+s+"){\n"+o+"}",l},templateSettings:mi,throttle:function(t,e,n){var r,i,o,a,s=0;n||(n={});var l=function(){s=!1===n.leading?0:fi(),r=null,a=t.apply(i,o),r||(i=o=null)},c=function(){var c=fi();s||!1!==n.leading||(s=c);var u=e-(c-s);return i=this,o=arguments,u<=0||u>e?(r&&(clearTimeout(r),r=null),s=c,a=t.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(l,u)),a};return c.cancel=function(){clearTimeout(r),s=0,r=i=o=null},c},times:function(t,e,n){var r=Array(Math.max(0,t));e=oi(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r},toArray:no,toPath:Jr,transpose:xo,unescape:gi,union:bo,uniq:vo,unique:vo,uniqueId:function(t){var e=++ki+"";return t?t+e:e},unzip:xo,values:Yr,where:function(t,e){return Vi(t,ri(e))},without:yo,wrap:function(t,e){return _i(e,t)},zip:wo}));_o._=_o;const Ao=Math.sqrt(50),Eo=Math.sqrt(10),To=Math.sqrt(2);function $o(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Ao?10:o>=Eo?5:o>=To?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=n&&n<2?$o(t,e,2*n):[s,l,c]}function Oo(t,e,n){if(!((n=+n)>0))return[];if((t=+t)==(e=+e))return[t];const r=e<t,[i,o,a]=r?$o(e,t,n):$o(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let t=0;t<s;++t)l[t]=(o-t)/-a;else for(let t=0;t<s;++t)l[t]=(o-t)*a;else if(a<0)for(let t=0;t<s;++t)l[t]=(i+t)/-a;else for(let t=0;t<s;++t)l[t]=(i+t)*a;return l}var No={exports:{}};!function(t,e){t.exports=function(){var t=6e4,e=36e5,n="millisecond",r="second",i="minute",o="hour",a="day",s="week",l="month",c="quarter",u="year",f="date",h="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,d=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],n=t%100;return"["+t+(e[(n-20)%10]||e[n]||e[0])+"]"}},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},y={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+m(r,2,"0")+":"+m(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,l),o=n-i<0,a=e.clone().add(r+(o?-1:1),l);return+(-(r+(n-i)/(o?i-a:a-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:l,y:u,w:s,d:a,D:f,h:o,m:i,s:r,ms:n,Q:c}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},v="en",b={};b[v]=g;var x="$isDayjsObject",w=function(t){return t instanceof A||!(!t||!t[x])},k=function t(e,n,r){var i;if(!e)return v;if("string"==typeof e){var o=e.toLowerCase();b[o]&&(i=o),n&&(b[o]=n,i=o);var a=e.split("-");if(!i&&a.length>1)return t(a[0])}else{var s=e.name;b[s]=e,i=s}return!r&&i&&(v=i),i||!r&&v},M=function(t,e){if(w(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new A(n)},_=y;_.l=k,_.i=w,_.w=function(t,e){return M(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var A=function(){function g(t){this.$L=k(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[x]=!0}var m=g.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(_.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(p);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(e)}(t),this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return _},m.isValid=function(){return!(this.$d.toString()===h)},m.isSame=function(t,e){var n=M(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return M(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<M(t)},m.$g=function(t,e,n){return _.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,c=!!_.u(e)||e,h=_.p(t),p=function(t,e){var r=_.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return c?r:r.endOf(a)},d=function(t,e){return _.w(n.toDate()[t].apply(n.toDate("s"),(c?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},g=this.$W,m=this.$M,y=this.$D,v="set"+(this.$u?"UTC":"");switch(h){case u:return c?p(1,0):p(31,11);case l:return c?p(1,m):p(0,m+1);case s:var b=this.$locale().weekStart||0,x=(g<b?g+7:g)-b;return p(c?y-x:y+(6-x),m);case a:case f:return d(v+"Hours",0);case o:return d(v+"Minutes",1);case i:return d(v+"Seconds",2);case r:return d(v+"Milliseconds",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var s,c=_.p(t),h="set"+(this.$u?"UTC":""),p=(s={},s[a]=h+"Date",s[f]=h+"Date",s[l]=h+"Month",s[u]=h+"FullYear",s[o]=h+"Hours",s[i]=h+"Minutes",s[r]=h+"Seconds",s[n]=h+"Milliseconds",s)[c],d=c===a?this.$D+(e-this.$W):e;if(c===l||c===u){var g=this.clone().set(f,1);g.$d[p](d),g.init(),this.$d=g.set(f,Math.min(this.$D,g.daysInMonth())).$d}else p&&this.$d[p](d);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[_.p(t)]()},m.add=function(n,c){var f,h=this;n=Number(n);var p=_.p(c),d=function(t){var e=M(h);return _.w(e.date(e.date()+Math.round(t*n)),h)};if(p===l)return this.set(l,this.$M+n);if(p===u)return this.set(u,this.$y+n);if(p===a)return d(1);if(p===s)return d(7);var g=(f={},f[i]=t,f[o]=e,f[r]=1e3,f)[p]||1,m=this.$d.getTime()+n*g;return _.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||h;var r=t||"YYYY-MM-DDTHH:mm:ssZ",i=_.z(this),o=this.$H,a=this.$m,s=this.$M,l=n.weekdays,c=n.months,u=n.meridiem,f=function(t,n,i,o){return t&&(t[n]||t(e,r))||i[n].slice(0,o)},p=function(t){return _.s(o%12||12,t,"0")},g=u||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(d,(function(t,r){return r||function(t){switch(t){case"YY":return String(e.$y).slice(-2);case"YYYY":return _.s(e.$y,4,"0");case"M":return s+1;case"MM":return _.s(s+1,2,"0");case"MMM":return f(n.monthsShort,s,c,3);case"MMMM":return f(c,s);case"D":return e.$D;case"DD":return _.s(e.$D,2,"0");case"d":return String(e.$W);case"dd":return f(n.weekdaysMin,e.$W,l,2);case"ddd":return f(n.weekdaysShort,e.$W,l,3);case"dddd":return l[e.$W];case"H":return String(o);case"HH":return _.s(o,2,"0");case"h":return p(1);case"hh":return p(2);case"a":return g(o,a,!0);case"A":return g(o,a,!1);case"m":return String(a);case"mm":return _.s(a,2,"0");case"s":return String(e.$s);case"ss":return _.s(e.$s,2,"0");case"SSS":return _.s(e.$ms,3,"0");case"Z":return i}return null}(t)||i.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(n,f,h){var p,d=this,g=_.p(f),m=M(n),y=(m.utcOffset()-this.utcOffset())*t,v=this-m,b=function(){return _.m(d,m)};switch(g){case u:p=b()/12;break;case l:p=b();break;case c:p=b()/3;break;case s:p=(v-y)/6048e5;break;case a:p=(v-y)/864e5;break;case o:p=v/e;break;case i:p=v/t;break;case r:p=v/1e3;break;default:p=v}return h?p:_.a(p)},m.daysInMonth=function(){return this.endOf(l).$D},m.$locale=function(){return b[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=k(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return _.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},g}(),E=A.prototype;return M.prototype=E,[["$ms",n],["$s",r],["$m",i],["$H",o],["$W",a],["$M",l],["$y",u],["$D",f]].forEach((function(t){E[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),M.extend=function(t,e){return t.$i||(t(e,A,M),t.$i=!0),M},M.locale=k,M.isDayjs=w,M.unix=function(t){return M(1e3*t)},M.en=b[v],M.Ls=b,M.p={},M}()}(No);var So=et(No.exports),Lo={exports:{}};!function(t,e){t.exports=function(t,e){var n=e.prototype,r=n.format;n.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return r.bind(this)(t);var i=this.$utils(),o=(t||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(t){switch(t){case"Q":return Math.ceil((e.$M+1)/3);case"Do":return n.ordinal(e.$D);case"gggg":return e.weekYear();case"GGGG":return e.isoWeekYear();case"wo":return n.ordinal(e.week(),"W");case"w":case"ww":return i.s(e.week(),"w"===t?1:2,"0");case"W":case"WW":return i.s(e.isoWeek(),"W"===t?1:2,"0");case"k":case"kk":return i.s(String(0===e.$H?24:e.$H),"k"===t?1:2,"0");case"X":return Math.floor(e.$d.getTime()/1e3);case"x":return e.$d.getTime();case"z":return"["+e.offsetName()+"]";case"zzz":return"["+e.offsetName("long")+"]";default:return t}}));return r.bind(this)(o)}}}(Lo);var Co=et(Lo.exports),Do={exports:{}};!function(t,e){var n;t.exports=(n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},function(t,e,r){var i=e.prototype,o=i.format;r.en.formats=n,i.format=function(t){void 0===t&&(t="YYYY-MM-DDTHH:mm:ssZ");var e=this.$locale().formats,r=function(t,e){return t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,r,i){var o=i&&i.toUpperCase();return r||e[i]||n[i]||e[o].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(t,e,n){return e||n.slice(1)}))}))}(t,void 0===e?{}:e);return o.call(this,r)}})}(Do);var Ro=et(Do.exports),Io={exports:{}};!function(t,e){var n,r;t.exports=(n="week",r="year",function(t,e,i){var o=e.prototype;o.week=function(t){if(void 0===t&&(t=null),null!==t)return this.add(7*(t-this.week()),"day");var e=this.$locale().yearStart||1;if(11===this.month()&&this.date()>25){var o=i(this).startOf(r).add(1,r).date(e),a=i(this).endOf(n);if(o.isBefore(a))return 1}var s=i(this).startOf(r).date(e).startOf(n).subtract(1,"millisecond"),l=this.diff(s,n,!0);return l<0?i(this).startOf("week").week():Math.ceil(l)},o.weeks=function(t){return void 0===t&&(t=null),this.week(t)}})}(Io);var Po=et(Io.exports);function zo(t,e,n,r,i,o){let a=arguments.length>6&&void 0!==arguments[6]&&arguments[6];const{scale:s,scaleType:l,customFormatFunction:c,tickLabelFormat:u,tickLabelUnit:f,tickLabelMultiply:h,minusChar:p,plusMinusChar:d="Â±"}=e,g=(null==o?void 0:o.major)||{values:[]},m=(null==o?void 0:o.minor)||{values:[]};let y=g.values;const v=s.domain(),b=s.range(),x=g.spacing||80,w=Math.abs(b[1]-b[0])/x;if("text"===l&&c){const t=v,e=a?Oo(0,t[0],t[0]):Oo(0,t[1],t[1]),n=Math.max(1,Math.round(e.length/w)),r=e.filter(t=>t%n==0);return{ticksMajor:i?r:e,ticksMinor:[]}}y&&y.length||(y=i?function(t,e,n,r,i){const{scale:o,scaleType:a}=e,s=tt(n,"tickLabels.fontSize",Ke(r,"fontSize",12)),l=tt(n,"tickLabels.buffer",10);return function t(r,i,c){const u=jo(a,o,o.domain(),i).sort((t,e)=>o(t)-o(e));if(Math.round(i)>1&&u.length>1){if(c&&u.length===c.length)return t(r,i-1,u);{const{tickFormat:a,multiFormat:c}=Bo(r,e,u,n),f=u.map((t,e)=>{const n=0===e?e===u.length-1?"last":"first":"middle",r=[a(t,n,0===e)];return Math.max(...r.flat().map(t=>function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:14;if(!t)return 0;const n=e/14;return t.split("").reduce((t,e)=>t+(En[e]||En.a),0)*n}(t,s)))});let h,p=l;if(u.forEach((t,e)=>{const n=o(t);h&&(p=Math.min(n-f[e]/2-h,p)),h=n+f[e]/2}),p<l)return t(r,i-1,u)}}return u}(t,i)}(t,{scale:s,scaleType:l,tickLabelFormat:u,tickLabelUnit:f,tickLabelMultiply:h,minusChar:p,plusMinusChar:d,customFormatFunction:c},n,r,w):jo(l,s,v,w),"number"!==l&&"log"!==l||"0o"!==u||(y=y.filter(t=>t%1==0))),"text"!==l&&(y=y.filter(t=>{if("date"===l){const e=t,n=v;return e.getTime()>=Math.min(n[0].getTime(),n[1].getTime())&&e.getTime()<=Math.max(n[0].getTime(),n[1].getTime())}const e=t,n=v;return e>=Math.min(n[0],n[1])&&e<=Math.max(n[0],n[1])}));let k=Array.isArray(m.values)?m.values:[];if(0===k.length&&m.count){k=[];for(let t=0;t<y.length-1;t++){const e=Math.min(y[t],y[t+1]),n=Math.max(y[t],y[t+1]),r=Oo(e,n,m.count).filter(t=>t>e&&t<n);k.push(...r)}}return{ticksMajor:y,ticksMinor:k}}function jo(t,e,n,r){const i=Math.round(r);switch(t){case"text":{const t=Math.max(1,Math.round(n.length/r));return n.filter((e,n)=>n%t==0)}case"log":{const t=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;const n=t[0]<0&&t[1]<0;n&&(t=[-1*t[0],-1*t[1]]);const r=t[1]<t[0];if(r&&(t=t.slice(0).reverse()),t[0]<0||t[1]<0)return[];let i=1;e+=2;let o=Uo(t,i);if(o[0].num>e)for(;o[0].num>e;)i*=10,o=Uo(t,i);else if(o[o.length-1].num<e){const n=Oo(t[0],t[1],e-2);return r&&n.reverse(),n}e-=2;const a=o.map(e=>Object.assign(Object.assign({},e),{ticks:e.ticks.filter(e=>e>=t[0]&&e<=t[1])})).map(t=>Object.assign(Object.assign({},t),{diff:Math.abs(t.ticks.length-e)})).sort((t,e)=>t.diff-e.diff)[0].ticks;return r&&a.reverse(),n?a.map(t=>-1*t):a}(n,i);return t.length>1?t:e.ticks(i)}default:{let t=e.ticks(i);return r>.5&&t.length<2&&(t=e.ticks(2)),t}}}So.extend(Co),So.extend(Po),So.extend(Ro),So.extend((t,e)=>{const n=e.prototype,r=n.format;n.format=function(t){const e=t||"YYYY-MM-DDTHH:mm:ssZ",n=this.$locale().seasonSeparator||"-",i=e.replace(/(\[[^\]]+])|BB|B/g,(t,e)=>{const r=this.$y,i=r+1,o="B"===t,a=o?[String(r).slice(-2),2]:[r,4],s=[String(i).slice(-2),2];return e||"".concat(o?"'":"").concat(this.$utils().s(...a,"0")).concat(n).concat(o?"'":"").concat(this.$utils().s(...s,"0"))});return r.bind(this)(i)}});const Fo=[[10],[5,4,5],[3,10/3],[2,2.5,2],[1.5,2,5/3,2]];function Uo(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Fo.map(n=>{let r=Math.pow(10,Math.floor(Math.log(t[0])/Math.LN10)),i=0;const o=[r];for(;r<t[1];)r*=n[i]*e,o.push(r),i=(i+1)%n.length;return{ticks:o,num:o.length}})}function Bo(t,e){let{scale:n,scaleType:r,tickLabelFormat:i,tickLabelUnit:o=["",""],tickLabelMultiply:a,minusChar:s,plusMinusChar:l,customFormatFunction:c}=e,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],f=arguments.length>3?arguments[3]:void 0,h=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(i&&"auto"!==i||("date"===r?i=Yo(n.domain(),u):"number"!==r&&"log"!==r||(i=function(t){const e=Math.abs(t[1]-t[0]);return e<1?"0,0.00[0]":e<3?"0,0.0[0]":e<1e4?"0,0.[0]":e>1e6||Math.abs(t[0])>1e5||Math.abs(t[1])>1e5?"0,0.[0]a":"0,0"}(n.domain()))),"number"===r||"log"===r){const e=tt(f,"tickLabels.units","all");return{multiFormat:!1,keepOrder:!1,tickFormat(n,r){const c=h||"all"===e||"first"===e&&"first"===r||"last"===e&&"last"===r;return function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r,i;if(void 0===e||isNaN(e)||null===e)return"";let o=n.format||"0.[00]";const a=n.multiply||1,s=n.prepend||"",l=n.append||"",c=null!==(r=n.minusChar)&&void 0!==r?r:"â",u=null!==(i=n.plusMinusChar)&&void 0!==i?i:"Â±";o.includes("%")&&Number.isFinite(e)&&(e*=.01),e*=a;const f=o.indexOf("(")>-1,h=o.indexOf(";")>-1;o=o.replace(/;/g,",");let p=t(f?e:Math.abs(e)).format(o);if(h){const n=t.options.currentLocale,r=t.locales[n].delimiters.thousands,i=o.includes("%")?e/.01:e;p=Math.abs(i)<1e4?p.replace(r,""):p}return s&&!f&&e<0&&Tn.has(s.trim().toLowerCase())?"".concat(c).concat(s).concat(p.replace("+","")).concat(l):s&&e>=0&&Tn.has(s.trim().toLowerCase())&&o.includes("+")?"".concat(0===e?u:"+").concat(s).concat(p.replace("+","")).concat(l):0===e&&o.includes("+")?"".concat(s).concat(p.replace("+",u)).concat(l):e<0&&!f?"".concat(s).concat(c).concat(p.replace("+","")).concat(l):"".concat(s).concat(p).concat(l)}(t,n,{multiply:a,format:c?i:i.replace(/[%$]/g,""),prepend:c?o[0]:"",append:c?o[1]:"",minusChar:s,plusMinusChar:l})}}}if("date"===r){h&&(i=i.replace(/\w+/g,t=>Ho[t]||t));let t=null;if(i.indexOf("~~")>-1){const e=i.split("~~");t=t=>So(t).format(e[0]),i=e[1]}const e=i.split("|"),n=e.length>1,r=n?function(t,e){let n=new Array(t.length);return t=t.filter((t,n)=>!n||vo(e.map(t)).length>1),(e,r,i)=>{let o;i&&(n=[]);const a=[];for(let r=0,i=t.length;r<i;r++)if(o=t[r](e),o!==n[r]){n[r]=o;for(let t=r+1;t<i;t++)n[t]=void 0;a.unshift(o)}return a}}(e.map(t=>e=>So(e).format(t)),u):t=>So(t).format(i);return{multiFormat:n,keepOrder:!1,tickFormat:function(e,i,o){return t&&"first"===i?n?[t(e)]:t(e):r(e,i,o)}}}return{multiFormat:!0,keepOrder:!0,tickFormat:(t,e)=>{if("number"==typeof t&&c)t=c(t);else if("number"==typeof t)throw"Requires a customFormatFunction";return(t||"").split(/(?:\n|<br>|<br\/>)/i)}}}const Ho={YY:"YYYY",M:"MMMM",MM:"MMMM",MMM:"MMMM",DD:"D",dd:"dddd",ddd:"dddd"};function Yo(t,e){const n=Math.abs(t[1].getTime()-t[0].getTime()),r=e&&e.length>0;let i=r,o=r,a=r,s=r,l=r,c=r;return r&&e.forEach(t=>{i=i&&0===t.getMonth()&&1===t.getDate()&&0===t.getHours()&&0===t.getMinutes(),o=o&&Vo.has(t.getMonth())&&1===t.getDate()&&0===t.getHours()&&0===t.getMinutes(),a=a&&1===t.getDate()&&0===t.getHours()&&0===t.getMinutes(),s=s&&0===t.getDay()&&0===t.getHours()&&0===t.getMinutes(),l=l&&0===t.getHours()&&0===t.getMinutes(),c=c&&0===t.getMinutes()}),i?"YYYY":o||a?n>5*Go?"YY|MMM":"YYYY|MMM":s?n>2*qo?"MMM|D":"MMMM|D":l?n>Go?"MMM YYYY|D":n>qo?"MMM|D":"D.M.":c?n<Wo?"h a":"MMM D|h a":n<Wo?"LT":"MMM D|LT"}const Wo=864e5,qo=30*Wo,Go=365*Wo,Vo=new Set([0,3,6,9]);function Xo(t,e,n,r,i,o){const{scale:a,scaleType:s}=n,{tickFormat:l}=Bo(t,n,o,r,!0),c=l(a.domain()[0],"first",!1),u=l(a.domain()[1],"last",!1),f="text"===s?"category":"date"===s?"datetime":"number";return{role:"graphics-axis","aria-orientation":"x"===e?"horizontal":"vertical","aria-valuemin":a.domain()[0],"aria-valuemax":a.domain()[1],"aria-datatype":f,"aria-label":i("accessibility / xy-grid / axis-".concat(e,"-").concat(s)).replace("%from%",c).replace("%to%",u)+("log"===s?" ".concat(i("accessibility / xy-grid / axis-log")):"")}}function Ko(t,e){return e("\n    line.major {\n        ".concat(Qo(t.major),"\n    }\n    line.minor {\n        ").concat(Qo(t.minor),"\n    }\n"))}function Zo(t,e){return e("\n    line {\n        ".concat(Qo(t),"\n    }\n    ").concat(t.hideZero?"line.is-zero { display: none }":"","\n"))}function Jo(t,e){return e("\n    line {\n        ".concat(Qo(t),"\n    }\n"))}function Qo(t){return"dotted"===t.strokeDasharray&&(t.strokeDasharray="".concat(t.width," ").concat(t.width)),ea(t,[["color","stroke"],["opacity","opacity"],["width","stroke-width"],["strokeLinecap","stroke-linecap"],["strokeDasharray","stroke-dasharray"]])+(!1!==t.crisp?"\nshape-rendering: crispEdges;":"")}function ta(t){return ea(t,[["color","fill"],["opacity","opacity"],["fontSize","font-size",void 0,"px"],["letterSpacing","letter-spacing"],["fontWeight","font-weight"],["fontStyle","font-style"],["typeface","font-family"],["textTransform","text-transform"]])}function ea(t,e){return e.filter(e=>{const n=e[0],r=e[2];return void 0!==t[n]||r}).map(e=>{let[n,r,i,o]=e;return"".concat(r,": ").concat(void 0===t[n]?i:t[n]).concat(o||"",";")}).join("\n")}function ra(t,e,n){const r=t.slice();return r[13]=e[n],r}function ia(t){let e,n,r,i;return{c(){e=p("line"),y(e,"class",n="x-tick-line ".concat(t[5])),y(e,"y1",r=t[4]*t[2]),y(e,"transform",i="translate(".concat(t[6](t[13]).join(","),")")),w(e,"is-zero",0===t[13])},m(t,n){u(t,e,n)},p(t,o){32&o&&n!==(n="x-tick-line ".concat(t[5]))&&y(e,"class",n),20&o&&r!==(r=t[4]*t[2])&&y(e,"y1",r),2&o&&i!==(i="translate(".concat(t[6](t[13]).join(","),")"))&&y(e,"transform",i),34&o&&w(e,"is-zero",0===t[13])},d(t){t&&f(e)}}}function oa(t){let n,r,i,o=q(t[1]),a=[];for(let e=0;e<o.length;e+=1)a[e]=ia(ra(t,o,e));return{c(){n=p("g");for(let t=0;t<a.length;t+=1)a[t].c();y(n,"class",r="x-tick-lines ".concat(t[0]," ").concat(t[5])),y(n,"transform",i="translate(".concat(t[3].join(","),")"))},m(t,e){u(t,n,e);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(n,null)},p(t,e){let[s]=e;if(118&s){let e;for(o=q(t[1]),e=0;e<o.length;e+=1){const r=ra(t,o,e);a[e]?a[e].p(r,s):(a[e]=ia(r),a[e].c(),a[e].m(n,null))}for(;e<a.length;e+=1)a[e].d(1);a.length=o.length}33&s&&r!==(r="x-tick-lines ".concat(t[0]," ").concat(t[5]))&&y(n,"class",r),8&s&&i!==(i="translate(".concat(t[3].join(","),")"))&&y(n,"transform",i)},i:e,o:e,d(t){t&&f(n),h(a,t)}}}function aa(t,e,n){let r,i,o,a,s,{themeDataTickLines:l}=e,{tickPosition:c}=e,{plotSize:u}=e,{scale:f}=e,{className:h=""}=e,{ticksMajor:p}=e,{css:d}=e;return t.$$set=t=>{"themeDataTickLines"in t&&n(7,l=t.themeDataTickLines),"tickPosition"in t&&n(8,c=t.tickPosition),"plotSize"in t&&n(9,u=t.plotSize),"scale"in t&&n(10,f=t.scale),"className"in t&&n(0,h=t.className),"ticksMajor"in t&&n(1,p=t.ticksMajor),"css"in t&&n(11,d=t.css)},t.$$.update=()=>{2176&t.$$.dirty&&n(5,r=Zo(l,d)),256&t.$$.dirty&&n(2,i="bottom"===c?1:-1),128&t.$$.dirty&&(o=tt(l,"distance")),128&t.$$.dirty&&n(4,a=tt(l,"length")),768&t.$$.dirty&&n(3,s="bottom"===c?[0,u[1]]:[0,0])},[h,p,i,s,a,r,function(t){return[f(t),o*i]},l,c,u,f,d]}let sa=class extends Q{constructor(t){super(),J(this,t,aa,oa,s,{themeDataTickLines:7,tickPosition:8,plotSize:9,scale:10,className:0,ticksMajor:1,css:11})}};function la(t,e,n){const r=t.slice();return r[11]=e[n],r}function ca(t,e,n){const r=t.slice();return r[11]=e[n],r}function ua(t){let e,n,r,i;return{c(){e=p("line"),y(e,"class",n="x-grid-line major ".concat(t[4])),y(e,"y1",r=t[0][1]),y(e,"transform",i="translate(".concat(t[5](t[11]),", 0)")),w(e,"is-zero",0===t[11])},m(t,n){u(t,e,n)},p(t,o){16&o&&n!==(n="x-grid-line major ".concat(t[4]))&&y(e,"class",n),1&o&&r!==(r=t[0][1])&&y(e,"y1",r),8&o&&i!==(i="translate(".concat(t[5](t[11]),", 0)"))&&y(e,"transform",i),24&o&&w(e,"is-zero",0===t[11])},d(t){t&&f(e)}}}function fa(t){let e,n=q(t[2]),r=[];for(let e=0;e<n.length;e+=1)r[e]=ha(la(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=m()},m(t,n){for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,n);u(t,e,n)},p(t,i){if(53&i){let o;for(n=q(t[2]),o=0;o<n.length;o+=1){const a=la(t,n,o);r[o]?r[o].p(a,i):(r[o]=ha(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){t&&f(e),h(r,t)}}}function ha(t){let e,n,r,i;return{c(){e=p("line"),y(e,"class",n="x-grid-line minor ".concat(t[4])),y(e,"y1",r=t[0][1]),y(e,"transform",i="translate(".concat(t[5](t[11]),", 0)"))},m(t,n){u(t,e,n)},p(t,o){16&o&&n!==(n="x-grid-line minor ".concat(t[4]))&&y(e,"class",n),1&o&&r!==(r=t[0][1])&&y(e,"y1",r),4&o&&i!==(i="translate(".concat(t[5](t[11]),", 0)"))&&y(e,"transform",i)},d(t){t&&f(e)}}}function pa(t){let n,r,i,o=q(t[3]),a=[];for(let e=0;e<o.length;e+=1)a[e]=ua(ca(t,o,e));let s=t[2]&&fa(t);return{c(){n=p("g");for(let t=0;t<a.length;t+=1)a[t].c();r=m(),s&&s.c(),y(n,"class",i="x-grid-lines ".concat(t[1]," ").concat(t[4]))},m(t,e){u(t,n,e);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(n,null);c(n,r),s&&s.m(n,null)},p(t,e){let[l]=e;if(57&l){let e;for(o=q(t[3]),e=0;e<o.length;e+=1){const i=ca(t,o,e);a[e]?a[e].p(i,l):(a[e]=ua(i),a[e].c(),a[e].m(n,r))}for(;e<a.length;e+=1)a[e].d(1);a.length=o.length}t[2]?s?s.p(t,l):(s=fa(t),s.c(),s.m(n,null)):s&&(s.d(1),s=null),18&l&&i!==(i="x-grid-lines ".concat(t[1]," ").concat(t[4]))&&y(n,"class",i)},i:e,o:e,d(t){t&&f(n),h(a,t),s&&s.d()}}}function da(t,e,n){let r,i,{themeOptionsGridLines:o}=e,{plotSize:a}=e,{scale:s}=e,{className:l=""}=e,{ticksMajor:c}=e,{ticksMinor:u}=e,{baseLine:f}=e,{css:h}=e;return t.$$set=t=>{"themeOptionsGridLines"in t&&n(6,o=t.themeOptionsGridLines),"plotSize"in t&&n(0,a=t.plotSize),"scale"in t&&n(7,s=t.scale),"className"in t&&n(1,l=t.className),"ticksMajor"in t&&n(8,c=t.ticksMajor),"ticksMinor"in t&&n(2,u=t.ticksMinor),"baseLine"in t&&n(9,f=t.baseLine),"css"in t&&n(10,h=t.css)},t.$$.update=()=>{1088&t.$$.dirty&&n(4,r=Ko(o,h)),768&t.$$.dirty&&n(3,i=c.filter(t=>!f.has("zero")||0!==t))},[a,l,u,i,r,function(t){return s(t)},o,s,c,f,h]}let ga=class extends Q{constructor(t){super(),J(this,t,da,pa,s,{themeOptionsGridLines:6,plotSize:0,scale:7,className:1,ticksMajor:8,ticksMinor:2,baseLine:9,css:10})}};function ma(t,e,n){const r=t.slice();return r[10]=e[n],r}function ya(t){let e,n,r,i,o;return{c(){e=p("g"),n=p("line"),y(n,"y1",r=t[0][1]),y(n,"transform",i="translate(".concat(t[4](t[10]),", 0)")),y(e,"class",o="x-base-lines ".concat(t[1]," ").concat(t[3]))},m(t,r){u(t,e,r),c(e,n)},p(t,a){1&a&&r!==(r=t[0][1])&&y(n,"y1",r),4&a&&i!==(i="translate(".concat(t[4](t[10]),", 0)"))&&y(n,"transform",i),10&a&&o!==(o="x-base-lines ".concat(t[1]," ").concat(t[3]))&&y(e,"class",o)},d(t){t&&f(e)}}}function va(t){let n,r=q(t[2]),i=[];for(let e=0;e<r.length;e+=1)i[e]=ya(ma(t,r,e));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();n=m()},m(t,e){for(let n=0;n<i.length;n+=1)i[n]&&i[n].m(t,e);u(t,n,e)},p(t,e){let[o]=e;if(31&o){let e;for(r=q(t[2]),e=0;e<r.length;e+=1){const a=ma(t,r,e);i[e]?i[e].p(a,o):(i[e]=ya(a),i[e].c(),i[e].m(n.parentNode,n))}for(;e<i.length;e+=1)i[e].d(1);i.length=r.length}},i:e,o:e,d(t){t&&f(n),h(i,t)}}}function ba(t,e,n){let r,i,{themeOptionsBaseLine:o}=e,{plotSize:a}=e,{scale:s}=e,{className:l=""}=e,{ticksMajor:c}=e,{baseLine:u}=e,{css:f}=e;return t.$$set=t=>{"themeOptionsBaseLine"in t&&n(5,o=t.themeOptionsBaseLine),"plotSize"in t&&n(0,a=t.plotSize),"scale"in t&&n(6,s=t.scale),"className"in t&&n(1,l=t.className),"ticksMajor"in t&&n(7,c=t.ticksMajor),"baseLine"in t&&n(8,u=t.baseLine),"css"in t&&n(9,f=t.css)},t.$$.update=()=>{544&t.$$.dirty&&n(3,r=Jo(o,f)),384&t.$$.dirty&&n(2,i=Array.from(u).filter(t=>"zero"!==t||c.includes(0)))},[a,l,i,r,function(t){return"zero"===t?s(0):"left"===t?0:a[0]},o,s,c,u,f]}let xa=class extends Q{constructor(t){super(),J(this,t,ba,va,s,{themeOptionsBaseLine:5,plotSize:0,scale:6,className:1,ticksMajor:7,baseLine:8,css:9})}};function wa(t,e,n){const r=t.slice();return r[27]=e[n],r[28]=e,r[29]=n,r}function ka(t,e,n){const r=t.slice();return r[30]=e[n],r[32]=n,r}function Ma(t){let e,n,r,i,o=t[29],a=q(t[27].ticks),s=[];for(let e=0;e<a.length;e+=1)s[e]=_a(ka(t,a,e));const l=()=>t[24](e,o),c=()=>t[24](null,o);return{c(){e=p("text");for(let t=0;t<s.length;t+=1)s[t].c();y(e,"class",n="x-tick-label ".concat(t[0])),y(e,"transform",r="translate(".concat(t[27].translate.join(","),")")),y(e,"aria-hidden","true"),y(e,"y",i=t[27].y),w(e,"dw-bold",t[9]),w(e,"dw-italic",t[8]),w(e,"is-zero",t[27].isZero),w(e,"first",t[27].isFirst),w(e,"last",t[27].isLast),x(e,"text-anchor",t[7].length?t[7][t[29]]:"")},m(t,n){u(t,e,n);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(e,null);l()},p(u,f){if(t=u,72&f[0]){let n;for(a=q(t[27].ticks),n=0;n<a.length;n+=1){const r=ka(t,a,n);s[n]?s[n].p(r,f):(s[n]=_a(r),s[n].c(),s[n].m(e,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=a.length}1&f[0]&&n!==(n="x-tick-label ".concat(t[0]))&&y(e,"class",n),64&f[0]&&r!==(r="translate(".concat(t[27].translate.join(","),")"))&&y(e,"transform",r),64&f[0]&&i!==(i=t[27].y)&&y(e,"y",i),o!==t[29]&&(c(),o=t[29],l()),513&f[0]&&w(e,"dw-bold",t[9]),257&f[0]&&w(e,"dw-italic",t[8]),65&f[0]&&w(e,"is-zero",t[27].isZero),65&f[0]&&w(e,"first",t[27].isFirst),65&f[0]&&w(e,"last",t[27].isLast),128&f[0]&&x(e,"text-anchor",t[7].length?t[7][t[29]]:"")},d(t){t&&f(e),h(s,t),c()}}}function _a(t){let e,n,r,i=t[30]+"";return{c(){e=p("tspan"),n=d(i),y(e,"x","0"),y(e,"dy",r=t[32]>0?t[3]+3:0)},m(t,r){u(t,e,r),c(e,n)},p(t,o){64&o[0]&&i!==(i=t[30]+"")&&b(n,i),8&o[0]&&r!==(r=t[32]>0?t[3]+3:0)&&y(e,"dy",r)},d(t){t&&f(e)}}}function Aa(t){let e,n=t[27].visible&&Ma(t);return{c(){n&&n.c(),e=m()},m(t,r){n&&n.m(t,r),u(t,e,r)},p(t,r){t[27].visible?n?n.p(t,r):(n=Ma(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){t&&f(e),n&&n.d(t)}}}function Ea(t){let r,i,o,a=q(t[6]),s=[];for(let e=0;e<a.length;e+=1)s[e]=Aa(wa(t,a,e));let l=[{class:i="x-tick-labels ".concat(t[2],"-axis ").concat(t[1]," ").concat(t[11])},{transform:o="translate(".concat(t[10].join(","),")")},t[4]],c={};for(let t=0;t<l.length;t+=1)c=n(c,l[t]);return{c(){r=p("g");for(let t=0;t<s.length;t+=1)s[t].c();v(r,c)},m(t,e){u(t,r,e);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(r,null)},p(t,e){if(1001&e[0]){let n;for(a=q(t[6]),n=0;n<a.length;n+=1){const i=wa(t,a,n);s[n]?s[n].p(i,e):(s[n]=Aa(i),s[n].c(),s[n].m(r,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=a.length}v(r,c=G(l,[2054&e[0]&&i!==(i="x-tick-labels ".concat(t[2],"-axis ").concat(t[1]," ").concat(t[11]))&&{class:i},1024&e[0]&&o!==(o="translate(".concat(t[10].join(","),")"))&&{transform:o},16&e[0]&&t[4]]))},i:e,o:e,d(t){t&&f(r),h(s,t)}}}function Ta(t,e,n){let r,i,o,a,s,{themeOptions:l}=e,{tickPosition:c}=e,{plotSize:u}=e,{scale:f}=e,{className:h=""}=e,{rtl:p=!1}=e,{ticksMajor:d}=e,{tickLines:g}=e,{scaleType:m}=e,{tickFormat:y}=e,{multiFormat:v}=e,{keepOrder:b}=e,{fontSize:x}=e,{ariaDescription:w}=e,{fitLabelsActual:k}=e,{css:M}=e;const _=[];let A,E=[];return t.$$set=t=>{"themeOptions"in t&&n(12,l=t.themeOptions),"tickPosition"in t&&n(0,c=t.tickPosition),"plotSize"in t&&n(13,u=t.plotSize),"scale"in t&&n(14,f=t.scale),"className"in t&&n(1,h=t.className),"rtl"in t&&n(15,p=t.rtl),"ticksMajor"in t&&n(16,d=t.ticksMajor),"tickLines"in t&&n(17,g=t.tickLines),"scaleType"in t&&n(2,m=t.scaleType),"tickFormat"in t&&n(18,y=t.tickFormat),"multiFormat"in t&&n(19,v=t.multiFormat),"keepOrder"in t&&n(20,b=t.keepOrder),"fontSize"in t&&n(3,x=t.fontSize),"ariaDescription"in t&&n(4,w=t.ariaDescription),"fitLabelsActual"in t&&n(21,k=t.fitLabelsActual),"css"in t&&n(22,M=t.css)},t.$$.update=()=>{4198400&t.$$.dirty[0]&&n(11,r=function(t,e){let{tickLabels:n}=t;return e("\n    text {\n        text-anchor: middle;\n    }\n    ".concat(n.hideZero?"text.is-zero { display: none }":"","\n    text tspan {\n        ").concat(ta(n),"\n    }\n"))}(l,M)),135168&t.$$.dirty[0]&&n(23,i=(g?tt(l,"tickLines.distance")+tt(l,"tickLines.length"):0)+tt(l,"tickLabels.distance")),8396801&t.$$.dirty[0]&&n(10,o="bottom"===c?[0,u[1]+i]:[0,-i-3]),4096&t.$$.dirty[0]&&n(9,a="bold"===tt(l,"tickLabels.fontWeight")),4096&t.$$.dirty[0]&&n(8,s="italic"===tt(l,"tickLabels.fontStyle")),65536&t.$$.dirty[0]&&async function(t){const e=[...t];e.sort((t,e)=>f(t)-f(e)),p&&e.reverse(),n(6,A=e.map((t,e,n)=>function(t,e,n,r,i,o,a,s,l){const c=0===e,u=e===n.length-1,f=c?"first":u?"last":"middle",h=[t].map(t=>a?s(t,f,0===e):[s(t,f,0===e)]).flat().map(t=>gi(t));return r||"top"!==i||h.reverse(),{tick:t,y:"top"===i?(h.length-1)*(o+3)*-1:0,ticks:h,isFirst:c,isLast:u,isZero:0===t,translate:[l(t),"bottom"===i?o:0],visible:!0}}(t,e,n,b,c,x,v,y,f))),p&&A.reverse(),n(7,E=A.map(()=>"")),await D();const r=_.filter(t=>t),i=r.map(t=>(null==t?void 0:t.getBoundingClientRect())||{left:0,width:0});if(i.length>0&&0===i[0].left&&0===i[0].width)return;let o;p&&i.reverse();const a=i.map((t,e)=>{const n=function(t){if(!t||"object"!=typeof t)return t;try{return JSON.parse(JSON.stringify(t))}catch(e){return t}}(t);let i=0;return 0===e&&k.has("first")?i=.5*t.width:e===r.length-1&&k.has("last")&&(i=.5*t.width*-1),p&&(i*=-1),n.x+=i,n.left+=i,n.right+=i,!(o&&(p?n.x+n.width+4>o.x:o.x+o.width+4>n.x)||(o=n,0))});p&&a.reverse(),A.forEach((t,e)=>t.visible=0===a.length||a[e]),n(6,A),n(7,E=A.map((t,e)=>function(t){return t.isFirst&&k.has("first")?"start":t.isLast&&k.has("last")?"end":""}(t)))}(d)},[c,h,m,x,w,_,A,E,s,a,o,r,l,u,f,p,d,g,y,v,b,k,M,i,function(t,e){$[t?"unshift":"push"](()=>{_[e]=t,n(5,_)})}]}let $a=class extends Q{constructor(t){super(),J(this,t,Ta,Ea,s,{themeOptions:12,tickPosition:0,plotSize:13,scale:14,className:1,rtl:15,ticksMajor:16,tickLines:17,scaleType:2,tickFormat:18,multiFormat:19,keepOrder:20,fontSize:3,ariaDescription:4,fitLabelsActual:21,css:22},null,[-1,-1])}};function Oa(t){let n,r,i,o;const s=t[3].default,c=function(t,e,n,r){if(t){const r=l(t,e,n,null);return t[0](r)}}(s,t,t[2]);return{c(){n=p("g"),c&&c.c(),y(n,"class","measure-offscreen svelte-td01xd"),y(n,"aria-hidden","true")},m(s,l){var f;u(s,n,l),c&&c.m(n,null),r=!0,i||(f=t[0].call(null,n),o=f&&a(f.destroy)?f.destroy:e,i=!0)},p(t,e){let[n]=e;c&&c.p&&(!r||4&n)&&function(t,e,n,r,i,o){if(i){const o=l(e,n,r,null);t.p(o,i)}}(c,s,t,t[2],r?function(t,e,n,r){return t[2],e.dirty}(s,t[2]):function(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}(t[2]))},i(t){r||(Y(c,t),r=!0)},o(t){W(c,t),r=!1},d(t){t&&f(n),c&&c.d(t),i=!1,o()}}}function Na(t,e,n){let{$$slots:r={},$$scope:i}=e,{onMeasure:o}=e;return t.$$set=t=>{"onMeasure"in t&&n(1,o=t.onMeasure),"$$scope"in t&&n(2,i=t.$$scope)},[function(t){let e=!0;async function n(){if(!e)return;if(e=!1,await D(),!t.getBBox)return o({width:0,height:0,top:0,left:0,right:0,bottom:0,x:0,y:0,toJSON:()=>""},t),void(e=!0);const n=t.getBBox(),r={width:n.width,height:n.height,top:n.y,left:n.x,right:n.x+n.width,bottom:n.y+n.height,x:n.x,y:n.y,toJSON:()=>""};o(r,t),e=!0}return n(),{update:n}},o,i,r]}class Sa extends Q{constructor(t){super(),J(this,t,Na,Oa,s,{onMeasure:1})}}function La(t){let e,n;return e=new Sa({props:{onMeasure:t[12],$$slots:{default:[Ca]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(t,r){K(e,t,r),n=!0},p(t,n){const r={};1024&n[0]|131072&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){W(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function Ca(t){let e,r;const i=[t[10]];let o={};for(let t=0;t<i.length;t+=1)o=n(o,i[t]);return e=new $a({props:o}),{c(){X(e.$$.fragment)},m(t,n){K(e,t,n),r=!0},p(t,n){const r=1024&n[0]?G(i,[V(t[10])]):{};e.$set(r)},i(t){r||(Y(e.$$.fragment,t),r=!0)},o(t){W(e.$$.fragment,t),r=!1},d(t){Z(e,t)}}}function Da(t){let e,r;const i=[t[10]];let o={};for(let t=0;t<i.length;t+=1)o=n(o,i[t]);return e=new $a({props:o}),{c(){X(e.$$.fragment)},m(t,n){K(e,t,n),r=!0},p(t,n){const r=1024&n[0]?G(i,[V(t[10])]):{};e.$set(r)},i(t){r||(Y(e.$$.fragment,t),r=!0)},o(t){W(e.$$.fragment,t),r=!1},d(t){Z(e,t)}}}function Ra(t){let e,n;return e=new sa({props:{themeDataTickLines:t[7].tickLines,tickPosition:t[3],plotSize:t[8],scale:t[5],className:t[2],ticksMajor:t[6].ticksMajor,css:t[11]}}),{c(){X(e.$$.fragment)},m(t,r){K(e,t,r),n=!0},p(t,n){const r={};128&n[0]&&(r.themeDataTickLines=t[7].tickLines),8&n[0]&&(r.tickPosition=t[3]),256&n[0]&&(r.plotSize=t[8]),32&n[0]&&(r.scale=t[5]),4&n[0]&&(r.className=t[2]),64&n[0]&&(r.ticksMajor=t[6].ticksMajor),e.$set(r)},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){W(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function Ia(t){let e,n;return e=new ga({props:{themeOptionsGridLines:t[7].gridLines,plotSize:t[8],scale:t[5],className:t[2],ticksMajor:t[6].ticksMajor,ticksMinor:t[6].ticksMinor,baseLine:t[4],css:t[11]}}),{c(){X(e.$$.fragment)},m(t,r){K(e,t,r),n=!0},p(t,n){const r={};128&n[0]&&(r.themeOptionsGridLines=t[7].gridLines),256&n[0]&&(r.plotSize=t[8]),32&n[0]&&(r.scale=t[5]),4&n[0]&&(r.className=t[2]),64&n[0]&&(r.ticksMajor=t[6].ticksMajor),64&n[0]&&(r.ticksMinor=t[6].ticksMinor),16&n[0]&&(r.baseLine=t[4]),e.$set(r)},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){W(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function Pa(t){let e,n;return e=new xa({props:{themeOptionsBaseLine:t[7].baseLine,plotSize:t[8],scale:t[5],className:t[2],ticksMajor:t[6].ticksMajor,baseLine:t[4],css:t[11]}}),{c(){X(e.$$.fragment)},m(t,r){K(e,t,r),n=!0},p(t,n){const r={};128&n[0]&&(r.themeOptionsBaseLine=t[7].baseLine),256&n[0]&&(r.plotSize=t[8]),32&n[0]&&(r.scale=t[5]),4&n[0]&&(r.className=t[2]),64&n[0]&&(r.ticksMajor=t[6].ticksMajor),16&n[0]&&(r.baseLine=t[4]),e.$set(r)},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){W(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function za(t){let e,n,r,i,o,a,s,l=!0===t[9]&&t[0].has("tick-labels"),h=t[0].has("tick-labels"),d=t[0].has("tick-lines"),v=t[0].has("grid-lines"),b=t[0].has("base-lines"),x=l&&La(t),w=h&&Da(t),k=d&&Ra(t),M=v&&Ia(t),_=b&&Pa(t);return{c(){x&&x.c(),e=g(),n=p("g"),w&&w.c(),r=m(),k&&k.c(),i=m(),M&&M.c(),o=m(),_&&_.c(),y(n,"class","x-grid"),y(n,"direction",a=t[1]?"rtl":"ltr")},m(t,a){x&&x.m(t,a),u(t,e,a),u(t,n,a),w&&w.m(n,null),c(n,r),k&&k.m(n,null),c(n,i),M&&M.m(n,null),c(n,o),_&&_.m(n,null),s=!0},p(t,c){513&c[0]&&(l=!0===t[9]&&t[0].has("tick-labels")),l?x?(x.p(t,c),513&c[0]&&Y(x,1)):(x=La(t),x.c(),Y(x,1),x.m(e.parentNode,e)):x&&(B(),W(x,1,1,()=>{x=null}),H()),1&c[0]&&(h=t[0].has("tick-labels")),h?w?(w.p(t,c),1&c[0]&&Y(w,1)):(w=Da(t),w.c(),Y(w,1),w.m(n,r)):w&&(B(),W(w,1,1,()=>{w=null}),H()),1&c[0]&&(d=t[0].has("tick-lines")),d?k?(k.p(t,c),1&c[0]&&Y(k,1)):(k=Ra(t),k.c(),Y(k,1),k.m(n,i)):k&&(B(),W(k,1,1,()=>{k=null}),H()),1&c[0]&&(v=t[0].has("grid-lines")),v?M?(M.p(t,c),1&c[0]&&Y(M,1)):(M=Ia(t),M.c(),Y(M,1),M.m(n,o)):M&&(B(),W(M,1,1,()=>{M=null}),H()),1&c[0]&&(b=t[0].has("base-lines")),b?_?(_.p(t,c),1&c[0]&&Y(_,1)):(_=Pa(t),_.c(),Y(_,1),_.m(n,null)):_&&(B(),W(_,1,1,()=>{_=null}),H()),(!s||2&c[0]&&a!==(a=t[1]?"rtl":"ltr"))&&y(n,"direction",a)},i(t){s||(Y(x),Y(w),Y(k),Y(M),Y(_),s=!0)},o(t){W(x),W(w),W(k),W(M),W(_),s=!1},d(t){t&&(f(e),f(n)),x&&x.d(t),w&&w.d(),k&&k.d(),M&&M.d(),_&&_.d()}}}function ja(t,e,n){let r,i,o,a,s,l,c,u,f,h,{elements:p}=e,{scale:d}=e,{scaleType:g}=e,{plotSize:m}=e,{emotion:y}=e,{numeral:v}=e,{chroma:b}=e;const x=new Promise(t=>{n(33,h=t)}),w=E();let k,M,_,{themeData:T={}}=e,{translate:$=(t=>t)}=e,{rtl:O=!1}=e,{ticks:N={major:{values:[]},minor:{values:[]}}}=e,{tickLabelFormat:S="auto"}=e,{tickLabelMultiply:L=1}=e,{tickLabelUnit:C=["",""]}=e,{secondary:R=!1}=e,{className:I=""}=e,{margin:P={top:0,left:0,right:0,bottom:0,labelWidth:0}}=e,{tickLines:z=p.has("tick-lines")}=e,{customFormatFunction:j}=e,{minusChar:F}=e,{plusMinusChar:U}=e,{tickPosition:B="bottom"}=e,{baseLine:H=new Set(["zero"])}=e,{fitLabels:Y=new Set}=e,W=!0,q=!1,G=!1,V=new Set;const{css:X}=y;let K={ticksMajor:[],ticksMinor:[]};function Z(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{left:0,right:0,bottom:0,top:0,labelWidth:0},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;const r=tt(e.tickLines,"distance"),i=tt(e.tickLines,"length"),o=tt(e.tickLines,"strokeLinecap"),a=tt(e,"tickLines.width",0),s=tt(e,"gridLines.major.width",0),l=Math.max(p.has("tick-lines")?a:0,p.has("grid-lines")?s:0),c={left:.5*l,right:.5*l,[B]:r+i+("square"===o||"round"===o?.5*l:0)},u=tt(e,"baseLine.width"),f={left:n.has("left")?u:0,right:n.has("right")?u:0},h=Object.assign({},t);for(const e of["top","right","bottom","left"]){const n=e;h[n]=Math.max(t[n]||0,c[n]||0,f[n]||0)}return h}const J="getBBox"in document.createElementNS("http://www.w3.org/2000/svg","svg")==0;return A(async()=>{if(!p.has("tick-labels")){const t=Z(void 0,l,H);h(t),w("marginUpdate",{margin:t})}}),t.$$set=t=>{"elements"in t&&n(0,p=t.elements),"scale"in t&&n(13,d=t.scale),"scaleType"in t&&n(14,g=t.scaleType),"plotSize"in t&&n(15,m=t.plotSize),"emotion"in t&&n(16,y=t.emotion),"numeral"in t&&n(17,v=t.numeral),"chroma"in t&&n(18,b=t.chroma),"themeData"in t&&n(20,T=t.themeData),"translate"in t&&n(21,$=t.translate),"rtl"in t&&n(1,O=t.rtl),"ticks"in t&&n(22,N=t.ticks),"tickLabelFormat"in t&&n(23,S=t.tickLabelFormat),"tickLabelMultiply"in t&&n(24,L=t.tickLabelMultiply),"tickLabelUnit"in t&&n(25,C=t.tickLabelUnit),"secondary"in t&&n(26,R=t.secondary),"className"in t&&n(2,I=t.className),"margin"in t&&n(27,P=t.margin),"tickLines"in t&&n(28,z=t.tickLines),"customFormatFunction"in t&&n(29,j=t.customFormatFunction),"minusChar"in t&&n(30,F=t.minusChar),"plusMinusChar"in t&&n(31,U=t.plusMinusChar),"tickPosition"in t&&n(3,B=t.tickPosition),"baseLine"in t&&n(4,H=t.baseLine),"fitLabels"in t&&n(32,Y=t.fitLabels)},t.$$.update=()=>{if(1074790400&t.$$.dirty[0]&&n(42,r=F||tt(T,"vis.base.format.minusCharacter","â")),1048576&t.$$.dirty[0]|1&t.$$.dirty[1]&&n(41,i=U||tt(T,"vis.base.format.plusMinusCharacter","Â±")),134250496&t.$$.dirty[0]&&n(43,o=m[0]-P.left-Math.max(P.right,0)),8192&t.$$.dirty[0]&&n(44,a=d.range()[1]<d.range()[0]),8224&t.$$.dirty[0]|8192&t.$$.dirty[1]&&(n(5,k=d.copy()),a)){k.range([d.range()[1],d.range()[0]]);const t=d.domain().reverse();k.domain(t)}if(32768&t.$$.dirty[0]|4096&t.$$.dirty[1]&&n(8,s=[o,m[1]]),66117643&t.$$.dirty[0]|66&t.$$.dirty[1]&&n(9,W=!0),595607584&t.$$.dirty[0]|3072&t.$$.dirty[1]&&n(38,_={scale:k,scaleType:g,tickLabelFormat:S,tickLabelUnit:C,tickLabelMultiply:L,minusChar:r,plusMinusChar:i,customFormatFunction:j}),68419584&t.$$.dirty[0]&&n(7,l=_n("horizontal",T,R,b)),600981666&t.$$.dirty[0]|3072&t.$$.dirty[1]&&n(6,K=zo(v,{scale:k,scaleType:g,customFormatFunction:j,tickLabelFormat:S,tickLabelUnit:C,tickLabelMultiply:L,minusChar:r,plusMinusChar:i},l,T,!0,N,O)),131264&t.$$.dirty[0]|128&t.$$.dirty[1]){const t=Bo(v,_,K.ticksMajor,l);n(34,M=t.tickFormat),n(35,q=t.multiFormat),n(36,G=t.keepOrder)}if(1048704&t.$$.dirty[0]&&n(40,c=tt(l,"tickLabels.fontSize",Ke(T,"fontSize",12))),2228416&t.$$.dirty[0]|128&t.$$.dirty[1]&&n(39,u=Xo(v,"x",_,l,$,K.ticksMajor)),268452334&t.$$.dirty[0]|890&t.$$.dirty[1]&&n(10,f={themeOptions:l,tickPosition:B,plotSize:s,scale:k,rtl:O,className:I,tickLines:z,ticksMajor:K.ticksMajor,fitLabels:Y,scaleType:g,css:X,tickFormat:M,multiFormat:q,keepOrder:G,fontSize:c,ariaDescription:u,fitLabelsActual:V}),145&t.$$.dirty[0]|4&t.$$.dirty[1]&&J&&!p.has("tick-labels")){const t=Z(void 0,l,H);h(t),w("marginUpdate",{margin:t})}},[p,O,I,B,H,k,K,l,s,W,f,X,async function(t){const e={top:0,left:0,bottom:0,right:0,labelWidth:0},r=(z?tt(l,"tickLines.distance")+tt(l,"tickLines.length"):0)+tt(l,"tickLabels.distance"),i=tt(l,"tickLabels.extraSpace",1);e[B]=t.height+r+i;const o=Math.max(-1*t.left,0),a=t.width+(o>0?0:t.left)-s[0]-o,c=Y.has("first")&&!O||Y.has("last")&&O,u=Y.has("last")&&!O||Y.has("first")&&O;e.left=c?0:o,e.right=u?0:a;const f=O?a>0:o>0,p=O?o>0:a>0;n(37,V=new Set),Y.has("first")&&f&&V.add("first"),Y.has("last")&&p&&V.add("last"),m[0]>0&&m[1]>0&&e.left<m[0]&&e.right<m[0]&&e.top<m[1]&&e.bottom<m[1]&&(h(e),w("marginUpdate",{margin:e})),await D(),await D(),n(9,W=!1)},d,g,m,y,v,b,x,T,$,N,S,L,C,R,P,z,j,F,U,Y,h,M,q,G,V,_,u,c,i,r,o,a]}class Fa extends Q{constructor(t){super(),J(this,t,ja,za,s,{elements:0,scale:13,scaleType:14,plotSize:15,emotion:16,numeral:17,chroma:18,rendered:19,themeData:20,translate:21,rtl:1,ticks:22,tickLabelFormat:23,tickLabelMultiply:24,tickLabelUnit:25,secondary:26,className:2,margin:27,tickLines:28,customFormatFunction:29,minusChar:30,plusMinusChar:31,tickPosition:3,baseLine:4,fitLabels:32},null,[-1,-1])}get rendered(){return this.$$.ctx[19]}}function Ua(t,e,n){const r=t.slice();return r[14]=e[n],r}function Ba(t){let e,n,r,i;return{c(){e=p("line"),y(e,"class",n="y-tick-line ".concat(t[5])),y(e,"x2",r=t[2]*t[3]),y(e,"transform",i="translate(".concat(t[6](t[14]).join(","),")")),w(e,"is-zero",0===t[14])},m(t,n){u(t,e,n)},p(t,o){32&o&&n!==(n="y-tick-line ".concat(t[5]))&&y(e,"class",n),12&o&&r!==(r=t[2]*t[3])&&y(e,"x2",r),2&o&&i!==(i="translate(".concat(t[6](t[14]).join(","),")"))&&y(e,"transform",i),34&o&&w(e,"is-zero",0===t[14])},d(t){t&&f(e)}}}function Ha(t){let n,r,i,o=q(t[1]),a=[];for(let e=0;e<o.length;e+=1)a[e]=Ba(Ua(t,o,e));return{c(){n=p("g");for(let t=0;t<a.length;t+=1)a[t].c();y(n,"class",r="y-tick-lines ".concat(t[0]," ").concat(t[5])),y(n,"transform",i="translate(".concat(t[4].join(","),")"))},m(t,e){u(t,n,e);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(n,null)},p(t,e){let[s]=e;if(110&s){let e;for(o=q(t[1]),e=0;e<o.length;e+=1){const r=Ua(t,o,e);a[e]?a[e].p(r,s):(a[e]=Ba(r),a[e].c(),a[e].m(n,null))}for(;e<a.length;e+=1)a[e].d(1);a.length=o.length}33&s&&r!==(r="y-tick-lines ".concat(t[0]," ").concat(t[5]))&&y(n,"class",r),16&s&&i!==(i="translate(".concat(t[4].join(","),")"))&&y(n,"transform",i)},i:e,o:e,d(t){t&&f(n),h(a,t)}}}function Ya(t,e,n){let r,i,o,a,s,{themeDataTickLines:l}=e,{tickPosition:c}=e,{plotSize:u}=e,{scale:f}=e,{className:h=""}=e,{ticksMajor:p}=e,{css:d}=e,{tickLabelsInside:g}=e;return t.$$set=t=>{"themeDataTickLines"in t&&n(7,l=t.themeDataTickLines),"tickPosition"in t&&n(8,c=t.tickPosition),"plotSize"in t&&n(9,u=t.plotSize),"scale"in t&&n(10,f=t.scale),"className"in t&&n(0,h=t.className),"ticksMajor"in t&&n(1,p=t.ticksMajor),"css"in t&&n(11,d=t.css),"tickLabelsInside"in t&&n(12,g=t.tickLabelsInside)},t.$$.update=()=>{2176&t.$$.dirty&&n(5,r=Zo(l,d)),256&t.$$.dirty&&n(3,i="right"===c?1:-1),4224&t.$$.dirty&&n(2,o=tt(l,"length"+(g?"Inside":""),tt(l,"length"))),4228&t.$$.dirty&&(a=g?-o:tt(l,"distance")),768&t.$$.dirty&&n(4,s="right"===c?[u[0],0]:[0,0])},[h,p,o,i,s,r,function(t){return[a*i,f(t)]},l,c,u,f,d,g]}class Wa extends Q{constructor(t){super(),J(this,t,Ya,Ha,s,{themeDataTickLines:7,tickPosition:8,plotSize:9,scale:10,className:0,ticksMajor:1,css:11,tickLabelsInside:12})}}function qa(t,e,n){const r=t.slice();return r[11]=e[n],r}function Ga(t,e,n){const r=t.slice();return r[11]=e[n],r}function Va(t){let e,n,r,i;return{c(){e=p("line"),y(e,"class",n="y-grid-line major ".concat(t[4])),y(e,"x2",r=t[0][0]),y(e,"transform",i="translate(0, ".concat(t[5](t[11]),")")),w(e,"is-zero",0===t[11])},m(t,n){u(t,e,n)},p(t,o){16&o&&n!==(n="y-grid-line major ".concat(t[4]))&&y(e,"class",n),1&o&&r!==(r=t[0][0])&&y(e,"x2",r),8&o&&i!==(i="translate(0, ".concat(t[5](t[11]),")"))&&y(e,"transform",i),24&o&&w(e,"is-zero",0===t[11])},d(t){t&&f(e)}}}function Xa(t){let e,n=q(t[2]),r=[];for(let e=0;e<n.length;e+=1)r[e]=Ka(qa(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=m()},m(t,n){for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,n);u(t,e,n)},p(t,i){if(53&i){let o;for(n=q(t[2]),o=0;o<n.length;o+=1){const a=qa(t,n,o);r[o]?r[o].p(a,i):(r[o]=Ka(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){t&&f(e),h(r,t)}}}function Ka(t){let e,n,r,i;return{c(){e=p("line"),y(e,"class",n="y-grid-line minor ".concat(t[4])),y(e,"x2",r=t[0][0]),y(e,"transform",i="translate(0, ".concat(t[5](t[11]),")"))},m(t,n){u(t,e,n)},p(t,o){16&o&&n!==(n="y-grid-line minor ".concat(t[4]))&&y(e,"class",n),1&o&&r!==(r=t[0][0])&&y(e,"x2",r),4&o&&i!==(i="translate(0, ".concat(t[5](t[11]),")"))&&y(e,"transform",i)},d(t){t&&f(e)}}}function Za(t){let n,r,i,o=q(t[3]),a=[];for(let e=0;e<o.length;e+=1)a[e]=Va(Ga(t,o,e));let s=t[2]&&Xa(t);return{c(){n=p("g");for(let t=0;t<a.length;t+=1)a[t].c();r=m(),s&&s.c(),y(n,"class",i="y-grid-lines ".concat(t[1]," ").concat(t[4]))},m(t,e){u(t,n,e);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(n,null);c(n,r),s&&s.m(n,null)},p(t,e){let[l]=e;if(57&l){let e;for(o=q(t[3]),e=0;e<o.length;e+=1){const i=Ga(t,o,e);a[e]?a[e].p(i,l):(a[e]=Va(i),a[e].c(),a[e].m(n,r))}for(;e<a.length;e+=1)a[e].d(1);a.length=o.length}t[2]?s?s.p(t,l):(s=Xa(t),s.c(),s.m(n,null)):s&&(s.d(1),s=null),18&l&&i!==(i="y-grid-lines ".concat(t[1]," ").concat(t[4]))&&y(n,"class",i)},i:e,o:e,d(t){t&&f(n),h(a,t),s&&s.d()}}}function Ja(t,e,n){let r,i,{themeOptionsGridLines:o}=e,{plotSize:a}=e,{scale:s}=e,{className:l=""}=e,{ticksMajor:c}=e,{ticksMinor:u}=e,{baseLine:f}=e,{css:h}=e;return t.$$set=t=>{"themeOptionsGridLines"in t&&n(6,o=t.themeOptionsGridLines),"plotSize"in t&&n(0,a=t.plotSize),"scale"in t&&n(7,s=t.scale),"className"in t&&n(1,l=t.className),"ticksMajor"in t&&n(8,c=t.ticksMajor),"ticksMinor"in t&&n(2,u=t.ticksMinor),"baseLine"in t&&n(9,f=t.baseLine),"css"in t&&n(10,h=t.css)},t.$$.update=()=>{1088&t.$$.dirty&&n(4,r=Ko(o,h)),768&t.$$.dirty&&n(3,i=c.filter(t=>!f.has("zero")||0!==t))},[a,l,u,i,r,function(t){return s(t)},o,s,c,f,h]}class Qa extends Q{constructor(t){super(),J(this,t,Ja,Za,s,{themeOptionsGridLines:6,plotSize:0,scale:7,className:1,ticksMajor:8,ticksMinor:2,baseLine:9,css:10})}}function ts(t,e,n){const r=t.slice();return r[11]=e[n],r}function es(t){let e,n,r,i,o;return{c(){e=p("g"),n=p("line"),y(n,"x1",r=t[0][0]),y(n,"transform",i="translate(0, ".concat(t[4](t[11]),")")),y(e,"class",o="y-base-lines ".concat(t[1]," ").concat(t[3]))},m(t,r){u(t,e,r),c(e,n)},p(t,a){1&a&&r!==(r=t[0][0])&&y(n,"x1",r),4&a&&i!==(i="translate(0, ".concat(t[4](t[11]),")"))&&y(n,"transform",i),10&a&&o!==(o="y-base-lines ".concat(t[1]," ").concat(t[3]))&&y(e,"class",o)},d(t){t&&f(e)}}}function ns(t){let n,r=q(t[2]),i=[];for(let e=0;e<r.length;e+=1)i[e]=es(ts(t,r,e));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();n=m()},m(t,e){for(let n=0;n<i.length;n+=1)i[n]&&i[n].m(t,e);u(t,n,e)},p(t,e){let[o]=e;if(31&o){let e;for(r=q(t[2]),e=0;e<r.length;e+=1){const a=ts(t,r,e);i[e]?i[e].p(a,o):(i[e]=es(a),i[e].c(),i[e].m(n.parentNode,n))}for(;e<i.length;e+=1)i[e].d(1);i.length=r.length}},i:e,o:e,d(t){t&&f(n),h(i,t)}}}function rs(t,e,n){let r,i,{themeOptionsBaseLine:o}=e,{plotSize:a}=e,{scale:s}=e,{className:l=""}=e,{ticksMajor:c}=e,{baseLine:u}=e,{css:f}=e,{enforceZeroBaseline:h=!1}=e;return t.$$set=t=>{"themeOptionsBaseLine"in t&&n(5,o=t.themeOptionsBaseLine),"plotSize"in t&&n(0,a=t.plotSize),"scale"in t&&n(6,s=t.scale),"className"in t&&n(1,l=t.className),"ticksMajor"in t&&n(7,c=t.ticksMajor),"baseLine"in t&&n(8,u=t.baseLine),"css"in t&&n(9,f=t.css),"enforceZeroBaseline"in t&&n(10,h=t.enforceZeroBaseline)},t.$$.update=()=>{544&t.$$.dirty&&n(3,r=Jo(o,f)),1408&t.$$.dirty&&n(2,i=Array.from(u).filter(t=>"zero"!==t||c.includes(0)||h))},[a,l,i,r,function(t){return"zero"===t?s(0):"top"===t?0:a[1]},o,s,c,u,f,h]}class is extends Q{constructor(t){super(),J(this,t,rs,ns,s,{themeOptionsBaseLine:5,plotSize:0,scale:6,className:1,ticksMajor:7,baseLine:8,css:9,enforceZeroBaseline:10})}}function os(t,e,n){const r=t.slice();return r[26]=e[n],r[27]=e,r[28]=n,r}function as(t,e,n){const r=t.slice();return r[29]=e[n],r[31]=n,r}function ss(t,e,n){const r=t.slice();return r[29]=e[n],r[31]=n,r}function ls(t){let e,n,r,i,o,a=q(t[26].ticks),s=[];for(let e=0;e<a.length;e+=1)s[e]=cs(ss(t,a,e));return{c(){e=p("text");for(let t=0;t<s.length;t+=1)s[t].c();y(e,"class",n="y-tick-label buffer ".concat(t[0])),y(e,"transform",r="translate(".concat(t[26].translate.join(","),")")),y(e,"aria-hidden","true"),y(e,"x",i=t[26].x),y(e,"y",o=t[26].y),w(e,"dw-bold",t[10]),w(e,"dw-italic",t[9]),w(e,"is-zero",t[26].isZero),w(e,"first",t[26].isFirst),w(e,"last",t[26].isLast),w(e,"inside",t[5])},m(t,n){u(t,e,n);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(e,null)},p(t,l){if(297&l[0]){let n;for(a=q(t[26].ticks),n=0;n<a.length;n+=1){const r=ss(t,a,n);s[n]?s[n].p(r,l):(s[n]=cs(r),s[n].c(),s[n].m(e,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=a.length}1&l[0]&&n!==(n="y-tick-label buffer ".concat(t[0]))&&y(e,"class",n),256&l[0]&&r!==(r="translate(".concat(t[26].translate.join(","),")"))&&y(e,"transform",r),256&l[0]&&i!==(i=t[26].x)&&y(e,"x",i),256&l[0]&&o!==(o=t[26].y)&&y(e,"y",o),1025&l[0]&&w(e,"dw-bold",t[10]),513&l[0]&&w(e,"dw-italic",t[9]),257&l[0]&&w(e,"is-zero",t[26].isZero),257&l[0]&&w(e,"first",t[26].isFirst),257&l[0]&&w(e,"last",t[26].isLast),33&l[0]&&w(e,"inside",t[5])},d(t){t&&f(e),h(s,t)}}}function cs(t){let e,n,r,i,o=t[29]+"";return{c(){e=p("tspan"),n=d(o),y(e,"x",r="left"===t[0]&&t[5]?0:-1),y(e,"dy",i=t[31]>0?t[3]+3:0)},m(t,r){u(t,e,r),c(e,n)},p(t,a){256&a[0]&&o!==(o=t[29]+"")&&b(n,o),33&a[0]&&r!==(r="left"===t[0]&&t[5]?0:-1)&&y(e,"x",r),8&a[0]&&i!==(i=t[31]>0?t[3]+3:0)&&y(e,"dy",i)},d(t){t&&f(e)}}}function us(t){let e,n,r,i,o=t[29]+"";return{c(){e=p("tspan"),n=d(o),y(e,"x",r="left"===t[0]&&t[5]?0:-1),y(e,"dy",i=t[31]>0?t[3]+3:0)},m(t,r){u(t,e,r),c(e,n)},p(t,a){256&a[0]&&o!==(o=t[29]+"")&&b(n,o),33&a[0]&&r!==(r="left"===t[0]&&t[5]?0:-1)&&y(e,"x",r),8&a[0]&&i!==(i=t[31]>0?t[3]+3:0)&&y(e,"dy",i)},d(t){t&&f(e)}}}function fs(t){let e,n,r,i,o,a=t[28],s=t[6]&&ls(t),l=q(t[26].ticks),c=[];for(let e=0;e<l.length;e+=1)c[e]=us(as(t,l,e));const d=()=>t[24](e,a),g=()=>t[24](null,a);return{c(){s&&s.c(),e=p("text");for(let t=0;t<c.length;t+=1)c[t].c();y(e,"class",n="y-tick-label ".concat(t[0])),y(e,"transform",r="translate(".concat(t[26].translate.join(","),")")),y(e,"aria-hidden","true"),y(e,"x",i=t[26].x),y(e,"y",o=t[26].y),w(e,"dw-bold",t[10]),w(e,"dw-italic",t[9]),w(e,"is-zero",t[26].isZero),w(e,"first",t[26].isFirst),w(e,"last",t[26].isLast),w(e,"inside",t[5])},m(t,n){s&&s.m(t,n),u(t,e,n);for(let t=0;t<c.length;t+=1)c[t]&&c[t].m(e,null);d()},p(u,f){if((t=u)[6]?s?s.p(t,f):(s=ls(t),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),297&f[0]){let n;for(l=q(t[26].ticks),n=0;n<l.length;n+=1){const r=as(t,l,n);c[n]?c[n].p(r,f):(c[n]=us(r),c[n].c(),c[n].m(e,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=l.length}1&f[0]&&n!==(n="y-tick-label ".concat(t[0]))&&y(e,"class",n),256&f[0]&&r!==(r="translate(".concat(t[26].translate.join(","),")"))&&y(e,"transform",r),256&f[0]&&i!==(i=t[26].x)&&y(e,"x",i),256&f[0]&&o!==(o=t[26].y)&&y(e,"y",o),a!==t[28]&&(g(),a=t[28],d()),1025&f[0]&&w(e,"dw-bold",t[10]),513&f[0]&&w(e,"dw-italic",t[9]),257&f[0]&&w(e,"is-zero",t[26].isZero),257&f[0]&&w(e,"first",t[26].isFirst),257&f[0]&&w(e,"last",t[26].isLast),33&f[0]&&w(e,"inside",t[5])},d(t){t&&f(e),s&&s.d(t),h(c,t),g()}}}function hs(t){let r,i,o,a=q(t[8]),s=[];for(let e=0;e<a.length;e+=1)s[e]=fs(os(t,a,e));let l=[{class:i="y-tick-labels ".concat(t[2],"-axis ").concat(t[1]," ").concat(t[12])},{transform:o="translate(".concat(t[11].join(","),")")},t[4]],c={};for(let t=0;t<l.length;t+=1)c=n(c,l[t]);return{c(){r=p("g");for(let t=0;t<s.length;t+=1)s[t].c();v(r,c),w(r,"buffer",t[6])},m(t,e){u(t,r,e);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(r,null)},p(t,e){if(2025&e[0]){let n;for(a=q(t[8]),n=0;n<a.length;n+=1){const i=os(t,a,n);s[n]?s[n].p(i,e):(s[n]=fs(i),s[n].c(),s[n].m(r,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=a.length}v(r,c=G(l,[4102&e[0]&&i!==(i="y-tick-labels ".concat(t[2],"-axis ").concat(t[1]," ").concat(t[12]))&&{class:i},2048&e[0]&&o!==(o="translate(".concat(t[11].join(","),")"))&&{transform:o},16&e[0]&&t[4]])),w(r,"buffer",t[6])},i:e,o:e,d(t){t&&f(r),h(s,t)}}}function ps(t,e,n){let r,i,o,a,s,{themeOptions:l}=e,{tickPosition:c}=e,{plotSize:u}=e,{scale:f}=e,{className:h=""}=e,{rtl:p=!1}=e,{ticksMajor:d}=e,{tickLines:g}=e,{scaleType:m}=e,{tickFormat:y}=e,{multiFormat:v}=e,{keepOrder:b}=e,{fontSize:x}=e,{ariaDescription:w}=e,{tickLabelsInside:k}=e,{bufferStroke:M=!1}=e,{css:_}=e;const A=[];let E;return t.$$set=t=>{"themeOptions"in t&&n(13,l=t.themeOptions),"tickPosition"in t&&n(0,c=t.tickPosition),"plotSize"in t&&n(14,u=t.plotSize),"scale"in t&&n(15,f=t.scale),"className"in t&&n(1,h=t.className),"rtl"in t&&n(16,p=t.rtl),"ticksMajor"in t&&n(17,d=t.ticksMajor),"tickLines"in t&&n(18,g=t.tickLines),"scaleType"in t&&n(2,m=t.scaleType),"tickFormat"in t&&n(19,y=t.tickFormat),"multiFormat"in t&&n(20,v=t.multiFormat),"keepOrder"in t&&n(21,b=t.keepOrder),"fontSize"in t&&n(3,x=t.fontSize),"ariaDescription"in t&&n(4,w=t.ariaDescription),"tickLabelsInside"in t&&n(5,k=t.tickLabelsInside),"bufferStroke"in t&&n(6,M=t.bufferStroke),"css"in t&&n(22,_=t.css)},t.$$.update=()=>{4268032&t.$$.dirty[0]&&n(12,r=function(t,e,n){let{tickLabels:r}=t;const{bufferColor:i}=r;return n("\n    text {}\n    ".concat(r.hideZero?"text.is-zero { display: none }":"","\n    text tspan {\n        ").concat(ta(r),"\n    }\n    text.right {\n        text-anchor: ").concat(e?"end":"start",";\n    }\n    text.right.inside {\n        text-anchor: ").concat(e?"start":"end",";\n    }\n    text.left {\n        text-anchor: ").concat(e?"start":"end",";\n    }\n    text.left.inside {\n        text-anchor: ").concat(e?"end":"start",";\n    }\n    text.buffer {\n        fill: ").concat(i,";\n        stroke: ").concat(i,";\n        stroke-width: 2;\n    }\n"))}(l,p,_)),270368&t.$$.dirty[0]&&n(23,i=k?0:(g?tt(l,"tickLines.distance")+tt(l,"tickLines.length"):0)+tt(l,"tickLabels.distance")),8404993&t.$$.dirty[0]&&n(11,o="right"===c?[u[0]+i,0]:[-i,0]),8192&t.$$.dirty[0]&&n(10,a="bold"===tt(l,"tickLabels.fontWeight")),8192&t.$$.dirty[0]&&n(9,s="italic"===tt(l,"tickLabels.fontStyle")),131072&t.$$.dirty[0]&&async function(t){const e=[...t];e.sort((t,e)=>f(e)-f(t)),n(8,E=e.map((t,e,n)=>function(t,e,n,r,i,o,a,s,l,c){const u=e===n.length-1,f=0===e,h=u?"first":f?"last":"middle",p=[t].map(t=>a?s(t,h,0===e):[s(t,h,0===e)]).flat().map(t=>gi(t));return{tick:t,x:"right"===i?(p.length-1)*(o+3)*-1:0,y:c?(p.length-1)*(o+3)*-1:(p.length-1)*(o+3)*-.5,ticks:p,isFirst:u,isLast:f,isZero:0===t,translate:[0,l(t)+Math.floor(o*(c?0:.4))-(c?5:0)]}}(t,e,n,0,c,x,v,y,f,k))),await D();const r=A.map(t=>(null==t?void 0:t.getBoundingClientRect())||{left:0,width:0});if(r.length>0&&0===r[0].left&&0===r[0].width)return;let i;const o=r.map((t,e)=>0===t.width||!(i&&i.y<t.y+t.height)&&(i=t,!0));n(8,E=E.filter((t,e)=>0===o.length||o[e]))}(d)},[c,h,m,x,w,k,M,A,E,s,a,o,r,l,u,f,p,d,g,y,v,b,_,i,function(t,e){$[t?"unshift":"push"](()=>{A[e]=t,n(7,A)})}]
/**
      	 * chroma.js - JavaScript library for color conversions
      	 *
      	 * Copyright (c) 2011-2019, Gregor Aisch
      	 * All rights reserved.
      	 *
      	 * Redistribution and use in source and binary forms, with or without
      	 * modification, are permitted provided that the following conditions are met:
      	 *
      	 * 1. Redistributions of source code must retain the above copyright notice, this
      	 * list of conditions and the following disclaimer.
      	 *
      	 * 2. Redistributions in binary form must reproduce the above copyright notice,
      	 * this list of conditions and the following disclaimer in the documentation
      	 * and/or other materials provided with the distribution.
      	 *
      	 * 3. The name Gregor Aisch may not be used to endorse or promote products
      	 * derived from this software without specific prior written permission.
      	 *
      	 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
      	 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
      	 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
      	 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
      	 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
      	 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
      	 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
      	 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
      	 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
      	 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
      	 *
      	 * -------------------------------------------------------
      	 *
      	 * chroma.js includes colors from colorbrewer2.org, which are released under
      	 * the following license:
      	 *
      	 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
      	 * and The Pennsylvania State University.
      	 *
      	 * Licensed under the Apache License, Version 2.0 (the "License");
      	 * you may not use this file except in compliance with the License.
      	 * You may obtain a copy of the License at
      	 * http://www.apache.org/licenses/LICENSE-2.0
      	 *
      	 * Unless required by applicable law or agreed to in writing,
      	 * software distributed under the License is distributed on an
      	 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
      	 * either express or implied. See the License for the specific
      	 * language governing permissions and limitations under the License.
      	 *
      	 * ------------------------------------------------------
      	 *
      	 * Named colors are taken from X11 Color Names.
      	 * http://www.w3.org/TR/css3-color/#svg-color
      	 *
      	 * @preserve
      	 */}!function(){for(var t=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=1),t<e?e:t>n?n:t},e=t,n={},r=0,i=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];r<i.length;r+=1){var o=i[r];n["[object "+o+"]"]=o.toLowerCase()}var a=function(t){return n[Object.prototype.toString.call(t)]||"object"},s=a,l=a,c=Math.PI,u={clip_rgb:function(t){t._clipped=!1,t._unclipped=t.slice(0);for(var n=0;n<=3;n++)n<3?((t[n]<0||t[n]>255)&&(t._clipped=!0),t[n]=e(t[n],0,255)):3===n&&(t[n]=e(t[n],0,1));return t},limit:t,type:a,unpack:function(t,e){return void 0===e&&(e=null),t.length>=3?Array.prototype.slice.call(t):"object"==s(t[0])&&e?e.split("").filter((function(e){return void 0!==t[0][e]})).map((function(e){return t[0][e]})):t[0]},last:function(t){if(t.length<2)return null;var e=t.length-1;return"string"==l(t[e])?t[e].toLowerCase():null},PI:c,TWOPI:2*c,PITHIRD:c/3,DEG2RAD:c/180,RAD2DEG:180/c},f={format:{},autodetect:[]},h=u.last,p=u.clip_rgb,d=u.type,g=f,m=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=this;if("object"===d(t[0])&&t[0].constructor&&t[0].constructor===this.constructor)return t[0];var r=h(t),i=!1;if(!r){i=!0,g.sorted||(g.autodetect=g.autodetect.sort((function(t,e){return e.p-t.p})),g.sorted=!0);for(var o=0,a=g.autodetect;o<a.length;o+=1){var s=a[o];if(r=s.test.apply(s,t))break}}if(!g.format[r])throw new Error("unknown format: "+t);var l=g.format[r].apply(null,i?t:t.slice(0,-1));n._rgb=p(l),3===n._rgb.length&&n._rgb.push(1)};m.prototype.toString=function(){return"function"==d(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var y=m,v=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(v.Color,[null].concat(t)))};v.Color=y,v.version="2.4.2";var b=v,x=u.unpack,w=Math.max,k=u.unpack,M=b,_=y,A=f,E=u.unpack,T=u.type;_.prototype.cmyk=function(){return function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=x(t,"rgb"),r=n[0],i=n[1],o=n[2],a=1-w(r/=255,w(i/=255,o/=255)),s=a<1?1/(1-a):0;return[(1-r-a)*s,(1-i-a)*s,(1-o-a)*s,a]}(this._rgb)},M.cmyk=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(_,[null].concat(t,["cmyk"])))},A.format.cmyk=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=k(t,"cmyk"))[0],r=t[1],i=t[2],o=t[3],a=t.length>4?t[4]:1;return 1===o?[0,0,0,a]:[n>=1?0:255*(1-n)*(1-o),r>=1?0:255*(1-r)*(1-o),i>=1?0:255*(1-i)*(1-o),a]},A.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=E(t,"cmyk"),"array"===T(t)&&4===t.length)return"cmyk"}});var $=u.unpack,O=u.last,N=function(t){return Math.round(100*t)/100},S=u.unpack,L=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=S(t,"rgba"))[0],r=t[1],i=t[2];n/=255,r/=255,i/=255;var o,a,s=Math.min(n,r,i),l=Math.max(n,r,i),c=(l+s)/2;return l===s?(o=0,a=Number.NaN):o=c<.5?(l-s)/(l+s):(l-s)/(2-l-s),n==l?a=(r-i)/(l-s):r==l?a=2+(i-n)/(l-s):i==l&&(a=4+(n-r)/(l-s)),(a*=60)<0&&(a+=360),t.length>3&&void 0!==t[3]?[a,o,c,t[3]]:[a,o,c]},C=u.unpack,D=u.last,R=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=$(t,"hsla"),r=O(t)||"lsa";return n[0]=N(n[0]||0),n[1]=N(100*n[1])+"%",n[2]=N(100*n[2])+"%","hsla"===r||n.length>3&&n[3]<1?(n[3]=n.length>3?n[3]:1,r="hsla"):n.length=3,r+"("+n.join(",")+")"},I=L,P=Math.round,z=u.unpack,j=Math.round,F=function(){for(var t,e=[],n=arguments.length;n--;)e[n]=arguments[n];var r,i,o,a=(e=z(e,"hsl"))[0],s=e[1],l=e[2];if(0===s)r=i=o=255*l;else{var c=[0,0,0],u=[0,0,0],f=l<.5?l*(1+s):l+s-l*s,h=2*l-f,p=a/360;c[0]=p+1/3,c[1]=p,c[2]=p-1/3;for(var d=0;d<3;d++)c[d]<0&&(c[d]+=1),c[d]>1&&(c[d]-=1),6*c[d]<1?u[d]=h+6*(f-h)*c[d]:2*c[d]<1?u[d]=f:3*c[d]<2?u[d]=h+(f-h)*(2/3-c[d])*6:u[d]=h;r=(t=[j(255*u[0]),j(255*u[1]),j(255*u[2])])[0],i=t[1],o=t[2]}return e.length>3?[r,i,o,e[3]]:[r,i,o,1]},U=F,B=f,H=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,Y=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,W=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,q=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,G=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,V=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,X=Math.round,K=function(t){var e;if(t=t.toLowerCase().trim(),B.format.named)try{return B.format.named(t)}catch(t){}if(e=t.match(H)){for(var n=e.slice(1,4),r=0;r<3;r++)n[r]=+n[r];return n[3]=1,n}if(e=t.match(Y)){for(var i=e.slice(1,5),o=0;o<4;o++)i[o]=+i[o];return i}if(e=t.match(W)){for(var a=e.slice(1,4),s=0;s<3;s++)a[s]=X(2.55*a[s]);return a[3]=1,a}if(e=t.match(q)){for(var l=e.slice(1,5),c=0;c<3;c++)l[c]=X(2.55*l[c]);return l[3]=+l[3],l}if(e=t.match(G)){var u=e.slice(1,4);u[1]*=.01,u[2]*=.01;var f=U(u);return f[3]=1,f}if(e=t.match(V)){var h=e.slice(1,4);h[1]*=.01,h[2]*=.01;var p=U(h);return p[3]=+e[4],p}};K.test=function(t){return H.test(t)||Y.test(t)||W.test(t)||q.test(t)||G.test(t)||V.test(t)};var Z=b,J=y,Q=f,tt=u.type,et=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=C(t,"rgba"),r=D(t)||"rgb";return"hsl"==r.substr(0,3)?R(I(n),r):(n[0]=P(n[0]),n[1]=P(n[1]),n[2]=P(n[2]),("rgba"===r||n.length>3&&n[3]<1)&&(n[3]=n.length>3?n[3]:1,r="rgba"),r+"("+n.slice(0,"rgb"===r?3:4).join(",")+")")},nt=K;J.prototype.css=function(t){return et(this._rgb,t)},Z.css=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(J,[null].concat(t,["css"])))},Q.format.css=nt,Q.autodetect.push({p:5,test:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&"string"===tt(t)&&nt.test(t))return"css"}});var rt=y,it=b,ot=u.unpack;f.format.gl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=ot(t,"rgba");return n[0]*=255,n[1]*=255,n[2]*=255,n},it.gl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(rt,[null].concat(t,["gl"])))},rt.prototype.gl=function(){var t=this._rgb;return[t[0]/255,t[1]/255,t[2]/255,t[3]]};var at=u.unpack,st=u.unpack,lt=Math.floor,ct=u.unpack,ut=u.type,ft=b,ht=y,pt=f,dt=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r=at(t,"rgb"),i=r[0],o=r[1],a=r[2],s=Math.min(i,o,a),l=Math.max(i,o,a),c=l-s,u=100*c/255,f=s/(255-c)*100;return 0===c?n=Number.NaN:(i===l&&(n=(o-a)/c),o===l&&(n=2+(a-i)/c),a===l&&(n=4+(i-o)/c),(n*=60)<0&&(n+=360)),[n,u,f]};ht.prototype.hcg=function(){return dt(this._rgb)},ft.hcg=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(ht,[null].concat(t,["hcg"])))},pt.format.hcg=function(){for(var t,e,n,r,i,o,a=[],s=arguments.length;s--;)a[s]=arguments[s];var l,c,u,f=(a=st(a,"hcg"))[0],h=a[1],p=a[2];p*=255;var d=255*h;if(0===h)l=c=u=p;else{360===f&&(f=0),f>360&&(f-=360),f<0&&(f+=360);var g=lt(f/=60),m=f-g,y=p*(1-h),v=y+d*(1-m),b=y+d*m,x=y+d;switch(g){case 0:l=(t=[x,b,y])[0],c=t[1],u=t[2];break;case 1:l=(e=[v,x,y])[0],c=e[1],u=e[2];break;case 2:l=(n=[y,x,b])[0],c=n[1],u=n[2];break;case 3:l=(r=[y,v,x])[0],c=r[1],u=r[2];break;case 4:l=(i=[b,y,x])[0],c=i[1],u=i[2];break;case 5:l=(o=[x,y,v])[0],c=o[1],u=o[2]}}return[l,c,u,a.length>3?a[3]:1]},pt.autodetect.push({p:1,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=ct(t,"hcg"),"array"===ut(t)&&3===t.length)return"hcg"}});var gt=u.unpack,mt=u.last,yt=Math.round,vt=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=gt(t,"rgba"),r=n[0],i=n[1],o=n[2],a=n[3],s=mt(t)||"auto";void 0===a&&(a=1),"auto"===s&&(s=a<1?"rgba":"rgb");var l="000000"+((r=yt(r))<<16|(i=yt(i))<<8|(o=yt(o))).toString(16);l=l.substr(l.length-6);var c="0"+yt(255*a).toString(16);switch(c=c.substr(c.length-2),s.toLowerCase()){case"rgba":return"#"+l+c;case"argb":return"#"+c+l;default:return"#"+l}},bt=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,xt=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,wt=function(t){if(t.match(bt)){4!==t.length&&7!==t.length||(t=t.substr(1)),3===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]);var e=parseInt(t,16);return[e>>16,e>>8&255,255&e,1]}if(t.match(xt)){5!==t.length&&9!==t.length||(t=t.substr(1)),4===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);var n=parseInt(t,16);return[n>>24&255,n>>16&255,n>>8&255,Math.round((255&n)/255*100)/100]}throw new Error("unknown hex color: "+t)},kt=b,Mt=y,_t=u.type,At=f,Et=vt;Mt.prototype.hex=function(t){return Et(this._rgb,t)},kt.hex=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Mt,[null].concat(t,["hex"])))},At.format.hex=wt,At.autodetect.push({p:4,test:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&"string"===_t(t)&&[3,4,5,6,7,8,9].indexOf(t.length)>=0)return"hex"}});var Tt=u.unpack,$t=u.TWOPI,Ot=Math.min,Nt=Math.sqrt,St=Math.acos,Lt=u.unpack,Ct=u.limit,Dt=u.TWOPI,Rt=u.PITHIRD,It=Math.cos,Pt=u.unpack,zt=u.type,jt=b,Ft=y,Ut=f,Bt=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r=Tt(t,"rgb"),i=r[0],o=r[1],a=r[2],s=Ot(i/=255,o/=255,a/=255),l=(i+o+a)/3,c=l>0?1-s/l:0;return 0===c?n=NaN:(n=(i-o+(i-a))/2,n/=Nt((i-o)*(i-o)+(i-a)*(o-a)),n=St(n),a>o&&(n=$t-n),n/=$t),[360*n,c,l]};Ft.prototype.hsi=function(){return Bt(this._rgb)},jt.hsi=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Ft,[null].concat(t,["hsi"])))},Ut.format.hsi=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r,i,o=(t=Lt(t,"hsi"))[0],a=t[1],s=t[2];return isNaN(o)&&(o=0),isNaN(a)&&(a=0),o>360&&(o-=360),o<0&&(o+=360),(o/=360)<1/3?r=1-((i=(1-a)/3)+(n=(1+a*It(Dt*o)/It(Rt-Dt*o))/3)):o<2/3?i=1-((n=(1-a)/3)+(r=(1+a*It(Dt*(o-=1/3))/It(Rt-Dt*o))/3)):n=1-((r=(1-a)/3)+(i=(1+a*It(Dt*(o-=2/3))/It(Rt-Dt*o))/3)),[255*(n=Ct(s*n*3)),255*(r=Ct(s*r*3)),255*(i=Ct(s*i*3)),t.length>3?t[3]:1]},Ut.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Pt(t,"hsi"),"array"===zt(t)&&3===t.length)return"hsi"}});var Ht=u.unpack,Yt=u.type,Wt=b,qt=y,Gt=f,Vt=L;qt.prototype.hsl=function(){return Vt(this._rgb)},Wt.hsl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(qt,[null].concat(t,["hsl"])))},Gt.format.hsl=F,Gt.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Ht(t,"hsl"),"array"===Yt(t)&&3===t.length)return"hsl"}});var Xt=u.unpack,Kt=Math.min,Zt=Math.max,Jt=u.unpack,Qt=Math.floor,te=u.unpack,ee=u.type,ne=b,re=y,ie=f,oe=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r,i,o=(t=Xt(t,"rgb"))[0],a=t[1],s=t[2],l=Kt(o,a,s),c=Zt(o,a,s),u=c-l;return i=c/255,0===c?(n=Number.NaN,r=0):(r=u/c,o===c&&(n=(a-s)/u),a===c&&(n=2+(s-o)/u),s===c&&(n=4+(o-a)/u),(n*=60)<0&&(n+=360)),[n,r,i]};re.prototype.hsv=function(){return oe(this._rgb)},ne.hsv=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(re,[null].concat(t,["hsv"])))},ie.format.hsv=function(){for(var t,e,n,r,i,o,a=[],s=arguments.length;s--;)a[s]=arguments[s];var l,c,u,f=(a=Jt(a,"hsv"))[0],h=a[1],p=a[2];if(p*=255,0===h)l=c=u=p;else{360===f&&(f=0),f>360&&(f-=360),f<0&&(f+=360);var d=Qt(f/=60),g=f-d,m=p*(1-h),y=p*(1-h*g),v=p*(1-h*(1-g));switch(d){case 0:l=(t=[p,v,m])[0],c=t[1],u=t[2];break;case 1:l=(e=[y,p,m])[0],c=e[1],u=e[2];break;case 2:l=(n=[m,p,v])[0],c=n[1],u=n[2];break;case 3:l=(r=[m,y,p])[0],c=r[1],u=r[2];break;case 4:l=(i=[v,m,p])[0],c=i[1],u=i[2];break;case 5:l=(o=[p,m,y])[0],c=o[1],u=o[2]}}return[l,c,u,a.length>3?a[3]:1]},ie.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=te(t,"hsv"),"array"===ee(t)&&3===t.length)return"hsv"}});var ae={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},se=ae,le=u.unpack,ce=Math.pow,ue=function(t){return(t/=255)<=.04045?t/12.92:ce((t+.055)/1.055,2.4)},fe=function(t){return t>se.t3?ce(t,1/3):t/se.t2+se.t0},he=function(t,e,n){return t=ue(t),e=ue(e),n=ue(n),[fe((.4124564*t+.3575761*e+.1804375*n)/se.Xn),fe((.2126729*t+.7151522*e+.072175*n)/se.Yn),fe((.0193339*t+.119192*e+.9503041*n)/se.Zn)]},pe=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=le(t,"rgb"),r=n[0],i=n[1],o=n[2],a=he(r,i,o),s=a[0],l=a[1],c=116*l-16;return[c<0?0:c,500*(s-l),200*(l-a[2])]},de=ae,ge=u.unpack,me=Math.pow,ye=function(t){return 255*(t<=.00304?12.92*t:1.055*me(t,1/2.4)-.055)},ve=function(t){return t>de.t1?t*t*t:de.t2*(t-de.t0)},be=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r,i,o=(t=ge(t,"lab"))[0],a=t[1],s=t[2];return r=(o+16)/116,n=isNaN(a)?r:r+a/500,i=isNaN(s)?r:r-s/200,r=de.Yn*ve(r),n=de.Xn*ve(n),i=de.Zn*ve(i),[ye(3.2404542*n-1.5371385*r-.4985314*i),ye(-.969266*n+1.8760108*r+.041556*i),ye(.0556434*n-.2040259*r+1.0572252*i),t.length>3?t[3]:1]},xe=u.unpack,we=u.type,ke=b,Me=y,_e=f,Ae=pe;Me.prototype.lab=function(){return Ae(this._rgb)},ke.lab=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Me,[null].concat(t,["lab"])))},_e.format.lab=be,_e.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=xe(t,"lab"),"array"===we(t)&&3===t.length)return"lab"}});var Ee=u.unpack,Te=u.RAD2DEG,$e=Math.sqrt,Oe=Math.atan2,Ne=Math.round,Se=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Ee(t,"lab"),r=n[0],i=n[1],o=n[2],a=$e(i*i+o*o),s=(Oe(o,i)*Te+360)%360;return 0===Ne(1e4*a)&&(s=Number.NaN),[r,a,s]},Le=u.unpack,Ce=pe,De=Se,Re=u.unpack,Ie=u.DEG2RAD,Pe=Math.sin,ze=Math.cos,je=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Re(t,"lch"),r=n[0],i=n[1],o=n[2];return isNaN(o)&&(o=0),[r,ze(o*=Ie)*i,Pe(o)*i]},Fe=u.unpack,Ue=je,Be=be,He=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=Fe(t,"lch"))[0],r=t[1],i=t[2],o=Ue(n,r,i),a=o[0],s=o[1],l=o[2],c=Be(a,s,l);return[c[0],c[1],c[2],t.length>3?t[3]:1]},Ye=u.unpack,We=He,qe=u.unpack,Ge=u.type,Ve=b,Xe=y,Ke=f,Ze=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Le(t,"rgb"),r=n[0],i=n[1],o=n[2],a=Ce(r,i,o),s=a[0],l=a[1],c=a[2];return De(s,l,c)};Xe.prototype.lch=function(){return Ze(this._rgb)},Xe.prototype.hcl=function(){return Ze(this._rgb).reverse()},Ve.lch=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Xe,[null].concat(t,["lch"])))},Ve.hcl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Xe,[null].concat(t,["hcl"])))},Ke.format.lch=He,Ke.format.hcl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Ye(t,"hcl").reverse();return We.apply(void 0,n)},["lch","hcl"].forEach((function(t){return Ke.autodetect.push({p:2,test:function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];if(e=qe(e,t),"array"===Ge(e)&&3===e.length)return t}})}));var Je={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},Qe=f,tn=u.type,en=Je,nn=wt,rn=vt;y.prototype.name=function(){for(var t=rn(this._rgb,"rgb"),e=0,n=Object.keys(en);e<n.length;e+=1){var r=n[e];if(en[r]===t)return r.toLowerCase()}return t},Qe.format.named=function(t){if(t=t.toLowerCase(),en[t])return nn(en[t]);throw new Error("unknown color name: "+t)},Qe.autodetect.push({p:5,test:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&"string"===tn(t)&&en[t.toLowerCase()])return"named"}});var on=u.unpack,an=u.type,sn=b,ln=y,cn=f,un=u.type;ln.prototype.num=function(){return function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=on(t,"rgb");return(n[0]<<16)+(n[1]<<8)+n[2]}(this._rgb)},sn.num=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(ln,[null].concat(t,["num"])))},cn.format.num=function(t){if("number"==an(t)&&t>=0&&t<=16777215)return[t>>16,t>>8&255,255&t,1];throw new Error("unknown num color: "+t)},cn.autodetect.push({p:5,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(1===t.length&&"number"===un(t[0])&&t[0]>=0&&t[0]<=16777215)return"num"}});var fn=b,hn=y,pn=f,dn=u.unpack,gn=u.type,mn=Math.round;hn.prototype.rgb=function(t){return void 0===t&&(t=!0),!1===t?this._rgb.slice(0,3):this._rgb.slice(0,3).map(mn)},hn.prototype.rgba=function(t){return void 0===t&&(t=!0),this._rgb.slice(0,4).map((function(e,n){return n<3?!1===t?e:mn(e):e}))},fn.rgb=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(hn,[null].concat(t,["rgb"])))},pn.format.rgb=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=dn(t,"rgba");return void 0===n[3]&&(n[3]=1),n},pn.autodetect.push({p:3,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=dn(t,"rgba"),"array"===gn(t)&&(3===t.length||4===t.length&&"number"==gn(t[3])&&t[3]>=0&&t[3]<=1))return"rgb"}});var yn=Math.log,vn=function(t){var e,n,r,i=t/100;return i<66?(e=255,n=i<6?0:-155.25485562709179-.44596950469579133*(n=i-2)+104.49216199393888*yn(n),r=i<20?0:.8274096064007395*(r=i-10)-254.76935184120902+115.67994401066147*yn(r)):(e=351.97690566805693+.114206453784165*(e=i-55)-40.25366309332127*yn(e),n=325.4494125711974+.07943456536662342*(n=i-50)-28.0852963507957*yn(n),r=255),[e,n,r,1]},bn=vn,xn=u.unpack,wn=Math.round,kn=b,Mn=y,_n=f;Mn.prototype.temp=Mn.prototype.kelvin=Mn.prototype.temperature=function(){return function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];for(var n,r=xn(t,"rgb"),i=r[0],o=r[2],a=1e3,s=4e4,l=.4;s-a>l;){var c=bn(n=.5*(s+a));c[2]/c[0]>=o/i?s=n:a=n}return wn(n)}(this._rgb)},kn.temp=kn.kelvin=kn.temperature=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Mn,[null].concat(t,["temp"])))},_n.format.temp=_n.format.kelvin=_n.format.temperature=vn;var An=u.unpack,En=Math.cbrt,Tn=Math.pow,$n=Math.sign,On=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=An(t,"rgb"),r=n[0],i=n[1],o=n[2],a=[Nn(r/255),Nn(i/255),Nn(o/255)],s=a[0],l=a[1],c=a[2],u=En(.4122214708*s+.5363325363*l+.0514459929*c),f=En(.2119034982*s+.6806995451*l+.1073969566*c),h=En(.0883024619*s+.2817188376*l+.6299787005*c);return[.2104542553*u+.793617785*f-.0040720468*h,1.9779984951*u-2.428592205*f+.4505937099*h,.0259040371*u+.7827717662*f-.808675766*h]};function Nn(t){var e=Math.abs(t);return e<.04045?t/12.92:($n(t)||1)*Tn((e+.055)/1.055,2.4)}var Sn=u.unpack,Ln=Math.pow,Cn=Math.sign,Dn=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=Sn(t,"lab"))[0],r=t[1],i=t[2],o=Ln(n+.3963377774*r+.2158037573*i,3),a=Ln(n-.1055613458*r-.0638541728*i,3),s=Ln(n-.0894841775*r-1.291485548*i,3);return[255*Rn(4.0767416621*o-3.3077115913*a+.2309699292*s),255*Rn(-1.2684380046*o+2.6097574011*a-.3413193965*s),255*Rn(-.0041960863*o-.7034186147*a+1.707614701*s),t.length>3?t[3]:1]};function Rn(t){var e=Math.abs(t);return e>.0031308?(Cn(t)||1)*(1.055*Ln(e,1/2.4)-.055):12.92*t}var In=u.unpack,Pn=u.type,zn=b,jn=y,Fn=f,Un=On;jn.prototype.oklab=function(){return Un(this._rgb)},zn.oklab=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(jn,[null].concat(t,["oklab"])))},Fn.format.oklab=Dn,Fn.autodetect.push({p:3,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=In(t,"oklab"),"array"===Pn(t)&&3===t.length)return"oklab"}});var Bn=u.unpack,Hn=On,Yn=Se,Wn=u.unpack,qn=je,Gn=Dn,Vn=u.unpack,Xn=u.type,Kn=b,Zn=y,Jn=f;Zn.prototype.oklch=function(){return function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Bn(t,"rgb"),r=n[0],i=n[1],o=n[2],a=Hn(r,i,o),s=a[0],l=a[1],c=a[2];return Yn(s,l,c)}(this._rgb)},Kn.oklch=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Zn,[null].concat(t,["oklch"])))},Jn.format.oklch=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=Wn(t,"lch"))[0],r=t[1],i=t[2],o=qn(n,r,i),a=o[0],s=o[1],l=o[2],c=Gn(a,s,l);return[c[0],c[1],c[2],t.length>3?t[3]:1]},Jn.autodetect.push({p:3,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Vn(t,"oklch"),"array"===Xn(t)&&3===t.length)return"oklch"}});var Qn=y,tr=u.type;Qn.prototype.alpha=function(t,e){return void 0===e&&(e=!1),void 0!==t&&"number"===tr(t)?e?(this._rgb[3]=t,this):new Qn([this._rgb[0],this._rgb[1],this._rgb[2],t],"rgb"):this._rgb[3]},y.prototype.clipped=function(){return this._rgb._clipped||!1};var er=y,nr=ae;er.prototype.darken=function(t){void 0===t&&(t=1);var e=this.lab();return e[0]-=nr.Kn*t,new er(e,"lab").alpha(this.alpha(),!0)},er.prototype.brighten=function(t){return void 0===t&&(t=1),this.darken(-t)},er.prototype.darker=er.prototype.darken,er.prototype.brighter=er.prototype.brighten,y.prototype.get=function(t){var e=t.split("."),n=e[0],r=e[1],i=this[n]();if(r){var o=n.indexOf(r)-("ok"===n.substr(0,2)?2:0);if(o>-1)return i[o];throw new Error("unknown channel "+r+" in mode "+n)}return i};var rr=y,ir=u.type,or=Math.pow;rr.prototype.luminance=function(t){if(void 0!==t&&"number"===ir(t)){if(0===t)return new rr([0,0,0,this._rgb[3]],"rgb");if(1===t)return new rr([255,255,255,this._rgb[3]],"rgb");var e=this.luminance(),n=20,r=function(e,i){var o=e.interpolate(i,.5,"rgb"),a=o.luminance();return Math.abs(t-a)<1e-7||!n--?o:a>t?r(e,o):r(o,i)},i=(e>t?r(new rr([0,0,0]),this):r(this,new rr([255,255,255]))).rgb();return new rr(i.concat([this._rgb[3]]))}return ar.apply(void 0,this._rgb.slice(0,3))};var ar=function(t,e,n){return.2126*(t=sr(t))+.7152*(e=sr(e))+.0722*sr(n)},sr=function(t){return(t/=255)<=.03928?t/12.92:or((t+.055)/1.055,2.4)},lr={},cr=y,ur=u.type,fr=lr,hr=function(t,e,n){void 0===n&&(n=.5);for(var r=[],i=arguments.length-3;i-- >0;)r[i]=arguments[i+3];var o=r[0]||"lrgb";if(fr[o]||r.length||(o=Object.keys(fr)[0]),!fr[o])throw new Error("interpolation mode "+o+" is not defined");return"object"!==ur(t)&&(t=new cr(t)),"object"!==ur(e)&&(e=new cr(e)),fr[o](t,e,n).alpha(t.alpha()+n*(e.alpha()-t.alpha()))},pr=y,dr=hr;pr.prototype.mix=pr.prototype.interpolate=function(t,e){void 0===e&&(e=.5);for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return dr.apply(void 0,[this,t,e].concat(n))};var gr=y;gr.prototype.premultiply=function(t){void 0===t&&(t=!1);var e=this._rgb,n=e[3];return t?(this._rgb=[e[0]*n,e[1]*n,e[2]*n,n],this):new gr([e[0]*n,e[1]*n,e[2]*n,n],"rgb")};var mr=y,yr=ae;mr.prototype.saturate=function(t){void 0===t&&(t=1);var e=this.lch();return e[1]+=yr.Kn*t,e[1]<0&&(e[1]=0),new mr(e,"lch").alpha(this.alpha(),!0)},mr.prototype.desaturate=function(t){return void 0===t&&(t=1),this.saturate(-t)};var vr=y,br=u.type;vr.prototype.set=function(t,e,n){void 0===n&&(n=!1);var r=t.split("."),i=r[0],o=r[1],a=this[i]();if(o){var s=i.indexOf(o)-("ok"===i.substr(0,2)?2:0);if(s>-1){if("string"==br(e))switch(e.charAt(0)){case"+":case"-":a[s]+=+e;break;case"*":a[s]*=+e.substr(1);break;case"/":a[s]/=+e.substr(1);break;default:a[s]=+e}else{if("number"!==br(e))throw new Error("unsupported value for Color.set");a[s]=e}var l=new vr(a,i);return n?(this._rgb=l._rgb,this):l}throw new Error("unknown channel "+o+" in mode "+i)}return a};var xr=y;lr.rgb=function(t,e,n){var r=t._rgb,i=e._rgb;return new xr(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"rgb")};var wr=y,kr=Math.sqrt,Mr=Math.pow;lr.lrgb=function(t,e,n){var r=t._rgb,i=r[0],o=r[1],a=r[2],s=e._rgb,l=s[0],c=s[1],u=s[2];return new wr(kr(Mr(i,2)*(1-n)+Mr(l,2)*n),kr(Mr(o,2)*(1-n)+Mr(c,2)*n),kr(Mr(a,2)*(1-n)+Mr(u,2)*n),"rgb")};var _r=y;lr.lab=function(t,e,n){var r=t.lab(),i=e.lab();return new _r(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"lab")};var Ar=y,Er=function(t,e,n,r){var i,o,a,s,l,c,u,f,h,p,d,g,m;return"hsl"===r?(a=t.hsl(),s=e.hsl()):"hsv"===r?(a=t.hsv(),s=e.hsv()):"hcg"===r?(a=t.hcg(),s=e.hcg()):"hsi"===r?(a=t.hsi(),s=e.hsi()):"lch"===r||"hcl"===r?(r="hcl",a=t.hcl(),s=e.hcl()):"oklch"===r&&(a=t.oklch().reverse(),s=e.oklch().reverse()),"h"!==r.substr(0,1)&&"oklch"!==r||(l=(i=a)[0],u=i[1],h=i[2],c=(o=s)[0],f=o[1],p=o[2]),isNaN(l)||isNaN(c)?isNaN(l)?isNaN(c)?g=Number.NaN:(g=c,1!=h&&0!=h||"hsv"==r||(d=f)):(g=l,1!=p&&0!=p||"hsv"==r||(d=u)):g=l+n*(c>l&&c-l>180?c-(l+360):c<l&&l-c>180?c+360-l:c-l),void 0===d&&(d=u+n*(f-u)),m=h+n*(p-h),new Ar("oklch"===r?[m,d,g]:[g,d,m],r)},Tr=Er,$r=function(t,e,n){return Tr(t,e,n,"lch")};lr.lch=$r,lr.hcl=$r;var Or=y;lr.num=function(t,e,n){var r=t.num(),i=e.num();return new Or(r+n*(i-r),"num")};var Nr=Er;lr.hcg=function(t,e,n){return Nr(t,e,n,"hcg")};var Sr=Er;lr.hsi=function(t,e,n){return Sr(t,e,n,"hsi")};var Lr=Er;lr.hsl=function(t,e,n){return Lr(t,e,n,"hsl")};var Cr=Er;lr.hsv=function(t,e,n){return Cr(t,e,n,"hsv")};var Dr=y;lr.oklab=function(t,e,n){var r=t.oklab(),i=e.oklab();return new Dr(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"oklab")};var Rr=Er;lr.oklch=function(t,e,n){return Rr(t,e,n,"oklch")};var Ir=y,Pr=u.clip_rgb,zr=Math.pow,jr=Math.sqrt,Fr=Math.PI,Ur=Math.cos,Br=Math.sin,Hr=Math.atan2,Yr=b,Wr=u.type,qr=Math.pow,Gr=function(t){var e="rgb",n=Yr("#ccc"),r=0,i=[0,1],o=[],a=[0,0],s=!1,l=[],c=!1,u=0,f=1,h=!1,p={},d=!0,g=1,m=function(t){if((t=t||["#fff","#000"])&&"string"===Wr(t)&&Yr.brewer&&Yr.brewer[t.toLowerCase()]&&(t=Yr.brewer[t.toLowerCase()]),"array"===Wr(t)){1===t.length&&(t=[t[0],t[0]]),t=t.slice(0);for(var e=0;e<t.length;e++)t[e]=Yr(t[e]);o.length=0;for(var n=0;n<t.length;n++)o.push(n/(t.length-1))}return x(),l=t},y=function(t){return t},v=function(t){return t},b=function(t,r){var i,c;if(null==r&&(r=!1),isNaN(t)||null===t)return n;c=r?t:s&&s.length>2?function(t){if(null!=s){for(var e=s.length-1,n=0;n<e&&t>=s[n];)n++;return n-1}return 0}(t)/(s.length-2):f!==u?(t-u)/(f-u):1,c=v(c),r||(c=y(c)),1!==g&&(c=qr(c,g)),c=a[0]+c*(1-a[0]-a[1]),c=Math.min(1,Math.max(0,c));var h=Math.floor(1e4*c);if(d&&p[h])i=p[h];else{if("array"===Wr(l))for(var m=0;m<o.length;m++){var b=o[m];if(c<=b){i=l[m];break}if(c>=b&&m===o.length-1){i=l[m];break}if(c>b&&c<o[m+1]){c=(c-b)/(o[m+1]-b),i=Yr.interpolate(l[m],l[m+1],c,e);break}}else"function"===Wr(l)&&(i=l(c));d&&(p[h]=i)}return i},x=function(){return p={}};m(t);var w=function(t){var e=Yr(b(t));return c&&e[c]?e[c]():e};return w.classes=function(t){if(null!=t){if("array"===Wr(t))s=t,i=[t[0],t[t.length-1]];else{var e=Yr.analyze(i);s=0===t?[e.min,e.max]:Yr.limits(e,"e",t)}return w}return s},w.domain=function(t){if(!arguments.length)return i;u=t[0],f=t[t.length-1],o=[];var e=l.length;if(t.length===e&&u!==f)for(var n=0,r=Array.from(t);n<r.length;n+=1){var a=r[n];o.push((a-u)/(f-u))}else{for(var s=0;s<e;s++)o.push(s/(e-1));if(t.length>2){var c=t.map((function(e,n){return n/(t.length-1)})),h=t.map((function(t){return(t-u)/(f-u)}));h.every((function(t,e){return c[e]===t}))||(v=function(t){if(t<=0||t>=1)return t;for(var e=0;t>=h[e+1];)e++;var n=(t-h[e])/(h[e+1]-h[e]);return c[e]+n*(c[e+1]-c[e])})}}return i=[u,f],w},w.mode=function(t){return arguments.length?(e=t,x(),w):e},w.range=function(t,e){return m(t),w},w.out=function(t){return c=t,w},w.spread=function(t){return arguments.length?(r=t,w):r},w.correctLightness=function(t){return null==t&&(t=!0),h=t,x(),y=h?function(t){for(var e=b(0,!0).lab()[0],n=b(1,!0).lab()[0],r=e>n,i=b(t,!0).lab()[0],o=e+(n-e)*t,a=i-o,s=0,l=1,c=20;Math.abs(a)>.01&&c-- >0;)r&&(a*=-1),a<0?(s=t,t+=.5*(l-t)):(l=t,t+=.5*(s-t)),a=(i=b(t,!0).lab()[0])-o;return t}:function(t){return t},w},w.padding=function(t){return null!=t?("number"===Wr(t)&&(t=[t,t]),a=t,w):a},w.colors=function(e,n){arguments.length<2&&(n="hex");var r=[];if(0===arguments.length)r=l.slice(0);else if(1===e)r=[w(.5)];else if(e>1){var o=i[0],a=i[1]-o;r=Vr(0,e,!1).map((function(t){return w(o+t/(e-1)*a)}))}else{t=[];var c=[];if(s&&s.length>2)for(var u=1,f=s.length,h=1<=f;h?u<f:u>f;h?u++:u--)c.push(.5*(s[u-1]+s[u]));else c=i;r=c.map((function(t){return w(t)}))}return Yr[n]&&(r=r.map((function(t){return t[n]()}))),r},w.cache=function(t){return null!=t?(d=t,w):d},w.gamma=function(t){return null!=t?(g=t,w):g},w.nodata=function(t){return null!=t?(n=Yr(t),w):n},w};function Vr(t,e,n){for(var r=[],i=t<e,o=n?i?e+1:e-1:e,a=t;i?a<o:a>o;i?a++:a--)r.push(a);return r}var Xr=y,Kr=Gr,Zr=b,Jr=function(t,e,n){if(!Jr[n])throw new Error("unknown blend mode "+n);return Jr[n](t,e)},Qr=function(t){return function(e,n){var r=Zr(n).rgb(),i=Zr(e).rgb();return Zr.rgb(t(r,i))}},ti=function(t){return function(e,n){var r=[];return r[0]=t(e[0],n[0]),r[1]=t(e[1],n[1]),r[2]=t(e[2],n[2]),r}};Jr.normal=Qr(ti((function(t){return t}))),Jr.multiply=Qr(ti((function(t,e){return t*e/255}))),Jr.screen=Qr(ti((function(t,e){return 255*(1-(1-t/255)*(1-e/255))}))),Jr.overlay=Qr(ti((function(t,e){return e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255))}))),Jr.darken=Qr(ti((function(t,e){return t>e?e:t}))),Jr.lighten=Qr(ti((function(t,e){return t>e?t:e}))),Jr.dodge=Qr(ti((function(t,e){return 255===t||(t=e/255*255/(1-t/255))>255?255:t}))),Jr.burn=Qr(ti((function(t,e){return 255*(1-(1-e/255)/(t/255))})));for(var ei=Jr,ni=u.type,ri=u.clip_rgb,ii=u.TWOPI,oi=Math.pow,ai=Math.sin,si=Math.cos,li=b,ci=y,ui=Math.floor,fi=Math.random,hi=a,pi=Math.log,di=Math.pow,gi=Math.floor,mi=Math.abs,yi=function(t,e){void 0===e&&(e=null);var n={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===hi(t)&&(t=Object.values(t)),t.forEach((function(t){e&&"object"===hi(t)&&(t=t[e]),null==t||isNaN(t)||(n.values.push(t),n.sum+=t,t<n.min&&(n.min=t),t>n.max&&(n.max=t),n.count+=1)})),n.domain=[n.min,n.max],n.limits=function(t,e){return vi(n,t,e)},n},vi=function(t,e,n){void 0===e&&(e="equal"),void 0===n&&(n=7),"array"==hi(t)&&(t=yi(t));var r=t.min,i=t.max,o=t.values.sort((function(t,e){return t-e}));if(1===n)return[r,i];var a=[];if("c"===e.substr(0,1)&&(a.push(r),a.push(i)),"e"===e.substr(0,1)){a.push(r);for(var s=1;s<n;s++)a.push(r+s/n*(i-r));a.push(i)}else if("l"===e.substr(0,1)){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");var l=Math.LOG10E*pi(r),c=Math.LOG10E*pi(i);a.push(r);for(var u=1;u<n;u++)a.push(di(10,l+u/n*(c-l)));a.push(i)}else if("q"===e.substr(0,1)){a.push(r);for(var f=1;f<n;f++){var h=(o.length-1)*f/n,p=gi(h);if(p===h)a.push(o[p]);else{var d=h-p;a.push(o[p]*(1-d)+o[p+1]*d)}}a.push(i)}else if("k"===e.substr(0,1)){var g,m=o.length,y=new Array(m),v=new Array(n),b=!0,x=0,w=null;(w=[]).push(r);for(var k=1;k<n;k++)w.push(r+k/n*(i-r));for(w.push(i);b;){for(var M=0;M<n;M++)v[M]=0;for(var _=0;_<m;_++)for(var A=o[_],E=Number.MAX_VALUE,T=void 0,$=0;$<n;$++){var O=mi(w[$]-A);O<E&&(E=O,T=$),v[T]++,y[_]=T}for(var N=new Array(n),S=0;S<n;S++)N[S]=null;for(var L=0;L<m;L++)null===N[g=y[L]]?N[g]=o[L]:N[g]+=o[L];for(var C=0;C<n;C++)N[C]*=1/v[C];b=!1;for(var D=0;D<n;D++)if(N[D]!==w[D]){b=!0;break}w=N,++x>200&&(b=!1)}for(var R={},I=0;I<n;I++)R[I]=[];for(var P=0;P<m;P++)R[g=y[P]].push(o[P]);for(var z=[],j=0;j<n;j++)z.push(R[j][0]),z.push(R[j][R[j].length-1]);z=z.sort((function(t,e){return t-e})),a.push(z[0]);for(var F=1;F<z.length;F+=2){var U=z[F];isNaN(U)||-1!==a.indexOf(U)||a.push(U)}}return a},bi={analyze:yi,limits:vi},xi=y,wi=y,ki=Math.sqrt,Mi=Math.pow,_i=Math.min,Ai=Math.max,Ei=Math.atan2,Ti=Math.abs,$i=Math.cos,Oi=Math.sin,Ni=Math.exp,Si=Math.PI,Li=y,Ci=y,Di=b,Ri=Gr,Ii={cool:function(){return Ri([Di.hsl(180,1,.9),Di.hsl(250,.7,.4)])},hot:function(){return Ri(["#000","#f00","#ff0","#fff"]).mode("rgb")}},Pi={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},zi=0,ji=Object.keys(Pi);zi<ji.length;zi+=1){var Fi=ji[zi];Pi[Fi.toLowerCase()]=Pi[Fi]}var Ui=Pi,Bi=b;Bi.average=function(t,e,n){void 0===e&&(e="lrgb"),void 0===n&&(n=null);var r=t.length;n||(n=Array.from(new Array(r)).map((function(){return 1})));var i=r/n.reduce((function(t,e){return t+e}));if(n.forEach((function(t,e){n[e]*=i})),t=t.map((function(t){return new Ir(t)})),"lrgb"===e)return function(t,e){for(var n=t.length,r=[0,0,0,0],i=0;i<t.length;i++){var o=t[i],a=e[i]/n,s=o._rgb;r[0]+=zr(s[0],2)*a,r[1]+=zr(s[1],2)*a,r[2]+=zr(s[2],2)*a,r[3]+=s[3]*a}return r[0]=jr(r[0]),r[1]=jr(r[1]),r[2]=jr(r[2]),r[3]>.9999999&&(r[3]=1),new Ir(Pr(r))}(t,n);for(var o=t.shift(),a=o.get(e),s=[],l=0,c=0,u=0;u<a.length;u++)if(a[u]=(a[u]||0)*n[0],s.push(isNaN(a[u])?0:n[0]),"h"===e.charAt(u)&&!isNaN(a[u])){var f=a[u]/180*Fr;l+=Ur(f)*n[0],c+=Br(f)*n[0]}var h=o.alpha()*n[0];t.forEach((function(t,r){var i=t.get(e);h+=t.alpha()*n[r+1];for(var o=0;o<a.length;o++)if(!isNaN(i[o]))if(s[o]+=n[r+1],"h"===e.charAt(o)){var u=i[o]/180*Fr;l+=Ur(u)*n[r+1],c+=Br(u)*n[r+1]}else a[o]+=i[o]*n[r+1]}));for(var p=0;p<a.length;p++)if("h"===e.charAt(p)){for(var d=Hr(c/s[p],l/s[p])/Fr*180;d<0;)d+=360;for(;d>=360;)d-=360;a[p]=d}else a[p]=a[p]/s[p];return h/=r,new Ir(a,e).alpha(h>.99999?1:h,!0)},Bi.bezier=function(t){var e=function(t){var e,n,r,i,o,a,s;if(2===(t=t.map((function(t){return new Xr(t)}))).length)e=t.map((function(t){return t.lab()})),o=e[0],a=e[1],i=function(t){var e=[0,1,2].map((function(e){return o[e]+t*(a[e]-o[e])}));return new Xr(e,"lab")};else if(3===t.length)n=t.map((function(t){return t.lab()})),o=n[0],a=n[1],s=n[2],i=function(t){var e=[0,1,2].map((function(e){return(1-t)*(1-t)*o[e]+2*(1-t)*t*a[e]+t*t*s[e]}));return new Xr(e,"lab")};else if(4===t.length){var l;r=t.map((function(t){return t.lab()})),o=r[0],a=r[1],s=r[2],l=r[3],i=function(t){var e=[0,1,2].map((function(e){return(1-t)*(1-t)*(1-t)*o[e]+3*(1-t)*(1-t)*t*a[e]+3*(1-t)*t*t*s[e]+t*t*t*l[e]}));return new Xr(e,"lab")}}else{if(!(t.length>=5))throw new RangeError("No point in running bezier with only one color.");var c,u,f;c=t.map((function(t){return t.lab()})),f=t.length-1,u=function(t){for(var e=[1,1],n=1;n<t;n++){for(var r=[1],i=1;i<=e.length;i++)r[i]=(e[i]||0)+e[i-1];e=r}return e}(f),i=function(t){var e=1-t,n=[0,1,2].map((function(n){return c.reduce((function(r,i,o){return r+u[o]*Math.pow(e,f-o)*Math.pow(t,o)*i[n]}),0)}));return new Xr(n,"lab")}}return i}(t);return e.scale=function(){return Kr(e)},e},Bi.blend=ei,Bi.cubehelix=function(t,e,n,r,i){void 0===t&&(t=300),void 0===e&&(e=-1.5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=[0,1]);var o,a=0;"array"===ni(i)?o=i[1]-i[0]:(o=0,i=[i,i]);var s=function(s){var l=ii*((t+120)/360+e*s),c=oi(i[0]+o*s,r),u=(0!==a?n[0]+s*a:n)*c*(1-c)/2,f=si(l),h=ai(l);return li(ri([255*(c+u*(-.14861*f+1.78277*h)),255*(c+u*(-.29227*f-.90649*h)),255*(c+u*(1.97294*f)),1]))};return s.start=function(e){return null==e?t:(t=e,s)},s.rotations=function(t){return null==t?e:(e=t,s)},s.gamma=function(t){return null==t?r:(r=t,s)},s.hue=function(t){return null==t?n:("array"===ni(n=t)?0==(a=n[1]-n[0])&&(n=n[1]):a=0,s)},s.lightness=function(t){return null==t?i:("array"===ni(t)?(i=t,o=t[1]-t[0]):(i=[t,t],o=0),s)},s.scale=function(){return li.scale(s)},s.hue(n),s},Bi.mix=Bi.interpolate=hr,Bi.random=function(){for(var t="#",e=0;e<6;e++)t+="0123456789abcdef".charAt(ui(16*fi()));return new ci(t,"hex")},Bi.scale=Gr,Bi.analyze=bi.analyze,Bi.contrast=function(t,e){t=new xi(t),e=new xi(e);var n=t.luminance(),r=e.luminance();return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)},Bi.deltaE=function(t,e,n,r,i){void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=1);var o=function(t){return 360*t/(2*Si)},a=function(t){return 2*Si*t/360};t=new wi(t),e=new wi(e);var s=Array.from(t.lab()),l=s[0],c=s[1],u=s[2],f=Array.from(e.lab()),h=f[0],p=f[1],d=f[2],g=(l+h)/2,m=(ki(Mi(c,2)+Mi(u,2))+ki(Mi(p,2)+Mi(d,2)))/2,y=.5*(1-ki(Mi(m,7)/(Mi(m,7)+Mi(25,7)))),v=c*(1+y),b=p*(1+y),x=ki(Mi(v,2)+Mi(u,2)),w=ki(Mi(b,2)+Mi(d,2)),k=(x+w)/2,M=o(Ei(u,v)),_=o(Ei(d,b)),A=M>=0?M:M+360,E=_>=0?_:_+360,T=Ti(A-E)>180?(A+E+360)/2:(A+E)/2,$=1-.17*$i(a(T-30))+.24*$i(a(2*T))+.32*$i(a(3*T+6))-.2*$i(a(4*T-63)),O=E-A;O=Ti(O)<=180?O:E<=A?O+360:O-360,O=2*ki(x*w)*Oi(a(O)/2);var N=h-l,S=w-x,L=1+.015*Mi(g-50,2)/ki(20+Mi(g-50,2)),C=1+.045*k,D=1+.015*k*$,R=30*Ni(-Mi((T-275)/25,2)),I=-2*ki(Mi(k,7)/(Mi(k,7)+Mi(25,7)))*Oi(2*a(R)),P=ki(Mi(N/(n*L),2)+Mi(S/(r*C),2)+Mi(O/(i*D),2)+I*(S/(r*C))*(O/(i*D)));return Ai(0,_i(100,P))},Bi.distance=function(t,e,n){void 0===n&&(n="lab"),t=new Li(t),e=new Li(e);var r=t.get(n),i=e.get(n),o=0;for(var a in r){var s=(r[a]||0)-(i[a]||0);o+=s*s}return Math.sqrt(o)},Bi.limits=bi.limits,Bi.valid=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];try{return new(Function.prototype.bind.apply(Ci,[null].concat(t))),!0}catch(t){return!1}},Bi.scales=Ii,Bi.colors=Je,Bi.brewer=Ui}();class ds extends Q{constructor(t){super(),J(this,t,ps,hs,s,{themeOptions:13,tickPosition:0,plotSize:14,scale:15,className:1,rtl:16,ticksMajor:17,tickLines:18,scaleType:2,tickFormat:19,multiFormat:20,keepOrder:21,fontSize:3,ariaDescription:4,tickLabelsInside:5,bufferStroke:6,css:22},null,[-1,-1])}}function gs(t){let e,n;return e=new Sa({props:{onMeasure:t[15],$$slots:{default:[ms]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(t,r){K(e,t,r),n=!0},p(t,n){const r={};4096&n[0]|262144&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){W(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function ms(t){let e,r;const i=[t[12]];let o={};for(let t=0;t<i.length;t+=1)o=n(o,i[t]);return e=new ds({props:o}),{c(){X(e.$$.fragment)},m(t,n){K(e,t,n),r=!0},p(t,n){const r=4096&n[0]?G(i,[V(t[12])]):{};e.$set(r)},i(t){r||(Y(e.$$.fragment,t),r=!0)},o(t){W(e.$$.fragment,t),r=!1},d(t){Z(e,t)}}}function ys(t){let e,r;const i=[t[12],{bufferStroke:t[6]}];let o={};for(let t=0;t<i.length;t+=1)o=n(o,i[t]);return e=new ds({props:o}),{c(){X(e.$$.fragment)},m(t,n){K(e,t,n),r=!0},p(t,n){const r=4160&n[0]?G(i,[4096&n[0]&&V(t[12]),64&n[0]&&{bufferStroke:t[6]}]):{};e.$set(r)},i(t){r||(Y(e.$$.fragment,t),r=!0)},o(t){W(e.$$.fragment,t),r=!1},d(t){Z(e,t)}}}function vs(t){let e,n;return e=new Wa({props:{themeDataTickLines:t[8].tickLines,tickPosition:t[3],plotSize:t[9],scale:t[10],className:t[2],ticksMajor:t[7].ticksMajor,css:t[14],tickLabelsInside:t[5]}}),{c(){X(e.$$.fragment)},m(t,r){K(e,t,r),n=!0},p(t,n){const r={};256&n[0]&&(r.themeDataTickLines=t[8].tickLines),8&n[0]&&(r.tickPosition=t[3]),512&n[0]&&(r.plotSize=t[9]),1024&n[0]&&(r.scale=t[10]),4&n[0]&&(r.className=t[2]),128&n[0]&&(r.ticksMajor=t[7].ticksMajor),32&n[0]&&(r.tickLabelsInside=t[5]),e.$set(r)},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){W(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function bs(t){let e,n;return e=new Qa({props:{themeOptionsGridLines:t[8].gridLines,plotSize:t[9],scale:t[10],className:t[2],ticksMajor:t[7].ticksMajor,ticksMinor:t[7].ticksMinor,baseLine:t[4],css:t[14]}}),{c(){X(e.$$.fragment)},m(t,r){K(e,t,r),n=!0},p(t,n){const r={};256&n[0]&&(r.themeOptionsGridLines=t[8].gridLines),512&n[0]&&(r.plotSize=t[9]),1024&n[0]&&(r.scale=t[10]),4&n[0]&&(r.className=t[2]),128&n[0]&&(r.ticksMajor=t[7].ticksMajor),128&n[0]&&(r.ticksMinor=t[7].ticksMinor),16&n[0]&&(r.baseLine=t[4]),e.$set(r)},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){W(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function xs(t){let e,n;return e=new is({props:{themeOptionsBaseLine:t[8].baseLine,plotSize:t[9],scale:t[10],className:t[2],ticksMajor:t[7].ticksMajor,baseLine:t[4],css:t[14],enforceZeroBaseline:t[13]}}),{c(){X(e.$$.fragment)},m(t,r){K(e,t,r),n=!0},p(t,n){const r={};256&n[0]&&(r.themeOptionsBaseLine=t[8].baseLine),512&n[0]&&(r.plotSize=t[9]),1024&n[0]&&(r.scale=t[10]),4&n[0]&&(r.className=t[2]),128&n[0]&&(r.ticksMajor=t[7].ticksMajor),16&n[0]&&(r.baseLine=t[4]),8192&n[0]&&(r.enforceZeroBaseline=t[13]),e.$set(r)},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){W(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function ws(t){let e,n,r,i,o,a,s,l=!0===t[11]&&t[0].has("tick-labels"),h=t[0].has("tick-labels"),d=t[0].has("tick-lines"),v=t[0].has("grid-lines"),b=t[0].has("base-lines"),x=l&&gs(t),w=h&&ys(t),k=d&&vs(t),M=v&&bs(t),_=b&&xs(t);return{c(){x&&x.c(),e=g(),n=p("g"),w&&w.c(),r=m(),k&&k.c(),i=m(),M&&M.c(),o=m(),_&&_.c(),y(n,"class","y-grid"),y(n,"direction",a=t[1]?"rtl":"ltr")},m(t,a){x&&x.m(t,a),u(t,e,a),u(t,n,a),w&&w.m(n,null),c(n,r),k&&k.m(n,null),c(n,i),M&&M.m(n,null),c(n,o),_&&_.m(n,null),s=!0},p(t,c){2049&c[0]&&(l=!0===t[11]&&t[0].has("tick-labels")),l?x?(x.p(t,c),2049&c[0]&&Y(x,1)):(x=gs(t),x.c(),Y(x,1),x.m(e.parentNode,e)):x&&(B(),W(x,1,1,()=>{x=null}),H()),1&c[0]&&(h=t[0].has("tick-labels")),h?w?(w.p(t,c),1&c[0]&&Y(w,1)):(w=ys(t),w.c(),Y(w,1),w.m(n,r)):w&&(B(),W(w,1,1,()=>{w=null}),H()),1&c[0]&&(d=t[0].has("tick-lines")),d?k?(k.p(t,c),1&c[0]&&Y(k,1)):(k=vs(t),k.c(),Y(k,1),k.m(n,i)):k&&(B(),W(k,1,1,()=>{k=null}),H()),1&c[0]&&(v=t[0].has("grid-lines")),v?M?(M.p(t,c),1&c[0]&&Y(M,1)):(M=bs(t),M.c(),Y(M,1),M.m(n,o)):M&&(B(),W(M,1,1,()=>{M=null}),H()),1&c[0]&&(b=t[0].has("base-lines")),b?_?(_.p(t,c),1&c[0]&&Y(_,1)):(_=xs(t),_.c(),Y(_,1),_.m(n,null)):_&&(B(),W(_,1,1,()=>{_=null}),H()),(!s||2&c[0]&&a!==(a=t[1]?"rtl":"ltr"))&&y(n,"direction",a)},i(t){s||(Y(x),Y(w),Y(k),Y(M),Y(_),s=!0)},o(t){W(x),W(w),W(k),W(M),W(_),s=!1},d(t){t&&(f(e),f(n)),x&&x.d(t),w&&w.d(),k&&k.d(),M&&M.d(),_&&_.d()}}}function ks(t,e,n){let r,i,o,a,s,l,c,u,f,h,p,d,{elements:g}=e,{scale:m}=e,{scaleType:y}=e,{plotSize:v}=e,{emotion:b}=e,{numeral:x}=e,{chroma:w}=e;const k=new Promise(t=>{n(35,d=t)}),M=E();let _,T,{themeData:$={}}=e,{translate:O=(t=>t)}=e,{rtl:N=!1}=e,{ticks:S={major:{values:[]},minor:{values:[]}}}=e,{tickLabelFormat:L="auto"}=e,{tickLabelMultiply:C=1}=e,{tickLabelUnit:R=["",""]}=e,{secondary:I=!1}=e,{className:P=""}=e,{margin:z={top:0,left:0,right:0,bottom:0,labelWidth:0}}=e,{tickLines:j=g.has("tick-lines")}=e,{customFormatFunction:F}=e,{minusChar:U}=e,{plusMinusChar:B}=e,{tickPosition:H="left"}=e,{baseLine:Y=new Set(["zero"])}=e,{tickLabelsInside:W=!1}=e,{bufferStroke:q=!1}=e,G=!0,V=!1,X=!1;const{css:K}=b;let Z={ticksMajor:[],ticksMinor:[]};function J(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{left:0,right:0,bottom:0,top:0,labelWidth:0},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;const r=tt(e,"tickLines.length"+(W?"Inside":""),tt(e,"tickLines.length")),i=W?-r:tt(e,"tickLines.distance"),o=tt(e.tickLines,"strokeLinecap"),a=tt(e.tickLines,"width");let s={};j&&(s={top:.5*a,bottom:.5*a,[H]:i+r+("square"===o||"round"===o?.5*a:0)});const l=tt(e,"baseLine.width"),c={top:n.has("top")?l:0,bottom:n.has("bottom")?l:0},u=Object.assign({},t);for(const e of["top","right","bottom","left"]){const n=e;u[n]=Math.max(t[n]||0,s[n]||0,c[n]||0)}return u}const Q="getBBox"in document.createElementNS("http://www.w3.org/2000/svg","svg")==0;return A(async()=>{if(!g.has("tick-labels")){const t=J(void 0,u,Y);d(t),M("marginUpdate",{margin:t})}}),t.$$set=t=>{"elements"in t&&n(0,g=t.elements),"scale"in t&&n(16,m=t.scale),"scaleType"in t&&n(17,y=t.scaleType),"plotSize"in t&&n(18,v=t.plotSize),"emotion"in t&&n(19,b=t.emotion),"numeral"in t&&n(20,x=t.numeral),"chroma"in t&&n(21,w=t.chroma),"themeData"in t&&n(23,$=t.themeData),"translate"in t&&n(24,O=t.translate),"rtl"in t&&n(1,N=t.rtl),"ticks"in t&&n(25,S=t.ticks),"tickLabelFormat"in t&&n(26,L=t.tickLabelFormat),"tickLabelMultiply"in t&&n(27,C=t.tickLabelMultiply),"tickLabelUnit"in t&&n(28,R=t.tickLabelUnit),"secondary"in t&&n(29,I=t.secondary),"className"in t&&n(2,P=t.className),"margin"in t&&n(30,z=t.margin),"tickLines"in t&&n(31,j=t.tickLines),"customFormatFunction"in t&&n(32,F=t.customFormatFunction),"minusChar"in t&&n(33,U=t.minusChar),"plusMinusChar"in t&&n(34,B=t.plusMinusChar),"tickPosition"in t&&n(3,H=t.tickPosition),"baseLine"in t&&n(4,Y=t.baseLine),"tickLabelsInside"in t&&n(5,W=t.tickLabelsInside),"bufferStroke"in t&&n(6,q=t.bufferStroke)},t.$$.update=()=>{var e,b;if(8388608&t.$$.dirty[0]|4&t.$$.dirty[1]&&n(43,r=U||tt($,"vis.base.format.minusCharacter","â")),8388608&t.$$.dirty[0]|8&t.$$.dirty[1]&&n(42,i=B||tt($,"vis.base.format.plusMinusCharacter","Â±")),1074003968&t.$$.dirty[0]&&n(44,o=v[1]-z.top-z.bottom),65536&t.$$.dirty[0]&&n(45,a=m.range()[1]>m.range()[0]),65536&t.$$.dirty[0]|24576&t.$$.dirty[1]&&n(10,s=m.copy().range(a?[0,o]:[o,0])),262144&t.$$.dirty[0]|8192&t.$$.dirty[1]&&n(9,l=[v[0],o]),547356672&t.$$.dirty[0]&&n(8,u=_n("vertical",$,I,w)),512886144&t.$$.dirty[0]|6146&t.$$.dirty[1]&&(n(7,Z=zo(x,{scale:s,scaleType:y,customFormatFunction:F,tickLabelFormat:L,tickLabelUnit:R,tickLabelMultiply:C,minusChar:r,plusMinusChar:i},u,$,!1,S)),Z.ticksMajor.reverse(),Z.ticksMinor.reverse()),196752&t.$$.dirty[0]&&n(13,c=["number"].includes(y)&&Y.has("zero")&&!1===Z.ticksMajor.includes(0)&&(e=m.domain()[0],b=m.domain()[1],Math.abs(Math.sign(e)+Math.sign(b))<=1)),528941099&t.$$.dirty[0]&&n(11,G=!0),469894144&t.$$.dirty[0]|6146&t.$$.dirty[1]&&n(39,T={scale:s,scaleType:y,tickLabelFormat:L,tickLabelUnit:R,tickLabelMultiply:C,minusChar:r,plusMinusChar:i,customFormatFunction:F}),1048960&t.$$.dirty[0]|256&t.$$.dirty[1]){const t=Bo(x,T,Z.ticksMajor,u);n(36,_=t.tickFormat),n(37,V=t.multiFormat),n(38,X=t.keepOrder)}if(8388864&t.$$.dirty[0]&&n(41,f=tt(u,"tickLabels.fontSize",Ke($,"fontSize",12))),17826176&t.$$.dirty[0]|256&t.$$.dirty[1]&&n(40,h=Xo(x,"y",T,u,O,Z.ticksMajor)),133038&t.$$.dirty[0]|1761&t.$$.dirty[1]&&n(12,p={themeOptions:u,tickPosition:H,plotSize:l,scale:s,rtl:N,className:P,tickLines:j,ticksMajor:Z.ticksMajor,scaleType:y,css:K,tickFormat:_,multiFormat:V,keepOrder:X,fontSize:f,ariaDescription:h,tickLabelsInside:W}),273&t.$$.dirty[0]|16&t.$$.dirty[1]&&Q&&!g.has("tick-labels")){const t=J(void 0,u,Y);d(t),M("marginUpdate",{margin:t})}},[g,N,P,H,Y,W,q,Z,u,l,s,G,p,c,K,async function(t){const e={top:0,left:0,bottom:0,right:0,labelWidth:0},r=W?0:(j?tt(u,"tickLines.distance")+tt(u,"tickLines.length"):0)+tt(u,"tickLabels.distance"),i=tt(u,"tickLabels.extraSpace",1);W?(e[H]=0,e.labelWidth=t.width):(e[H]=t.width+r+i,e.labelWidth=0);const o=Math.max(-1*t.top,0),a=t.height+(o>0?0:t.top)-l[1]-o;e.top=o,e.bottom=a,v[0]>0&&v[1]>0&&(d(J(e,u,Y)),M("marginUpdate",{margin:e})),await D(),await D(),n(11,G=!1)},m,y,v,b,x,w,k,$,O,S,L,C,R,I,z,j,F,U,B,d,_,V,X,T,h,f,i,r,o,a]}class Ms extends Q{constructor(t){super(),J(this,t,ks,ws,s,{elements:0,scale:16,scaleType:17,plotSize:18,emotion:19,numeral:20,chroma:21,rendered:22,themeData:23,translate:24,rtl:1,ticks:25,tickLabelFormat:26,tickLabelMultiply:27,tickLabelUnit:28,secondary:29,className:2,margin:30,tickLines:31,customFormatFunction:32,minusChar:33,plusMinusChar:34,tickPosition:3,baseLine:4,tickLabelsInside:5,bufferStroke:6},null,[-1,-1])}get rendered(){return this.$$.ctx[22]}}function _s(t){if("node"in t){const e=t.node();if(!e)throw"Selected node is not valid.";return e}return t}function As(t,e){const n=new Set;return Array.isArray(t)?t.forEach(t=>n.add(t)):"string"==typeof t?n.add(t):n.add("zero"),(e||!1===t)&&n.delete("zero"),n}t.XGrid=Fa,t.YGrid=Ms,t.autoTickFormatDate=Yo,t.initLocales=function(t){t&&"en"!==t.name&&So.locale(t)},t.parseTicks=zo,t.resolveThemeOptions=_n,t.xGridWrapper=async function(t){var e,n;for(const e of["aboveChart","belowChart","emotion","scale","scaleType","plotSize"])if(e in t==0)throw'Property "'.concat(e,'" missing from options');const r=_s(t.aboveChart),i=_s(t.belowChart);for(const t of[r,i]){const e=t.querySelector(".x-grid");e&&e.remove()}const o={emotion:t.emotion,scale:t.scale,scaleType:t.scaleType,plotSize:t.plotSize,themeData:t.theme,translate:t.translate,numeral:t.numeral,baseLine:As(t.baseLine,!!t.customFormatFunction),customFormatFunction:t.customFormatFunction,rtl:t.rtl,ticks:t.ticks,tickLabelFormat:t.tickLabelFormat,tickLabelMultiply:t.tickLabelMultiply,tickLabelUnit:t.tickLabelUnit,secondary:t.secondary,className:t.className,minusChar:t.minusChar,tickPosition:t.tickPosition,fitLabels:new Set(t.fitLabels),plusMinusChar:t.plusMinusChar,tickLines:t.tickLines,chroma:t.chroma},a=_n("horizontal",t.theme,!!t.secondary,t.chroma),{elementsAbove:s,elementsBelow:l}=An(a,t.tickLabels,t.tickLines,t.gridLines),c=s.has("tick-lines")||l.has("tick-lines"),u=new Fa({target:r,props:Object.assign(Object.assign({elements:s},o),{tickLines:c})}),f=new Fa({target:i,props:Object.assign(Object.assign({elements:l},o),{tickLines:c})}),h=await u.rendered,p=await f.rendered,d={top:0,left:0,bottom:0,right:0,labelWidth:0};return Object.keys(d).forEach(t=>{const e=t;d[e]=Math.max(h[e],p[e])}),(null===(e=t.allowOverhang)||void 0===e?void 0:e.includes("first"))&&(d[t.rtl?"right":"left"]=0),(null===(n=t.allowOverhang)||void 0===n?void 0:n.includes("last"))&&(d[t.rtl?"left":"right"]=0),!1===t.updateMargins||(u.$$set({margin:d}),f.$$set({margin:d}),await new Promise(t=>setTimeout(t,1))),d},t.yGridWrapper=async function(t){for(const e of["aboveChart","belowChart","emotion","scale","scaleType","plotSize"])if(e in t==0)throw'Property "'.concat(e,'" missing from options');const e=_s(t.aboveChart),n=_s(t.belowChart);for(const t of[e,n]){const e=t.querySelector(".y-grid");e&&e.remove()}const r={emotion:t.emotion,scale:t.scale,scaleType:t.scaleType,plotSize:t.plotSize,themeData:t.theme,translate:t.translate,numeral:t.numeral,baseLine:As(t.baseLine,!!t.customFormatFunction),customFormatFunction:t.customFormatFunction,rtl:t.rtl,ticks:t.ticks,tickLabelFormat:t.tickLabelFormat,tickLabelMultiply:t.tickLabelMultiply,tickLabelUnit:t.tickLabelUnit,secondary:t.secondary,className:t.className,minusChar:t.minusChar,tickPosition:t.tickPosition,tickLines:t.tickLines,tickLabelsInside:t.tickLabelsInside,chroma:t.chroma},i=_n("horizontal",t.theme,!!t.secondary,t.chroma),{elementsAbove:o,elementsBelow:a}=An(i,t.tickLabels,t.tickLines,t.gridLines),s=o.has("tick-lines")||a.has("tick-lines"),l=new Ms({target:e,props:Object.assign(Object.assign({elements:o},r),{tickLines:s})}),c=new Ms({target:n,props:Object.assign(Object.assign({elements:a},r),{tickLines:s})}),u=await l.rendered,f=await c.rendered,h={top:0,left:0,bottom:0,right:0,labelWidth:0};return Object.keys(h).forEach(t=>{const e=t;h[e]=Math.max(u[e],f[e])}),!1===t.updateMargins||(l.$$set({margin:h}),c.$$set({margin:h}),await new Promise(t=>setTimeout(t,1))),h}}(Iu);var Pu=Iu;function zu(t){return{style0:aa(t,"vis.d3-lines.lines.widths.style0",2),style1:aa(t,"vis.d3-lines.lines.widths.style1",3),style2:aa(t,"vis.d3-lines.lines.widths.style2",4),style3:aa(t,"vis.d3-lines.lines.widths.style3",1),invisible:0}}function ju(t){return aa(t,"vis.d3-lines.mobileBreakpoint",350)}function Fu(t,e){const n=e?"lines":"area";return{standard:aa(t,"vis.d3-".concat(n,".rangePadding"),10),insideLabels:aa(t,"vis.d3-".concat(n,".rangePaddingInner"),50)}}function Uu(t){return{top:0,bottom:0-aa(t,"vis.base.legend.rowSpacing",0)}}function Bu(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Hu,Yu,Wu,qu,Gu,Vu,Xu,Ku,Zu,Ju,Qu,tf,ef,nf,rf,of,af,sf,lf={};!function(t,e){!function(t){function e(){}function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function i(){return Object.create(null)}function o(t){t.forEach(r)}function a(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(t,e,r,i){return t[1]&&i?n(r.ctx.slice(),t[1](i(e))):r.ctx}function c(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function f(t){t.parentNode&&t.parentNode.removeChild(t)}function h(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function p(t){return document.createElement(t)}function d(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function g(t){return document.createTextNode(t)}function m(){return g("")}function y(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function v(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function b(t,e){e=""+e,t.data!==e&&(t.data=e)}function x(t,e,n,r){null==n?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function w(t,e,n){t.classList[n?"add":"remove"](e)}let k;function M(t){k=t}function _(){const t=function(){if(!k)throw new Error("Function called outside component initialization");return k}();return function(e,n){let{cancelable:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=t.$$.callbacks[e];if(i){const o=function(t,e){let{bubbles:n=!1,cancelable:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,r,e),i}(e,n,{cancelable:r});return i.slice().forEach(e=>{e.call(t,o)}),!o.defaultPrevented}return!0}}function A(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(t=>t.call(this,e))}const E=[],T=[];let $=[];const O=[],N=Promise.resolve();let S=!1;function L(){S||(S=!0,N.then(P))}function C(){return L(),N}function D(t){$.push(t)}const R=new Set;let I=0;function P(){if(0!==I)return;const t=k;do{try{for(;I<E.length;){const t=E[I];I++,M(t),z(t.$$)}}catch(t){throw E.length=0,I=0,t}for(M(null),E.length=0,I=0;T.length;)T.pop()();for(let t=0;t<$.length;t+=1){const e=$[t];R.has(e)||(R.add(e),e())}$.length=0}while(E.length);for(;O.length;)O.pop()();S=!1,R.clear(),M(t)}function z(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(D)}}const j=new Set;let F;function U(){F={r:0,c:[],p:F}}function B(){F.r||o(F.c),F=F.p}function H(t,e){t&&t.i&&(j.delete(t),t.i(e))}function Y(t,e,n,r){if(t&&t.o){if(j.has(t))return;j.add(t),F.c.push(()=>{j.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function W(t){t&&t.c()}function q(t,e,n,i){const{fragment:s,after_update:l}=t.$$;s&&s.m(e,n),i||D(()=>{const e=t.$$.on_mount.map(r).filter(a);t.$$.on_destroy?t.$$.on_destroy.push(...e):o(e),t.$$.on_mount=[]}),l.forEach(D)}function G(t,e){const n=t.$$;null!==n.fragment&&(function(t){const e=[],n=[];$.forEach(r=>-1===t.indexOf(r)?e.push(r):n.push(r)),n.forEach(t=>t()),$=e}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function V(t,n,r,a,s,l,c){let u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[-1];const h=k;M(t);const p=t.$$={fragment:null,ctx:[],props:l,update:e,not_equal:s,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(h?h.$$.context:[])),callbacks:i(),dirty:u,skip_bound:!1,root:n.target||h.$$.root};c&&c(p.root);let d=!1;if(p.ctx=r?r(t,n.props||{},(function(e,n){const r=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:n;return p.ctx&&s(p.ctx[e],p.ctx[e]=r)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](r),d&&function(t,e){-1===t.$$.dirty[0]&&(E.push(t),L(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),n})):[],p.update(),d=!0,o(p.before_update),p.fragment=!!a&&a(p.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);p.fragment&&p.fragment.l(t),t.forEach(f)}else p.fragment&&p.fragment.c();n.intro&&H(t.$$.fragment),q(t,n.target,n.anchor,n.customElement),P()}M(h)}class X{$destroy(){G(this,1),this.$destroy=e}$on(t,n){if(!a(n))return e;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function K(t){let e,n,r=t[6](t[2])+"",i=t[3]&&Z(t);return{c(){e=p("div"),n=p("span"),i&&i.c(),v(e,"class","legend-title label"),v(e,"aria-hidden","true")},m(t,o){u(t,e,o),c(e,n),n.innerHTML=r,i&&i.m(e,null)},p(t,o){68&o&&r!==(r=t[6](t[2])+"")&&(n.innerHTML=r),t[3]?i?i.p(t,o):(i=Z(t),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(t){t&&f(e),i&&i.d()}}}function Z(t){let e,n,r=t[6](t[2])+"";return{c(){e=p("div"),n=p("span"),x(n,"color",t[3].color),x(n,"-webkit-text-stroke",t[3].textStroke),v(e,"class","legend-title label buffer"),v(e,"aria-hidden","true")},m(t,i){u(t,e,i),c(e,n),n.innerHTML=r},p(t,e){68&e&&r!==(r=t[6](t[2])+"")&&(n.innerHTML=r),8&e&&x(n,"color",t[3].color),8&e&&x(n,"-webkit-text-stroke",t[3].textStroke)},d(t){t&&f(e)}}}function J(t){let e,n,r,i=t[2]&&K(t);const o=t[8].default,a=function(t,e,n,r){if(t){const r=l(t,e,n,null);return t[0](r)}}(o,t,t[7]);return{c(){e=p("div"),i&&i.c(),n=m(),a&&a.c(),v(e,"class",t[0]),v(e,"role","graphics-legend"),v(e,"aria-label",t[1]),x(e,"width",t[4]),x(e,"height",t[5])},m(t,o){u(t,e,o),i&&i.m(e,null),c(e,n),a&&a.m(e,null),r=!0},p(t,s){let[c]=s;t[2]?i?i.p(t,c):(i=K(t),i.c(),i.m(e,n)):i&&(i.d(1),i=null),a&&a.p&&(!r||128&c)&&function(t,e,n,r,i,o){if(i){const o=l(e,n,r,null);t.p(o,i)}}(a,o,t,t[7],r?function(t,e,n,r){return t[2],e.dirty}(o,t[7]):function(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}(t[7])),(!r||1&c)&&v(e,"class",t[0]),(!r||2&c)&&v(e,"aria-label",t[1]),16&c&&x(e,"width",t[4]),32&c&&x(e,"height",t[5])},i(t){r||(H(a,t),r=!0)},o(t){Y(a,t),r=!1},d(t){t&&f(e),i&&i.d(),a&&a.d(t)}}}function Q(t,e,n){let{$$slots:r={},$$scope:i}=e,{className:o=""}=e,{ariaLabel:a=""}=e,{title:s=""}=e,{buffer:l}=e,{width:c="auto"}=e,{height:u="auto"}=e,{purifyHtml:f}=e;return t.$$set=t=>{"className"in t&&n(0,o=t.className),"ariaLabel"in t&&n(1,a=t.ariaLabel),"title"in t&&n(2,s=t.title),"buffer"in t&&n(3,l=t.buffer),"width"in t&&n(4,c=t.width),"height"in t&&n(5,u=t.height),"purifyHtml"in t&&n(6,f=t.purifyHtml),"$$scope"in t&&n(7,i=t.$$scope)},[o,a,s,l,c,u,f,i,r]}class tt extends X{constructor(t){super(),V(this,t,Q,J,s,{className:0,ariaLabel:1,title:2,buffer:3,width:4,height:5,purifyHtml:6})}}function et(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return t;const r=Array.isArray(e)?e:e.split(".");let i=t;for(let t=0;t<r.length&&null!=i;t++)i=i[r[t]];return null==i?n:i}var nt,rt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==na?na:"undefined"!=typeof self?self:{},it={exports:{}};
/*! @license DOMPurify 3.0.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.6/LICENSE */function ot(){return nt||(nt=1,function(t,e){t.exports=function(){const{entries:t,setPrototypeOf:e,isFrozen:n,getPrototypeOf:r,getOwnPropertyDescriptor:i}=Object;let{freeze:o,seal:a,create:s}=Object,{apply:l,construct:c}="undefined"!=typeof Reflect&&Reflect;o||(o=function(t){return t}),a||(a=function(t){return t}),l||(l=function(t,e,n){return t.apply(e,n)}),c||(c=function(t,e){return new t(...e)});const u=w(Array.prototype.forEach),f=w(Array.prototype.pop),h=w(Array.prototype.push),p=w(String.prototype.toLowerCase),d=w(String.prototype.toString),g=w(String.prototype.match),m=w(String.prototype.replace),y=w(String.prototype.indexOf),v=w(String.prototype.trim),b=w(RegExp.prototype.test),x=function(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return c(t,n)}}(TypeError);function w(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return l(t,e,r)}}function k(t,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p;e&&e(t,null);let o=r.length;for(;o--;){let e=r[o];if("string"==typeof e){const t=i(e);t!==e&&(n(r)||(r[o]=t),e=t)}t[e]=!0}return t}function M(e){const n=s(null);for(const[r,o]of t(e))void 0!==i(e,r)&&(n[r]=o);return n}function _(t,e){for(;null!==t;){const n=i(t,e);if(n){if(n.get)return w(n.get);if("function"==typeof n.value)return w(n.value)}t=r(t)}return function(t){return console.warn("fallback value for",t),null}}const A=o(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),E=o(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),T=o(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),$=o(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),O=o(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),N=o(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),S=o(["#text"]),L=o(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),C=o(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),D=o(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),R=o(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),I=a(/\{\{[\w\W]*|[\w\W]*\}\}/gm),P=a(/<%[\w\W]*|[\w\W]*%>/gm),z=a(/\${[\w\W]*}/gm),j=a(/^data-[\-\w.\u00B7-\uFFFF]/),F=a(/^aria-[\-\w]+$/),U=a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),B=a(/^(?:\w+script|data):/i),H=a(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Y=a(/^html$/i);var W=Object.freeze({__proto__:null,MUSTACHE_EXPR:I,ERB_EXPR:P,TMPLIT_EXPR:z,DATA_ATTR:j,ARIA_ATTR:F,IS_ALLOWED_URI:U,IS_SCRIPT_OR_DATA:B,ATTR_WHITESPACE:H,DOCTYPE_NAME:Y});return function e(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window;const r=t=>e(t);if(r.version="3.0.6",r.removed=[],!n||!n.document||9!==n.document.nodeType)return r.isSupported=!1,r;let{document:i}=n;const a=i,l=a.currentScript,{DocumentFragment:c,HTMLTemplateElement:w,Node:I,Element:P,NodeFilter:z,NamedNodeMap:j=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:F,DOMParser:B,trustedTypes:H}=n,q=P.prototype,G=_(q,"cloneNode"),V=_(q,"nextSibling"),X=_(q,"childNodes"),K=_(q,"parentNode");if("function"==typeof w){const t=i.createElement("template");t.content&&t.content.ownerDocument&&(i=t.content.ownerDocument)}let Z,J="";const{implementation:Q,createNodeIterator:tt,createDocumentFragment:et,getElementsByTagName:nt}=i,{importNode:rt}=a;let it={};r.isSupported="function"==typeof t&&"function"==typeof K&&Q&&void 0!==Q.createHTMLDocument;const{MUSTACHE_EXPR:ot,ERB_EXPR:at,TMPLIT_EXPR:st,DATA_ATTR:lt,ARIA_ATTR:ct,IS_SCRIPT_OR_DATA:ut,ATTR_WHITESPACE:ft}=W;let{IS_ALLOWED_URI:ht}=W,pt=null;const dt=k({},[...A,...E,...T,...O,...S]);let gt=null;const mt=k({},[...L,...C,...D,...R]);let yt=Object.seal(s(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),vt=null,bt=null,xt=!0,wt=!0,kt=!1,Mt=!0,_t=!1,At=!1,Et=!1,Tt=!1,$t=!1,Ot=!1,Nt=!1,St=!0,Lt=!1,Ct=!0,Dt=!1,Rt={},It=null;const Pt=k({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let zt=null;const jt=k({},["audio","video","img","source","image","track"]);let Ft=null;const Ut=k({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Bt="http://www.w3.org/1998/Math/MathML",Ht="http://www.w3.org/2000/svg",Yt="http://www.w3.org/1999/xhtml";let Wt=Yt,qt=!1,Gt=null;const Vt=k({},[Bt,Ht,Yt],d);let Xt=null;const Kt=["application/xhtml+xml","text/html"];let Zt=null,Jt=null;const Qt=i.createElement("form"),te=function(t){return t instanceof RegExp||t instanceof Function},ee=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Jt||Jt!==t){if(t&&"object"==typeof t||(t={}),t=M(t),Xt=Xt=-1===Kt.indexOf(t.PARSER_MEDIA_TYPE)?"text/html":t.PARSER_MEDIA_TYPE,Zt="application/xhtml+xml"===Xt?d:p,pt="ALLOWED_TAGS"in t?k({},t.ALLOWED_TAGS,Zt):dt,gt="ALLOWED_ATTR"in t?k({},t.ALLOWED_ATTR,Zt):mt,Gt="ALLOWED_NAMESPACES"in t?k({},t.ALLOWED_NAMESPACES,d):Vt,Ft="ADD_URI_SAFE_ATTR"in t?k(M(Ut),t.ADD_URI_SAFE_ATTR,Zt):Ut,zt="ADD_DATA_URI_TAGS"in t?k(M(jt),t.ADD_DATA_URI_TAGS,Zt):jt,It="FORBID_CONTENTS"in t?k({},t.FORBID_CONTENTS,Zt):Pt,vt="FORBID_TAGS"in t?k({},t.FORBID_TAGS,Zt):{},bt="FORBID_ATTR"in t?k({},t.FORBID_ATTR,Zt):{},Rt="USE_PROFILES"in t&&t.USE_PROFILES,xt=!1!==t.ALLOW_ARIA_ATTR,wt=!1!==t.ALLOW_DATA_ATTR,kt=t.ALLOW_UNKNOWN_PROTOCOLS||!1,Mt=!1!==t.ALLOW_SELF_CLOSE_IN_ATTR,_t=t.SAFE_FOR_TEMPLATES||!1,At=t.WHOLE_DOCUMENT||!1,$t=t.RETURN_DOM||!1,Ot=t.RETURN_DOM_FRAGMENT||!1,Nt=t.RETURN_TRUSTED_TYPE||!1,Tt=t.FORCE_BODY||!1,St=!1!==t.SANITIZE_DOM,Lt=t.SANITIZE_NAMED_PROPS||!1,Ct=!1!==t.KEEP_CONTENT,Dt=t.IN_PLACE||!1,ht=t.ALLOWED_URI_REGEXP||U,Wt=t.NAMESPACE||Yt,yt=t.CUSTOM_ELEMENT_HANDLING||{},t.CUSTOM_ELEMENT_HANDLING&&te(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(yt.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&te(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(yt.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(yt.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),_t&&(wt=!1),Ot&&($t=!0),Rt&&(pt=k({},[...S]),gt=[],!0===Rt.html&&(k(pt,A),k(gt,L)),!0===Rt.svg&&(k(pt,E),k(gt,C),k(gt,R)),!0===Rt.svgFilters&&(k(pt,T),k(gt,C),k(gt,R)),!0===Rt.mathMl&&(k(pt,O),k(gt,D),k(gt,R))),t.ADD_TAGS&&(pt===dt&&(pt=M(pt)),k(pt,t.ADD_TAGS,Zt)),t.ADD_ATTR&&(gt===mt&&(gt=M(gt)),k(gt,t.ADD_ATTR,Zt)),t.ADD_URI_SAFE_ATTR&&k(Ft,t.ADD_URI_SAFE_ATTR,Zt),t.FORBID_CONTENTS&&(It===Pt&&(It=M(It)),k(It,t.FORBID_CONTENTS,Zt)),Ct&&(pt["#text"]=!0),At&&k(pt,["html","head","body"]),pt.table&&(k(pt,["tbody"]),delete vt.tbody),t.TRUSTED_TYPES_POLICY){if("function"!=typeof t.TRUSTED_TYPES_POLICY.createHTML)throw x('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof t.TRUSTED_TYPES_POLICY.createScriptURL)throw x('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Z=t.TRUSTED_TYPES_POLICY,J=Z.createHTML("")}else void 0===Z&&(Z=function(t,e){if("object"!=typeof t||"function"!=typeof t.createPolicy)return null;let n=null;const r="data-tt-policy-suffix";e&&e.hasAttribute(r)&&(n=e.getAttribute(r));const i="dompurify"+(n?"#"+n:"");try{return t.createPolicy(i,{createHTML:t=>t,createScriptURL:t=>t})}catch(t){return console.warn("TrustedTypes policy "+i+" could not be created."),null}}(H,l)),null!==Z&&"string"==typeof J&&(J=Z.createHTML(""));o&&o(t),Jt=t}},ne=k({},["mi","mo","mn","ms","mtext"]),re=k({},["foreignobject","desc","title","annotation-xml"]),ie=k({},["title","style","font","a","script"]),oe=k({},E);k(oe,T),k(oe,$);const ae=k({},O);k(ae,N);const se=function(t){h(r.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){t.remove()}},le=function(t,e){try{h(r.removed,{attribute:e.getAttributeNode(t),from:e})}catch(t){h(r.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t&&!gt[t])if($t||Ot)try{se(e)}catch(t){}else try{e.setAttribute(t,"")}catch(t){}},ce=function(t){let e=null,n=null;if(Tt)t="<remove></remove>"+t;else{const e=g(t,/^[\r\n\t ]+/);n=e&&e[0]}"application/xhtml+xml"===Xt&&Wt===Yt&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");const r=Z?Z.createHTML(t):t;if(Wt===Yt)try{e=(new B).parseFromString(r,Xt)}catch(t){}if(!e||!e.documentElement){e=Q.createDocument(Wt,"template",null);try{e.documentElement.innerHTML=qt?J:r}catch(t){}}const o=e.body||e.documentElement;return t&&n&&o.insertBefore(i.createTextNode(n),o.childNodes[0]||null),Wt===Yt?nt.call(e,At?"html":"body")[0]:At?e.documentElement:o},ue=function(t){return tt.call(t.ownerDocument||t,t,z.SHOW_ELEMENT|z.SHOW_COMMENT|z.SHOW_TEXT,null)},fe=function(t){return"function"==typeof I&&t instanceof I},he=function(t,e,n){it[t]&&u(it[t],t=>{t.call(r,e,n,Jt)})},pe=function(t){let e=null;if(he("beforeSanitizeElements",t,null),function(t){return t instanceof F&&("string"!=typeof t.nodeName||"string"!=typeof t.textContent||"function"!=typeof t.removeChild||!(t.attributes instanceof j)||"function"!=typeof t.removeAttribute||"function"!=typeof t.setAttribute||"string"!=typeof t.namespaceURI||"function"!=typeof t.insertBefore||"function"!=typeof t.hasChildNodes)}(t))return se(t),!0;const n=Zt(t.nodeName);if(he("uponSanitizeElement",t,{tagName:n,allowedTags:pt}),t.hasChildNodes()&&!fe(t.firstElementChild)&&b(/<[/\w]/g,t.innerHTML)&&b(/<[/\w]/g,t.textContent))return se(t),!0;if(!pt[n]||vt[n]){if(!vt[n]&&ge(n)){if(yt.tagNameCheck instanceof RegExp&&b(yt.tagNameCheck,n))return!1;if(yt.tagNameCheck instanceof Function&&yt.tagNameCheck(n))return!1}if(Ct&&!It[n]){const e=K(t)||t.parentNode,n=X(t)||t.childNodes;if(n&&e)for(let r=n.length-1;r>=0;--r)e.insertBefore(G(n[r],!0),V(t))}return se(t),!0}return t instanceof P&&!function(t){let e=K(t);e&&e.tagName||(e={namespaceURI:Wt,tagName:"template"});const n=p(t.tagName),r=p(e.tagName);return!!Gt[t.namespaceURI]&&(t.namespaceURI===Ht?e.namespaceURI===Yt?"svg"===n:e.namespaceURI===Bt?"svg"===n&&("annotation-xml"===r||ne[r]):Boolean(oe[n]):t.namespaceURI===Bt?e.namespaceURI===Yt?"math"===n:e.namespaceURI===Ht?"math"===n&&re[r]:Boolean(ae[n]):t.namespaceURI===Yt?!(e.namespaceURI===Ht&&!re[r])&&!(e.namespaceURI===Bt&&!ne[r])&&!ae[n]&&(ie[n]||!oe[n]):!("application/xhtml+xml"!==Xt||!Gt[t.namespaceURI]))}(t)?(se(t),!0):"noscript"!==n&&"noembed"!==n&&"noframes"!==n||!b(/<\/no(script|embed|frames)/i,t.innerHTML)?(_t&&3===t.nodeType&&(e=t.textContent,u([ot,at,st],t=>{e=m(e,t," ")}),t.textContent!==e&&(h(r.removed,{element:t.cloneNode()}),t.textContent=e)),he("afterSanitizeElements",t,null),!1):(se(t),!0)},de=function(t,e,n){if(St&&("id"===e||"name"===e)&&(n in i||n in Qt))return!1;if(wt&&!bt[e]&&b(lt,e));else if(xt&&b(ct,e));else if(!gt[e]||bt[e]){if(!(ge(t)&&(yt.tagNameCheck instanceof RegExp&&b(yt.tagNameCheck,t)||yt.tagNameCheck instanceof Function&&yt.tagNameCheck(t))&&(yt.attributeNameCheck instanceof RegExp&&b(yt.attributeNameCheck,e)||yt.attributeNameCheck instanceof Function&&yt.attributeNameCheck(e))||"is"===e&&yt.allowCustomizedBuiltInElements&&(yt.tagNameCheck instanceof RegExp&&b(yt.tagNameCheck,n)||yt.tagNameCheck instanceof Function&&yt.tagNameCheck(n))))return!1}else if(Ft[e]);else if(b(ht,m(n,ft,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==y(n,"data:")||!zt[t])if(kt&&!b(ut,m(n,ft,"")));else if(n)return!1;return!0},ge=function(t){return t.indexOf("-")>0},me=function(t){he("beforeSanitizeAttributes",t,null);const{attributes:e}=t;if(!e)return;const n={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:gt};let i=e.length;for(;i--;){const o=e[i],{name:a,namespaceURI:s,value:l}=o,c=Zt(a);let h="value"===a?l:v(l);if(n.attrName=c,n.attrValue=h,n.keepAttr=!0,n.forceKeepAttr=void 0,he("uponSanitizeAttribute",t,n),h=n.attrValue,n.forceKeepAttr)continue;if(le(a,t),!n.keepAttr)continue;if(!Mt&&b(/\/>/i,h)){le(a,t);continue}_t&&u([ot,at,st],t=>{h=m(h,t," ")});const p=Zt(t.nodeName);if(de(p,c,h)){if(!Lt||"id"!==c&&"name"!==c||(le(a,t),h="user-content-"+h),Z&&"object"==typeof H&&"function"==typeof H.getAttributeType)if(s);else switch(H.getAttributeType(p,c)){case"TrustedHTML":h=Z.createHTML(h);break;case"TrustedScriptURL":h=Z.createScriptURL(h)}try{s?t.setAttributeNS(s,a,h):t.setAttribute(a,h),f(r.removed)}catch(t){}}}he("afterSanitizeAttributes",t,null)},ye=function t(e){let n=null;const r=ue(e);for(he("beforeSanitizeShadowDOM",e,null);n=r.nextNode();)he("uponSanitizeShadowNode",n,null),pe(n)||(n.content instanceof c&&t(n.content),me(n));he("afterSanitizeShadowDOM",e,null)};return r.sanitize=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,i=null,o=null,s=null;if(qt=!t,qt&&(t="\x3c!--\x3e"),"string"!=typeof t&&!fe(t)){if("function"!=typeof t.toString)throw x("toString is not a function");if("string"!=typeof(t=t.toString()))throw x("dirty is not a string, aborting")}if(!r.isSupported)return t;if(Et||ee(e),r.removed=[],"string"==typeof t&&(Dt=!1),Dt){if(t.nodeName){const e=Zt(t.nodeName);if(!pt[e]||vt[e])throw x("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof I)n=ce("\x3c!----\x3e"),i=n.ownerDocument.importNode(t,!0),1===i.nodeType&&"BODY"===i.nodeName||"HTML"===i.nodeName?n=i:n.appendChild(i);else{if(!$t&&!_t&&!At&&-1===t.indexOf("<"))return Z&&Nt?Z.createHTML(t):t;if(n=ce(t),!n)return $t?null:Nt?J:""}n&&Tt&&se(n.firstChild);const l=ue(Dt?t:n);for(;o=l.nextNode();)pe(o)||(o.content instanceof c&&ye(o.content),me(o));if(Dt)return t;if($t){if(Ot)for(s=et.call(n.ownerDocument);n.firstChild;)s.appendChild(n.firstChild);else s=n;return(gt.shadowroot||gt.shadowrootmode)&&(s=rt.call(a,s,!0)),s}let f=At?n.outerHTML:n.innerHTML;return At&&pt["!doctype"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&b(Y,n.ownerDocument.doctype.name)&&(f="<!DOCTYPE "+n.ownerDocument.doctype.name+">\n"+f),_t&&u([ot,at,st],t=>{f=m(f,t," ")}),Z&&Nt?Z.createHTML(f):f},r.setConfig=function(){ee(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Et=!0},r.clearConfig=function(){Jt=null,Et=!1},r.isValidAttribute=function(t,e,n){Jt||ee({});const r=Zt(t),i=Zt(e);return de(r,i,n)},r.addHook=function(t,e){"function"==typeof e&&(it[t]=it[t]||[],h(it[t],e))},r.removeHook=function(t){if(it[t])return f(it[t])},r.removeHooks=function(t){it[t]&&(it[t]=[])},r.removeAllHooks=function(){it={}},r}()}()}(it)),it.exports}window.DOMPurify||(window.DOMPurify=ot().default||ot());var at="object"==typeof self&&self.self===self&&self||"object"==typeof na&&na.global===na&&na||Function("return this")()||{},st=Object.prototype,lt=st.toString,ct=st.hasOwnProperty,ut=Array.isArray,ft=Object.keys,ht=!{toString:null}.propertyIsEnumerable("toString"),pt=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function dt(t){return t instanceof dt?t:this instanceof dt?void(this._wrapped=t):new dt(t)}function gt(t){return t}function mt(t){var e="[object "+t+"]";return function(t){return lt.call(t)===e}}dt.VERSION="1.13.6",dt.prototype.value=function(){return this._wrapped},dt.prototype.valueOf=dt.prototype.toJSON=dt.prototype.value,dt.prototype.toString=function(){return String(this._wrapped)};var yt=mt("Function"),vt=at.document&&at.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof vt&&(yt=function(t){return"function"==typeof t||!1});var bt=yt;function xt(t){var e=typeof t;return"function"===e||"object"===e&&!!t}var wt=ut||mt("Array");function kt(t,e){return null!=t&&ct.call(t,e)}function Mt(t){if(!xt(t))return[];if(ft)return ft(t);var e=[];for(var n in t)kt(t,n)&&e.push(n);return ht&&function(t,e){e=function(t){for(var e={},n=t.length,r=0;r<n;++r)e[t[r]]=!0;return{contains:function(t){return!0===e[t]},push:function(n){return e[n]=!0,t.push(n)}}}(e);var n=pt.length,r=t.constructor,i=bt(r)&&r.prototype||st,o="constructor";for(kt(t,o)&&!e.contains(o)&&e.push(o);n--;)(o=pt[n])in t&&t[o]!==i[o]&&!e.contains(o)&&e.push(o)}(t,e),e}var _t,At=(_t=Mt,function(t){var e=arguments.length;if(e<2||null==t)return t;for(var n=1;n<e;n++)for(var r=arguments[n],i=_t(r),o=i.length,a=0;a<o;a++){var s=i[a];t[s]=r[s]}return t});function Et(t){return dt.toPath(t)}function Tt(t,e){for(var n=(e=Et(e)).length,r=0;r<n;r++){var i=e[r];if(!kt(t,i))return!1;t=t[i]}return!!n}function $t(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1}dt.toPath=function(t){return wt(t)?t:[t]},dt.iteratee=function(t,e){return function(t,e,n){return null==t?gt:bt(t)?function(t,e,n){return void 0===e?t:function(){return t.apply(e,arguments)}}(t,e):xt(t)&&!wt(t)?function(t){return t=At({},t),function(e){return function(t,e){var n=Mt(e),r=n.length;if(null==t)return!r;for(var i=Object(t),o=0;o<r;o++){var a=n[o];if(e[a]!==i[a]||!(a in i))return!1}return!0}(e,t)}}(t):function(t){return t=Et(t),function(e){return function(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0}(e,t)}}(t)}(t,e)};var Ot=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];function Nt(t){var e,n;if(function(t){return isFinite(t)&&t===Math.round(t)}(t)){if(t<=0)return isFinite(t)?1/0:NaN;if(t>171)return 1/0;for(var r=t-2,i=t-1;r>1;)i*=r,r--;return 0===i&&(i=1),i}if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*Nt(1-t));if(t>=171.35)return 1/0;if(t>85){var o=t*t,a=o*t,s=a*t,l=s*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*o)-139/(51840*a)-571/(2488320*s)+163879/(209018880*l)+5246819/(75246796800*l*t))}--t,n=Ot[0];for(var c=1;c<Ot.length;++c)n+=Ot[c]/(t+c);return e=t+4.7421875+.5,Math.sqrt(2*Math.PI)*Math.pow(e,t+.5)*Math.exp(-e)*n}var St=Object.freeze({__proto__:null,add:function(t,e){return Number(t)+Number(e)},sub:function(t,e){return t-e},mul:function(t,e){return t*e},div:function(t,e){return t/e},mod:function(t,e){return t%e},concat:function(t,e){return Array.isArray(t)&&Array.isArray(e)?t.concat(e):""+t+e},equal:function(t,e){return t===e},notEqual:function(t,e){return t!==e},greaterThan:function(t,e){return t>e},lessThan:function(t,e){return t<e},greaterThanEqual:function(t,e){return t>=e},lessThanEqual:function(t,e){return t<=e},andOperator:function(t,e){return Boolean(t&&e)},orOperator:function(t,e){return Boolean(t||e)},inOperator:function(t,e){return $t(e,t)},sinh:function(t){return(Math.exp(t)-Math.exp(-t))/2},cosh:function(t){return(Math.exp(t)+Math.exp(-t))/2},tanh:function(t){return t===1/0?1:t===-1/0?-1:(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))},asinh:function(t){return t===-1/0?t:Math.log(t+Math.sqrt(t*t+1))},acosh:function(t){return Math.log(t+Math.sqrt(t*t-1))},atanh:function(t){return Math.log((1+t)/(1-t))/2},log10:function(t){return Math.log(t)*Math.LOG10E},neg:function(t){return-t},not:function(t){return!t},trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)},random:function(t){return Math.random()*(t||1)},factorial:function(t){return Nt(t+1)},gamma:Nt,stringOrArrayLength:function(t){return Array.isArray(t)?t.length:String(t).length},hypot:function(){for(var t=0,e=0,n=0;n<arguments.length;n++){var r,i=Math.abs(arguments[n]);e<i?(t=t*(r=e/i)*r+1,e=i):t+=i>0?(r=i/e)*r:i}return e===1/0?1/0:e*Math.sqrt(t)},condition:function(t,e,n){return t?e:n},roundTo:function(t,e){return void 0===e||0==+e?Math.round(t):(t=+t,e=-+e,isNaN(t)||"number"!=typeof e||e%1!=0?NaN:(t=t.toString().split("e"),+((t=(t=Math.round(+(t[0]+"e"+(t[1]?+t[1]-e:-e)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]+e:e))))},setVar:function(t,e,n){return n&&(n[t]=e),e},arrayIndex:function(t,e){return t[0|e]},max:function(t){return 1===arguments.length&&Array.isArray(t)?Math.max.apply(Math,t):Math.max.apply(Math,arguments)},min:function(t){return 1===arguments.length&&Array.isArray(t)?Math.min.apply(Math,t):Math.min.apply(Math,arguments)},arrayMap:function(t,e){if("function"!=typeof t)throw new Error("First argument to map is not a function");if(!Array.isArray(e))throw new Error("Second argument to map is not an array");return e.map((function(e,n){return t(e,n)}))},arrayFold:function(t,e,n){if("function"!=typeof t)throw new Error("First argument to fold is not a function");if(!Array.isArray(n))throw new Error("Second argument to fold is not an array");return n.reduce((function(e,n,r){return t(e,n,r)}),e)},arrayFilter:function(t,e){if("function"!=typeof t)throw new Error("First argument to filter is not a function");if(!Array.isArray(e))throw new Error("Second argument to filter is not an array");return e.filter((function(e,n){return t(e,n)}))},stringOrArrayIndexOf:function(t,e){if(!Array.isArray(e)&&"string"!=typeof e)throw new Error("Second argument to indexOf is not a string or array");return e.indexOf(t)},arrayJoin:function(t,e){if(!Array.isArray(e))throw new Error("Second argument to join is not an array");return e.join(t)},sign:function(t){return(t>0)-(t<0)||+t},cbrt:function(t){return t<0?-Math.pow(-t,1/3):Math.pow(t,1/3)},expm1:function(t){return Math.exp(t)-1},log1p:function(t){return Math.log(1+t)},log2:function(t){return Math.log(t)/Math.LN2},sum:function(t){if(!Array.isArray(t))throw new Error("Sum argument is not an array");return t.reduce((function(t,e){return t+Number(e)}),0)}}),Lt="INUMBER",Ct="IOP1",Dt="IOP2",Rt="IOP3",It="IVAR",Pt="IVARNAME",zt="IFUNCALL",jt="IFUNDEF",Ft="IEXPR",Ut="IEXPREVAL",Bt="IMEMBER",Ht="IENDSTATEMENT",Yt="IARRAY";function Wt(t,e){this.type=t,this.value=null!=e?e:0}function qt(t){return new Wt(Ct,t)}function Gt(t){return new Wt(Dt,t)}function Vt(t,e,n){var r,i,o,a,s,l,c=[];if(Kt(t))return Zt(t,n);for(var u=t.length,f=0;f<u;f++){var h=t[f],p=h.type;if(p===Lt||p===Pt)c.push(h.value);else if(p===Dt)i=c.pop(),r=c.pop(),"and"===h.value?c.push(!!r&&!!Vt(i,e,n)):"or"===h.value?c.push(!!r||!!Vt(i,e,n)):"="===h.value?(a=e.binaryOps[h.value],c.push(a(r,Vt(i,e,n),n))):(a=e.binaryOps[h.value],c.push(a(Zt(r,n),Zt(i,n))));else if(p===Rt)o=c.pop(),i=c.pop(),r=c.pop(),"?"===h.value?c.push(Vt(r?i:o,e,n)):(a=e.ternaryOps[h.value],c.push(a(Zt(r,n),Zt(i,n),Zt(o,n))));else if(p===It){if(/^__proto__|prototype|constructor$/.test(h.value))throw new Error("prototype access detected");if(h.value in e.functions)c.push(e.functions[h.value]);else if(h.value in e.unaryOps&&e.parser.isOperatorEnabled(h.value))c.push(e.unaryOps[h.value]);else{var d=n[h.value];if(void 0===d)throw new Error("undefined variable: "+h.value);c.push(d)}}else if(p===Ct)r=c.pop(),a=e.unaryOps[h.value],c.push(a(Zt(r,n)));else if(p===zt){for(l=h.value,s=[];l-- >0;)s.unshift(Zt(c.pop(),n));if(!(a=c.pop()).apply||!a.call)throw new Error(a+" is not a function");c.push(a.apply(void 0,s))}else if(p===jt)c.push(function(){for(var t=c.pop(),r=[],i=h.value;i-- >0;)r.unshift(c.pop());var o=c.pop(),a=function(){for(var i=Object.assign({},n),o=0,a=r.length;o<a;o++)i[r[o]]=arguments[o];return Vt(t,e,i)};return Object.defineProperty(a,"name",{value:o,writable:!1}),n[o]=a,a}());else if(p===Ft)c.push(Xt(h,e));else if(p===Ut)c.push(h);else if(p===Bt)r=c.pop(),c.push(r[h.value]);else if(p===Ht)c.pop();else{if(p!==Yt)throw new Error("invalid Expression");for(l=h.value,s=[];l-- >0;)s.unshift(c.pop());c.push(s)}}if(c.length>1)throw new Error("invalid Expression (parity)");return 0===c[0]?0:Zt(c[0],n)}function Xt(t,e,n){return Kt(t)?t:{type:Ut,value:function(n){return Vt(t.value,e,n)}}}function Kt(t){return t&&t.type===Ut}function Zt(t,e){return Kt(t)?t.value(e):t}Wt.prototype.toString=function(){switch(this.type){case Lt:case Ct:case Dt:case Rt:case It:case Pt:case Ht:return this.value;case zt:return"CALL "+this.value;case jt:return"DEF "+this.value;case Yt:return"ARRAY "+this.value;case Bt:return"."+this.value;default:return"Invalid Instruction"}};var Jt="TEOF",Qt="TOP",te="TNUMBER",ee="TSTRING",ne="TPAREN",re="TBRACKET",ie="TCOMMA",oe="TNAME",ae="TSEMICOLON";function se(t,e,n){this.type=t,this.value=e,this.index=n}function le(t,e){this.pos=0,this.current=null,this.unaryOps=t.unaryOps,this.binaryOps=t.binaryOps,this.ternaryOps=t.ternaryOps,this.consts=t.consts,this.expression=e,this.savedPosition=0,this.savedCurrent=null,this.options=t.options,this.parser=t}se.prototype.toString=function(){return this.type+": "+this.value},le.prototype.newToken=function(t,e,n){return new se(t,e,null!=n?n:this.pos)},le.prototype.save=function(){this.savedPosition=this.pos,this.savedCurrent=this.current},le.prototype.restore=function(){this.pos=this.savedPosition,this.current=this.savedCurrent},le.prototype.next=function(){return this.pos>=this.expression.length?this.newToken(Jt,"EOF"):this.isWhitespace()||this.isComment()?this.next():this.isRadixInteger()||this.isNumber()||this.isOperator()||this.isString()||this.isParen()||this.isBracket()||this.isComma()||this.isSemicolon()||this.isNamedOp()||this.isConst()||this.isName()?this.current:void this.parseError('Unknown character "'+this.expression.charAt(this.pos)+'"')},le.prototype.isString=function(){var t=!1,e=this.pos,n=this.expression.charAt(e);if("'"===n||'"'===n)for(var r=this.expression.indexOf(n,e+1);r>=0&&this.pos<this.expression.length;){if(this.pos=r+1,"\\"!==this.expression.charAt(r-1)){var i=this.expression.substring(e+1,r);this.current=this.newToken(ee,this.unescape(i),e),t=!0;break}r=this.expression.indexOf(n,r+1)}return t},le.prototype.isParen=function(){var t=this.expression.charAt(this.pos);return("("===t||")"===t)&&(this.current=this.newToken(ne,t),this.pos++,!0)},le.prototype.isBracket=function(){var t=this.expression.charAt(this.pos);return!("["!==t&&"]"!==t||!this.isOperatorEnabled("[")||(this.current=this.newToken(re,t),this.pos++,0))},le.prototype.isComma=function(){return","===this.expression.charAt(this.pos)&&(this.current=this.newToken(ie,","),this.pos++,!0)},le.prototype.isSemicolon=function(){return";"===this.expression.charAt(this.pos)&&(this.current=this.newToken(ae,";"),this.pos++,!0)},le.prototype.isConst=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||"_"!==n&&"."!==n&&(n<"0"||n>"9")))break}if(e>t){var r=this.expression.substring(t,e);if(r in this.consts)return this.current=this.newToken(te,this.consts[r]),this.pos+=r.length,!0}return!1},le.prototype.isNamedOp=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||"_"!==n&&(n<"0"||n>"9")))break}if(e>t){var r=this.expression.substring(t,e);if(this.isOperatorEnabled(r)&&(r in this.binaryOps||r in this.unaryOps||r in this.ternaryOps))return this.current=this.newToken(Qt,r),this.pos+=r.length,!0}return!1},le.prototype.isName=function(){for(var t=this.pos,e=t,n=!1;e<this.expression.length;e++){var r=this.expression.charAt(e);if(r.toUpperCase()===r.toLowerCase()){if(e===this.pos&&("$"===r||"_"===r)){"_"===r&&(n=!0);continue}if(e===this.pos||!n||"_"!==r&&(r<"0"||r>"9"))break}else n=!0}if(n){var i=this.expression.substring(t,e);return this.current=this.newToken(oe,i),this.pos+=i.length,!0}return!1},le.prototype.isWhitespace=function(){for(var t=!1,e=this.expression.charAt(this.pos);!(" "!==e&&"\t"!==e&&"\n"!==e&&"\r"!==e||(t=!0,this.pos++,this.pos>=this.expression.length));)e=this.expression.charAt(this.pos);return t};var ce=/^[0-9a-f]{4}$/i;function ue(t,e,n){this.parser=t,this.tokens=e,this.current=null,this.nextToken=null,this.next(),this.savedCurrent=null,this.savedNextToken=null,this.allowMemberAccess=!1!==n.allowMemberAccess,this.restrictMemberAccess=new Set(n.restrictMemberAccess||[])}le.prototype.unescape=function(t){var e=t.indexOf("\\");if(e<0)return t;for(var n=t.substring(0,e);e>=0;){var r=t.charAt(++e);switch(r){case"'":n+="'";break;case'"':n+='"';break;case"\\":n+="\\";break;case"/":n+="/";break;case"b":n+="\b";break;case"f":n+="\f";break;case"n":n+="\n";break;case"r":n+="\r";break;case"t":n+="\t";break;case"u":var i=t.substring(e+1,e+5);ce.test(i)||this.parseError("Illegal escape sequence: \\u"+i),n+=String.fromCharCode(parseInt(i,16)),e+=4;break;default:throw this.parseError('Illegal escape sequence: "\\'+r+'"')}++e;var o=t.indexOf("\\",e);n+=t.substring(e,o<0?t.length:o),e=o}return n},le.prototype.isComment=function(){return"/"===this.expression.charAt(this.pos)&&"*"===this.expression.charAt(this.pos+1)&&(this.pos=this.expression.indexOf("*/",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0)},le.prototype.isRadixInteger=function(){var t,e,n=this.pos;if(n>=this.expression.length-2||"0"!==this.expression.charAt(n))return!1;if(++n,"x"===this.expression.charAt(n))t=16,e=/^[0-9a-f]$/i,++n;else{if("b"!==this.expression.charAt(n))return!1;t=2,e=/^[01]$/i,++n}for(var r=!1,i=n;n<this.expression.length;){var o=this.expression.charAt(n);if(!e.test(o))break;n++,r=!0}return r&&(this.current=this.newToken(te,parseInt(this.expression.substring(i,n),t)),this.pos=n),r},le.prototype.isNumber=function(){for(var t,e=!1,n=this.pos,r=n,i=n,o=!1,a=!1;n<this.expression.length&&((t=this.expression.charAt(n))>="0"&&t<="9"||!o&&"."===t);)"."===t?o=!0:a=!0,n++,e=a;if(e&&(i=n),"e"===t||"E"===t){n++;for(var s=!0,l=!1;n<this.expression.length;){if(t=this.expression.charAt(n),!s||"+"!==t&&"-"!==t){if(!(t>="0"&&t<="9"))break;l=!0,s=!1}else s=!1;n++}l||(n=i)}return e?(this.current=this.newToken(te,parseFloat(this.expression.substring(r,n))),this.pos=n):this.pos=i,e},le.prototype.isOperator=function(){var t=this.pos,e=this.expression.charAt(this.pos);if("+"===e||"-"===e||"*"===e||"/"===e||"%"===e||"^"===e||"?"===e||":"===e||"."===e)this.current=this.newToken(Qt,e);else if("â"===e||"â¢"===e)this.current=this.newToken(Qt,"*");else if(">"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Qt,">="),this.pos++):this.current=this.newToken(Qt,">");else if("<"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Qt,"<="),this.pos++):this.current=this.newToken(Qt,"<");else if("|"===e){if("|"!==this.expression.charAt(this.pos+1))return!1;this.current=this.newToken(Qt,"||"),this.pos++}else if("="===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Qt,"=="),this.pos++):this.current=this.newToken(Qt,e);else{if("!"!==e)return!1;"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Qt,"!="),this.pos++):this.current=this.newToken(Qt,e)}return this.pos++,!!this.isOperatorEnabled(this.current.value)||(this.pos=t,!1)},le.prototype.isOperatorEnabled=function(t){return this.parser.isOperatorEnabled(t)},le.prototype.getCoordinates=function(){var t,e=0,n=-1;do{e++,t=this.pos-n,n=this.expression.indexOf("\n",n+1)}while(n>=0&&n<this.pos);return{line:e,column:t}},le.prototype.parseError=function(t){var e=this.getCoordinates();throw new Error("parse error ["+e.line+":"+e.column+"]: "+t)},ue.prototype.next=function(){return this.current=this.nextToken,this.nextToken=this.tokens.next()},ue.prototype.tokenMatches=function(t,e){return void 0===e||(Array.isArray(e)?$t(e,t.value):"function"==typeof e?e(t):t.value===e)},ue.prototype.save=function(){this.savedCurrent=this.current,this.savedNextToken=this.nextToken,this.tokens.save()},ue.prototype.restore=function(){this.tokens.restore(),this.current=this.savedCurrent,this.nextToken=this.savedNextToken},ue.prototype.accept=function(t,e){return!(this.nextToken.type!==t||!this.tokenMatches(this.nextToken,e)||(this.next(),0))},ue.prototype.expect=function(t,e){if(!this.accept(t,e)){var n=this.tokens.getCoordinates();throw new Error("parse error ["+n.line+":"+n.column+"]: Expected "+(e||t))}},ue.prototype.parseAtom=function(t){var e=this.tokens.unaryOps;if(this.accept(oe)||this.accept(Qt,(function(t){return t.value in e})))t.push(new Wt(It,this.current.value));else if(this.accept(te))t.push(new Wt(Lt,this.current.value));else if(this.accept(ee))t.push(new Wt(Lt,this.current.value));else if(this.accept(ne,"("))this.parseExpression(t),this.expect(ne,")");else{if(!this.accept(re,"["))throw new Error("unexpected "+this.nextToken);if(this.accept(re,"]"))t.push(new Wt(Yt,0));else{var n=this.parseArrayList(t);t.push(new Wt(Yt,n))}}},ue.prototype.parseExpression=function(t){var e=[];this.parseUntilEndStatement(t,e)||(this.parseVariableAssignmentExpression(e),this.parseUntilEndStatement(t,e)||this.pushExpression(t,e))},ue.prototype.pushExpression=function(t,e){for(var n=0,r=e.length;n<r;n++)t.push(e[n])},ue.prototype.parseUntilEndStatement=function(t,e){return!!this.accept(ae)&&(!this.nextToken||this.nextToken.type===Jt||this.nextToken.type===ne&&")"===this.nextToken.value||e.push(new Wt(Ht)),this.nextToken.type!==Jt&&this.parseExpression(e),t.push(new Wt(Ft,e)),!0)},ue.prototype.parseArrayList=function(t){for(var e=0;!this.accept(re,"]");)for(this.parseExpression(t),++e;this.accept(ie);)this.parseExpression(t),++e;return e},ue.prototype.parseVariableAssignmentExpression=function(t){for(this.parseConditionalExpression(t);this.accept(Qt,"=");){var e=t.pop(),n=[],r=t.length-1;if(e.type!==zt){if(e.type!==It&&e.type!==Bt)throw new Error("expected variable for assignment");this.parseVariableAssignmentExpression(n),t.push(new Wt(Pt,e.value)),t.push(new Wt(Ft,n)),t.push(Gt("="))}else{if(!this.tokens.isOperatorEnabled("()="))throw new Error("function definition is not permitted");for(var i=0,o=e.value+1;i<o;i++){var a=r-i;t[a].type===It&&(t[a]=new Wt(Pt,t[a].value))}this.parseVariableAssignmentExpression(n),t.push(new Wt(Ft,n)),t.push(new Wt(jt,e.value))}}},ue.prototype.parseConditionalExpression=function(t){for(this.parseOrExpression(t);this.accept(Qt,"?");){var e=[],n=[];this.parseConditionalExpression(e),this.expect(Qt,":"),this.parseConditionalExpression(n),t.push(new Wt(Ft,e)),t.push(new Wt(Ft,n)),t.push(new Wt(Rt,"?"))}},ue.prototype.parseOrExpression=function(t){for(this.parseAndExpression(t);this.accept(Qt,"or");){var e=[];this.parseAndExpression(e),t.push(new Wt(Ft,e)),t.push(Gt("or"))}},ue.prototype.parseAndExpression=function(t){for(this.parseComparison(t);this.accept(Qt,"and");){var e=[];this.parseComparison(e),t.push(new Wt(Ft,e)),t.push(Gt("and"))}};var fe=["==","!=","<","<=",">=",">","in"];ue.prototype.parseComparison=function(t){for(this.parseAddSub(t);this.accept(Qt,fe);){var e=this.current;this.parseAddSub(t),t.push(Gt(e.value))}};var he=["+","-","||"];ue.prototype.parseAddSub=function(t){for(this.parseTerm(t);this.accept(Qt,he);){var e=this.current;this.parseTerm(t),t.push(Gt(e.value))}};var pe=["*","/","%"];ue.prototype.parseTerm=function(t){for(this.parseFactor(t);this.accept(Qt,pe);){var e=this.current;this.parseFactor(t),t.push(Gt(e.value))}},ue.prototype.parseFactor=function(t){var e=this.tokens.unaryOps;if(this.save(),this.accept(Qt,(function(t){return t.value in e}))){if("-"!==this.current.value&&"+"!==this.current.value){if(this.nextToken.type===ne&&"("===this.nextToken.value)return this.restore(),void this.parseExponential(t);if(this.nextToken.type===ae||this.nextToken.type===ie||this.nextToken.type===Jt||this.nextToken.type===ne&&")"===this.nextToken.value)return this.restore(),void this.parseAtom(t)}var n=this.current;this.parseFactor(t),t.push(qt(n.value))}else this.parseExponential(t)},ue.prototype.parseExponential=function(t){for(this.parsePostfixExpression(t);this.accept(Qt,"^");)this.parseFactor(t),t.push(Gt("^"))},ue.prototype.parsePostfixExpression=function(t){for(this.parseFunctionCall(t);this.accept(Qt,"!");)t.push(qt("!"))},ue.prototype.parseFunctionCall=function(t){var e=this.tokens.unaryOps;if(this.accept(Qt,(function(t){return t.value in e}))){var n=this.current;this.parseAtom(t),t.push(qt(n.value))}else for(this.parseMemberExpression(t);this.accept(ne,"(");)if(this.accept(ne,")"))t.push(new Wt(zt,0));else{var r=this.parseArgumentList(t);t.push(new Wt(zt,r))}},ue.prototype.parseArgumentList=function(t){for(var e=0;!this.accept(ne,")");)for(this.parseExpression(t),++e;this.accept(ie);)this.parseExpression(t),++e;return e},ue.prototype.parseMemberExpression=function(t){for(this.parseAtom(t);this.accept(Qt,".")||this.accept(re,"[");){var e=this.current;if("."===e.value){if(!this.allowMemberAccess)throw new Error('unexpected ".", member access is not permitted');if(this.restrictMemberAccess.has(this.nextToken.value))throw new Error('access to member "'+this.nextToken.value+'" is not permitted');this.expect(oe),t.push(new Wt(Bt,this.current.value))}else{if("["!==e.value)throw new Error("unexpected symbol: "+e.value);if(!this.tokens.isOperatorEnabled("["))throw new Error('unexpected "[]", arrays are disabled');this.parseExpression(t),this.expect(re,"]"),t.push(Gt("["))}}};const{add:de,sub:ge,mul:me,div:ye,mod:ve,equal:be,notEqual:xe,greaterThan:we,lessThan:ke,greaterThanEqual:Me,lessThanEqual:_e,andOperator:Ae,orOperator:Ee,log10:Te,neg:$e,not:Oe,trunc:Ne,random:Se,stringOrArrayLength:Le,condition:Ce,roundTo:De,arrayIndex:Re,max:Ie,min:Pe,sum:ze,arrayMap:je,arrayFold:Fe,arrayFilter:Ue,sign:Be,log1p:He,log2:Ye}=St;function We(t,e){this.tokens=t,this.parser=e,this.unaryOps=e.unaryOps,this.binaryOps=e.binaryOps,this.ternaryOps=e.ternaryOps,this.functions=e.functions}function qe(t){return t.trim()}We.prototype.evaluate=function(t){return t=t||{},Vt(this.tokens,this,t)},We.prototype.variables=function(){return(this.tokens||[]).filter(t=>"IVAR"===t.type).map(t=>t.value)};const Ge=new Set(["__proto__","prototype","constructor"]);function Ve(t){this.options=t||{},this.unaryOps={SIN:Math.sin,COS:Math.cos,TAN:Math.tan,ASIN:Math.asin,ACOS:Math.acos,ATAN:Math.atan,SQRT:Math.sqrt,LOG:Math.log,LOG2:Math.log2||Ye,LN:Math.log,LOG10:Math.log10||Te,LG:Math.log10||Te,LOG1P:Math.log1p||He,ABS:Math.abs,CEIL:Math.ceil,FLOOR:Math.floor,ISNULL:t=>null===t,TRUNC:Math.trunc||Ne,"-":$e,"+":Number,EXP:Math.exp,NOT:Oe,LENGTH:Le,"!":Oe,SIGN:Math.sign||Be,TEXT:t=>e(t)?t.toISOString():String(t),NUMBER:Number},this.binaryOps={"+":de,"-":ge,"*":me,"/":ye,"%":ve,"^":Math.pow,"==":be,"!=":xe,">":we,"<":ke,">=":Me,"<=":_e,and:Ae,or:Ee,in:(t,e)=>Array.isArray(e)?e.includes(t):String(e).includes(t),"[":Re},this.ternaryOps={"?":Ce};const e=t=>t instanceof Date&&!isNaN(t),n=t=>{if(e(t))return t;try{const n=new Date(t);return e(n)?n:null}catch(t){return null}};function r(t){return(1===arguments.length&&Array.isArray(t)?t:Array.from(arguments)).slice(0).filter(t=>!isNaN(t)&&Number.isFinite(t))}let i=/\w*/g,o=/\w\S*/g;const a=/[\\^$*+?.()|[\]{}]/g;try{i=new RegExp("\\p{L}*","ug"),o=new RegExp("[\\p{L}\\p{N}]\\S*","ug")}catch(t){}this.functions={IF:Ce,RANDOM:Se,MIN(){const t=r.apply(this,arguments);return Pe(t)},MAX(){return Ie(r.apply(this,arguments))},SUM(){return ze(r.apply(this,arguments))},MEAN(){const t=r.apply(this,arguments);return ze(t)/t.length},MEDIAN(){const t=r.apply(this,arguments).sort((t,e)=>t-e),e=Math.floor(t.length/2);return t.length%2==1?t[e]:.5*(t[e-1]+t[e])},POW:Math.pow,ATAN2:Math.atan2,ROUND:De,CONCAT(){return Array.from(arguments).join("")},TRIM:qe,SUBSTR:(t,e,n)=>t.substr(e,n),REPLACE:(t,e,n)=>t.replace(new RegExp(String(e).replace(a,"\\$&"),"g"),n),REPLACE_REGEX:(t,e,n)=>t.replace(new RegExp(e,"g"),n),SPLIT:(t,e)=>String(t).split(e),LOWER:t=>String(t).toLowerCase(),UPPER:t=>String(t).toUpperCase(),PROPER:t=>String(t).replace(i,t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()),TITLE:t=>String(t).replace(o,t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()),SORT(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(Ge.has(n))throw new Error("Invalid key");if(!Array.isArray(t))throw new Error("First argument to SORT is not an array");return t.slice(0).sort((t,r)=>((t="string"==typeof n?t[n]:"function"==typeof n?n(t):t)>(r="string"==typeof n?r[n]:"function"==typeof n?n(r):r)?1:t<r?-1:0)*(e?1:-1))},SLICE(t,e,n){if(!Array.isArray(t))throw new Error("First argument to SLICE is not an array");return t.slice(e,n)},JOIN(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!Array.isArray(t))throw new Error("First argument to JOIN is not an array");return n?[t.slice(0,t.length-1).join(e),t[t.length-1]].join(n):t.join(e)},MAP:je,FOLD:Fe,FILTER:Ue,PLUCK(t,e){if(Ge.has(e))throw new Error("Invalid key");if(!Array.isArray(t))throw new Error("First argument to PLUCK is not an array");return t.map(t=>Object.prototype.hasOwnProperty.call(t,e)?t[e]:null)},INDEXOF:(t,e)=>(Array.isArray(t)||(t=String(t)),t.indexOf(e)),FIND(t,e){if(!Array.isArray(t))throw new Error("First argument to FIND is not an array");if("function"!=typeof e)throw new Error("Second argument to FIND is not a function");const n=t.length;for(let r=0;r<n;r++)if(e(t[r]))return t[r];return null},RANGE(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i},EVERY(t,e){if(!Array.isArray(t))throw new Error("First argument to EVERY is not an array");if("function"!=typeof e)throw new Error("Second argument to EVERY is not a function");const n=t.length;let r=!0;for(let i=0;i<n;i++)if(r=r&&e(t[i]),!r)return!1;return!0},SOME(t,e){if(!Array.isArray(t))throw new Error("First argument to SOME is not an array");if("function"!=typeof e)throw new Error("Second argument to SOME is not a function");const n=t.length;let r=!1;for(let i=0;i<n;i++)if(r=r||e(t[i]),r)return!0;return!1},DATE(){return arguments.length>1&&(arguments[1]=arguments[1]-1),new Date(...arguments)},YEAR:t=>(t=n(t))?t.getFullYear():null,MONTH:t=>(t=n(t))?t.getMonth()+1:null,DAY:t=>(t=n(t))?t.getDate():null,WEEKDAY:t=>(t=n(t))?t.getDay():null,HOURS:t=>(t=n(t))?t.getHours():null,MINUTES:t=>(t=n(t))?t.getMinutes():null,SECONDS:t=>(t=n(t))?t.getSeconds():null,DATEDIFF:(t,e)=>(t=n(t),e=n(e),t&&e?(e.getTime()-t.getTime())/864e5:null),TIMEDIFF:(t,e)=>(t=n(t),e=n(e),t&&e?(e.getTime()-t.getTime())/1e3:null)},this.unaryOps.LOWER=this.functions.LOWER,this.unaryOps.UPPER=this.functions.UPPER,this.unaryOps.PROPER=this.functions.PROPER,this.unaryOps.TITLE=this.functions.TITLE,this.unaryOps.TRIM=this.functions.TRIM,this.unaryOps.YEAR=this.functions.YEAR,this.unaryOps.MONTH=this.functions.MONTH,this.unaryOps.DAY=this.functions.DAY,this.unaryOps.WEEKDAY=this.functions.WEEKDAY,this.unaryOps.HOURS=this.functions.HOURS,this.unaryOps.MINUTES=this.functions.MINUTES,this.unaryOps.SECONDS=this.functions.SECONDS,this.consts={E:Math.E,PI:Math.PI,TRUE:!0,FALSE:!1,NA:Number.NaN,NULL:Number.NaN}}Ve.prototype.parse=function(t){var e=[],n=new ue(this,new le(this,t),{allowMemberAccess:!0,restrictMemberAccess:Ge});return n.parseExpression(e),n.expect(Jt,"EOF"),new We(e,this)},Ve.prototype.evaluate=function(t,e){return this.parse(t).evaluate(e)};var Xe=new Ve;Ve.parse=function(t){return Xe.parse(t)},Ve.evaluate=function(t,e){return Xe.parse(t).evaluate(e)},Ve.keywords=["ABS","ACOS","ACOSH","and","ASIN","ASINH","ATAN","ATAN2","ATANH","CBRT","CEIL","CONCAT","COS","COSH","DATEDIFF","DAY","E","EVERY","EXP","EXPM1","FIND","FLOOR","HOURS","IF","in","INDEXOF","ISNULL","JOIN","LENGTH","LN","LOG","LOG10","LOG1P","LOG2","LOWER","MAP","MAX","MEAN","MEDIAN","MIN","MINUTES","MONTH","NOT","NOT","or","PI","PLUCK","POW","PROPER","RANDOM","RANGE","REPLACE","REPLACE_REGEX","ROUND","SECONDS","SIGN","SIN","SINH","SLICE","SOME","SORT","SPLIT","SQRT","SUBSTR","SUM","TAN","TANH","TIMEDIFF","TITLE","TRIM","TRUNC","UPPER","WEEKDAY","YEAR"];var Ke={"+":"add","-":"subtract","*":"multiply","/":"divide","%":"remainder","^":"power","!":"factorial","<":"comparison",">":"comparison","<=":"comparison",">=":"comparison","==":"comparison","!=":"comparison","||":"concatenate",AND:"logical",OR:"logical",NOT:"logical",IN:"logical","?":"conditional",":":"conditional","=":"assignment","[":"array","()=":"fndef"};Ve.prototype.isOperatorEnabled=function(t){var e=function(t){return Object.prototype.hasOwnProperty.call(Ke,t)?Ke[t]:t}(t),n=this.options.operators||{};return!(e in n)||!!n[e]};const Ze="%UNDEFINED%",Je={color:{prop:"color"},fontWeight:{prop:"font-weight"},fontStretch:{prop:"font-stretch"},typeface:{prop:"font-family"},textTransform:{prop:"text-transform"},letterSpacing:{tsf:t=>tn(t),prop:"letter-spacing"},fontSize:{prop:"font-size",tsf:t=>tn(t)},lineHeight:{prop:"line-height",tsf:t=>{return(e=t)===Ze?e:e>3?"".concat(e,"px"):String(e);var e}},underlined:{prop:"text-decoration",tsf:t=>t?"underline":"none"},cursive:{prop:"font-style",tsf:t=>t?"italic":"normal"}};function Qe(t,e){const n=function(t){let e="";for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(const n of t)e+=n+(r.length?r.shift():"");return e.split("\n").filter(t=>t).filter(t=>!t.includes(Ze)).join("\n")};function r(t,e,n){return et(t,e,void 0===n?Ze:n)}return{getProp:(t,n)=>r(e,t,n),getObjProp:r,typography:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.entries(Je).filter(n=>{let[r]=n;return Tt(t,r)||Tt(e,r)}).map(n=>{let[r,{prop:i,tsf:o=gt}]=n;return"".concat(i,": ").concat(o(et(t,r,e[r])),";")}).join("\n")},css:function(){return t.css(n(...arguments))},cssTemplate:n,UNDEFINED_STYLE:Ze}}function tn(t){return t===Ze?t:Number.isFinite(t)?"".concat(t,"px"):t}const en=Math.cos,nn=Math.sin,rn=Math.sqrt,on=Math.PI,an=2*on,sn=Math.PI,ln=2*sn,cn=1e-6,un=ln-cn;function fn(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}class hn{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?fn:function(t){let e=Math.floor(t);if(!(e>=0))throw new Error("invalid digits: ".concat(t));if(e>15)return fn;const n=10**e;return function(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=Math.round(arguments[e]*n)/n+t[e]}}(t)}moveTo(t,e){this._append(Hu||(Hu=Bu(["M",",",""])),this._x0=this._x1=+t,this._y0=this._y1=+e)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(Yu||(Yu=Bu(["Z"]))))}lineTo(t,e){this._append(Wu||(Wu=Bu(["L",",",""])),this._x1=+t,this._y1=+e)}quadraticCurveTo(t,e,n,r){this._append(qu||(qu=Bu(["Q",",",",",",",""])),+t,+e,this._x1=+n,this._y1=+r)}bezierCurveTo(t,e,n,r,i,o){this._append(Gu||(Gu=Bu(["C",",",",",",",",",",",""])),+t,+e,+n,+r,this._x1=+i,this._y1=+o)}arcTo(t,e,n,r,i){if(t=+t,e=+e,n=+n,r=+r,(i=+i)<0)throw new Error("negative radius: ".concat(i));let o=this._x1,a=this._y1,s=n-t,l=r-e,c=o-t,u=a-e,f=c*c+u*u;if(null===this._x1)this._append(Vu||(Vu=Bu(["M",",",""])),this._x1=t,this._y1=e);else if(f>cn)if(Math.abs(u*s-l*c)>cn&&i){let h=n-o,p=r-a,d=s*s+l*l,g=h*h+p*p,m=Math.sqrt(d),y=Math.sqrt(f),v=i*Math.tan((sn-Math.acos((d+f-g)/(2*m*y)))/2),b=v/y,x=v/m;Math.abs(b-1)>cn&&this._append(Xu||(Xu=Bu(["L",",",""])),t+b*c,e+b*u),this._append(Ku||(Ku=Bu(["A",",",",0,0,",",",",",""])),i,i,+(u*h>c*p),this._x1=t+x*s,this._y1=e+x*l)}else this._append(Zu||(Zu=Bu(["L",",",""])),this._x1=t,this._y1=e)}arc(t,e,n,r,i,o){if(t=+t,e=+e,o=!!o,(n=+n)<0)throw new Error("negative radius: ".concat(n));let a=n*Math.cos(r),s=n*Math.sin(r),l=t+a,c=e+s,u=1^o,f=o?r-i:i-r;null===this._x1?this._append(Ju||(Ju=Bu(["M",",",""])),l,c):(Math.abs(this._x1-l)>cn||Math.abs(this._y1-c)>cn)&&this._append(Qu||(Qu=Bu(["L",",",""])),l,c),n&&(f<0&&(f=f%ln+ln),f>un?this._append(tf||(tf=Bu(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,u,t-a,e-s,n,n,u,this._x1=l,this._y1=c):f>cn&&this._append(ef||(ef=Bu(["A",",",",0,",",",",",",",""])),n,n,+(f>=sn),u,this._x1=t+n*Math.cos(i),this._y1=e+n*Math.sin(i)))}rect(t,e,n,r){this._append(nf||(nf=Bu(["M",",","h","v","h","Z"])),this._x0=this._x1=+t,this._y0=this._y1=+e,n=+n,+r,-n)}toString(){return this._}}function pn(){return new hn}pn.prototype=hn.prototype;var dn={draw(t,e){const n=rn(e/on);t.moveTo(n,0),t.arc(0,0,n,0,an)}},gn={draw(t,e){const n=rn(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},mn={draw(t,e){const n=rn(e),r=-n/2;t.rect(r,r,n,n)}};const yn=nn(on/10)/nn(7*on/10),vn=nn(an/10)*yn,bn=-en(an/10)*yn;var xn={draw(t,e){const n=rn(.8908130915292852*e),r=vn*n,i=bn*n;t.moveTo(0,-n),t.lineTo(r,i);for(let e=1;e<5;++e){const o=an*e/5,a=en(o),s=nn(o);t.lineTo(s*n,-a*n),t.lineTo(a*r-s*i,s*r+a*i)}t.closePath()}};const wn=-.5,kn=rn(3)/2,Mn=1/rn(12),_n=3*(Mn/2+1);var An={draw(t,e){const n=rn(e/_n),r=n/2,i=n*Mn,o=r,a=n*Mn+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(wn*r-kn*i,kn*r+wn*i),t.lineTo(wn*o-kn*a,kn*o+wn*a),t.lineTo(wn*s-kn*l,kn*s+wn*l),t.lineTo(wn*r+kn*i,wn*i-kn*r),t.lineTo(wn*o+kn*a,wn*a-kn*o),t.lineTo(wn*s+kn*l,wn*l-kn*s),t.closePath()}},En=Object.assign(Object.assign({name:"circle"},dn),{bbox(t){const e=2*Math.sqrt(t/Math.PI);return{width:e,height:e}}}),Tn=Object.assign(Object.assign({name:"cross"},gn),{bbox(t){const e=3*Math.sqrt(t/5);return{width:e,height:e}},verticalAlign:"bottom"}),$n={name:"diamond",draw(t,e){const n=.7071*Math.sqrt(e);t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()},bbox(t){const e=.7071*Math.sqrt(t);return{width:2*e,height:2*e}}},On={name:"hexagon",draw(t,e){const n=.56416*Math.sqrt(e),r=1.09963*n,i=r/2,o=.952436*n;t.moveTo(0,-r),t.lineTo(o,-i),t.lineTo(o,i),t.lineTo(0,r),t.lineTo(-o,i),t.lineTo(-o,-i),t.lineTo(0,-r)},bbox(t){const e=.56416*Math.sqrt(t);return{width:.952436*e*2,height:1.09963*e*2}}},Nn={name:"marker",draw(t,e){const n=.691*Math.sqrt(e);t.moveTo(.004066*n,-2.757056*n),t.bezierCurveTo(-.462735*n,-2.757056*n,-.841214*n,-2.378661*n,-.841214*n,-1.9117769999999998*n),t.bezierCurveTo(-.841214*n,-1.7810229999999998*n,-.811497*n,-1.6570359999999997*n,-.75842*n,-1.54659*n),t.bezierCurveTo(-.75545*n,-1.5403129999999998*n,.004064999999999985*n,0,.004064999999999985*n,0),t.lineTo(.757389*n,-1.5280999999999998*n),t.bezierCurveTo(.8161619999999999*n,-1.6431679999999997*n,.849344*n,-1.7735959999999997*n,.849344*n,-1.9117769999999998*n),t.bezierCurveTo(.849344*n,-2.378662*n,.470949*n,-2.757056*n,.0040639999999999565*n,-2.757056*n),t.moveTo(.507167*n,n*(-1.404609-.507167)),t.arc(0,n*(-1.404609-.507167),.507167*n,0,2*Math.PI)},bbox(t){const e=Math.sqrt(t);return{width:1.1682*e,height:1.9051*e}},baseline:1},Sn={name:"spike",draw(t,e){t.moveTo(-2,0),t.lineTo(0,-e),t.lineTo(2,0)},bbox:t=>({width:4,height:t}),baseline:1},Ln=Object.assign(Object.assign({name:"square"},mn),{bbox(t){const e=Math.sqrt(t);return{width:e,height:e}}}),Cn=Object.assign(Object.assign({name:"star"},xn),{bbox(t){const e=Math.sqrt(t);return{width:1.7897*e,height:1.7048*e}},baseline:.55}),Dn=Object.assign(Object.assign({name:"wye"},An),{bbox(t){const e=Math.sqrt(t);return{width:1.472*e,height:1.2763*e}},baseline:.455});const Rn=Math.sqrt(3);var In={name:"triangleUp",draw(t,e){const n=-Math.sqrt(e/(3*Rn));t.moveTo(0,2*n),t.lineTo(-Rn*n,-n),t.lineTo(Rn*n,-n),t.closePath()},bbox(t){const e=Math.sqrt(t/(3*Rn));return{width:Rn*e*2,height:3*e}},baseline:.66667};const Pn=Math.sqrt(3);var zn={name:"triangleDown",draw(t,e){const n=-Math.sqrt(e/(3*Pn));t.moveTo(0,2*-n),t.lineTo(-Pn*n,n),t.lineTo(Pn*n,n),t.closePath()},bbox(t){const e=Math.sqrt(t/(3*Pn));return{width:Pn*e*2,height:3*e}},baseline:.3333},jn=Object.freeze({__proto__:null,symbolCircle:En,symbolCross:Tn,symbolDiamond:$n,symbolHexagon:On,symbolMarker:Nn,symbolSpike:Sn,symbolSquare:Ln,symbolStar:Cn,symbolTriangleDown:zn,symbolTriangleUp:In,symbolWye:Dn}),Fn=/\s/,Un=/^\s+/,Bn="object"==typeof rt&&rt&&rt.Object===Object&&rt,Hn="object"==typeof self&&self&&self.Object===Object&&self,Yn=(Bn||Hn||Function("return this")()).Symbol,Wn=Yn,qn=Object.prototype,Gn=qn.hasOwnProperty,Vn=qn.toString,Xn=Wn?Wn.toStringTag:void 0,Kn=Object.prototype.toString,Zn=Yn?Yn.toStringTag:void 0,Jn=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},Qn=/^[-+]0x[0-9a-f]+$/i,tr=/^0b[01]+$/i,er=/^0o[0-7]+$/i,nr=parseInt,rr=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return null!=t&&"object"==typeof t}(t)&&"[object Symbol]"==function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Zn&&Zn in Object(t)?function(t){var e=Gn.call(t,Xn),n=t[Xn];try{t[Xn]=void 0;var r=!0}catch(t){}var i=Vn.call(t);return r&&(e?t[Xn]=n:delete t[Xn]),i}(t):function(t){return Kn.call(t)}(t)}(t)}(t))return NaN;if(Jn(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Jn(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=function(t){return t?t.slice(0,function(t){for(var e=t.length;e--&&Fn.test(t.charAt(e)););return e}(t)+1).replace(Un,""):t}(t);var n=tr.test(t);return n||er.test(t)?nr(t.slice(2),n?2:8):Qn.test(t)?NaN:+t},ir=function(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}((function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=rr(n))==n?n:0),void 0!==e&&(e=(e=rr(e))==e?e:0),function(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}(rr(t),e,n)}));function or(t){let e;function n(t,e){return t[12]?sr:ar}let r=n(t),i=r(t);return{c(){i.c(),e=m()},m(t,n){i.m(t,n),u(t,e,n)},p(t,o){r===(r=n(t))&&i?i.p(t,o):(i.d(1),i=r(t),i&&(i.c(),i.m(e.parentNode,e)))},d(t){i.d(t),t&&f(e)}}}function ar(t){let e,n;return{c(){e=p("div"),v(e,"class",n="legend-color buffer ".concat(t[32])),x(e,"width",tn((t[10]?t[10]:t[19])+t[1].size)),x(e,"height",tn(t[17]+t[1].size)),x(e,"background",t[1].color),x(e,"margin-left",t[0]?tn(t[27]):null),x(e,"margin-right",t[0]?null:tn(t[27])),x(e,"position","absolute"),x(e,"z-index","0"),x(e,"right",t[0]?tn(-t[1].size/2):null),x(e,"left",t[0]?null:tn(-t[1].size/2)),x(e,"top","calc(60% - ".concat(t[17]/2+t[1].size,"px)"))},m(t,n){u(t,e,n)},p(t,r){2&r[1]&&n!==(n="legend-color buffer ".concat(t[32]))&&v(e,"class",n),525314&r[0]&&x(e,"width",tn((t[10]?t[10]:t[19])+t[1].size)),131074&r[0]&&x(e,"height",tn(t[17]+t[1].size)),2&r[0]&&x(e,"background",t[1].color),134217729&r[0]&&x(e,"margin-left",t[0]?tn(t[27]):null),134217729&r[0]&&x(e,"margin-right",t[0]?null:tn(t[27])),3&r[0]&&x(e,"right",t[0]?tn(-t[1].size/2):null),3&r[0]&&x(e,"left",t[0]?null:tn(-t[1].size/2)),131074&r[0]&&x(e,"top","calc(60% - ".concat(t[17]/2+t[1].size,"px)"))},d(t){t&&f(e)}}}function sr(t){let e,n,r,i=t[12].strokeWidth>0&&lr(t),o=t[12].symbol&&cr(t);return{c(){e=d("svg"),i&&i.c(),n=m(),o&&o.c(),v(e,"class",r="legend-color buffer ".concat(t[32])),x(e,"width",tn(t[19])),x(e,"height",tn(t[17])),x(e,"margin-left",t[0]?tn(t[27]):null),x(e,"margin-right",t[0]?null:tn(t[27])),x(e,"position","absolute"),x(e,"z-index","0"),x(e,"right",t[0]?tn(-t[1].size/2):null),x(e,"left",t[0]?null:tn(-t[1].size/2)),x(e,"top","calc(60% - ".concat(t[17]/2+t[1].size,"px)"))},m(t,r){u(t,e,r),i&&i.m(e,null),c(e,n),o&&o.m(e,null)},p(t,a){t[12].strokeWidth>0?i?i.p(t,a):(i=lr(t),i.c(),i.m(e,n)):i&&(i.d(1),i=null),t[12].symbol?o?o.p(t,a):(o=cr(t),o.c(),o.m(e,null)):o&&(o.d(1),o=null),2&a[1]&&r!==(r="legend-color buffer ".concat(t[32]))&&v(e,"class",r),524288&a[0]&&x(e,"width",tn(t[19])),131072&a[0]&&x(e,"height",tn(t[17])),134217729&a[0]&&x(e,"margin-left",t[0]?tn(t[27]):null),134217729&a[0]&&x(e,"margin-right",t[0]?null:tn(t[27])),3&a[0]&&x(e,"right",t[0]?tn(-t[1].size/2):null),3&a[0]&&x(e,"left",t[0]?null:tn(-t[1].size/2)),131074&a[0]&&x(e,"top","calc(60% - ".concat(t[17]/2+t[1].size,"px)"))},d(t){t&&f(e),i&&i.d(),o&&o.d()}}}function lr(t){let e,n,r,i,o,a,s;return{c(){e=d("line"),v(e,"x1",n=t[23][0].x+(t[0]?-t[1].size:0)),v(e,"y1",r=t[23][0].y+(t[18]?t[1].size:t[1].size/4)),v(e,"x2",i=t[23][1].x+(t[0]?0:t[1].size)),v(e,"y2",o=t[23][1].y+t[1].size/4),v(e,"stroke",a=t[1].color),v(e,"stroke-width",s=t[12].strokeWidth+t[1].size),v(e,"stroke-linecap",t[20])},m(t,n){u(t,e,n)},p(t,l){8388611&l[0]&&n!==(n=t[23][0].x+(t[0]?-t[1].size:0))&&v(e,"x1",n),8650754&l[0]&&r!==(r=t[23][0].y+(t[18]?t[1].size:t[1].size/4))&&v(e,"y1",r),8388611&l[0]&&i!==(i=t[23][1].x+(t[0]?0:t[1].size))&&v(e,"x2",i),8388610&l[0]&&o!==(o=t[23][1].y+t[1].size/4)&&v(e,"y2",o),2&l[0]&&a!==(a=t[1].color)&&v(e,"stroke",a),4098&l[0]&&s!==(s=t[12].strokeWidth+t[1].size)&&v(e,"stroke-width",s),1048576&l[0]&&v(e,"stroke-linecap",t[20])},d(t){t&&f(e)}}}function cr(t){let e,n,r,i,o;return{c(){e=d("path"),v(e,"class","symbol"),v(e,"transform",n="translate("+(t[16].x+.5*t[1].size*(t[0]?-1:1))+", "+t[16].y+")"),v(e,"d",t[24]),v(e,"fill",r=t[1].color),v(e,"stroke",i=t[1].color),v(e,"stroke-width",o=t[1].size)},m(t,n){u(t,e,n)},p(t,a){65539&a[0]&&n!==(n="translate("+(t[16].x+.5*t[1].size*(t[0]?-1:1))+", "+t[16].y+")")&&v(e,"transform",n),16777216&a[0]&&v(e,"d",t[24]),2&a[0]&&r!==(r=t[1].color)&&v(e,"fill",r),2&a[0]&&i!==(i=t[1].color)&&v(e,"stroke",i),2&a[0]&&o!==(o=t[1].size)&&v(e,"stroke-width",o)},d(t){t&&f(e)}}}function ur(t){let e,n,r,i=t[5]&&pr(t);return{c(){e=p("div"),i&&i.c(),r=m(),v(e,"class",n="legend-color ".concat(t[32])),x(e,"width",tn(t[10]||t[19])),x(e,"height",tn(t[17])),x(e,"margin-left",t[0]?tn(t[27]):null),x(e,"margin-right",t[0]?null:tn(t[27])),x(e,"background",t[7]),x(e,"mix-blend-mode",t[5]?"screen":null)},m(t,n){u(t,e,n),i&&i.m(t,n),u(t,r,n)},p(t,o){2&o[1]&&n!==(n="legend-color ".concat(t[32]))&&v(e,"class",n),525312&o[0]&&x(e,"width",tn(t[10]||t[19])),131072&o[0]&&x(e,"height",tn(t[17])),134217729&o[0]&&x(e,"margin-left",t[0]?tn(t[27]):null),134217729&o[0]&&x(e,"margin-right",t[0]?null:tn(t[27])),128&o[0]&&x(e,"background",t[7]),32&o[0]&&x(e,"mix-blend-mode",t[5]?"screen":null),t[5]?i?i.p(t,o):(i=pr(t),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},d(t){t&&f(e),i&&i.d(t),t&&f(r)}}}function fr(t){let e,n,r=t[12].strokeWidth>0&&dr(t),i=t[12].symbol&&gr(t);return{c(){e=d("svg"),r&&r.c(),n=m(),i&&i.c(),v(e,"class","legend-color"),x(e,"width",tn(t[19])),x(e,"height",tn(t[17])),x(e,"margin-left",t[0]?tn(t[27]):null),x(e,"margin-right",t[0]?null:tn(t[27]))},m(t,o){u(t,e,o),r&&r.m(e,null),c(e,n),i&&i.m(e,null)},p(t,o){t[12].strokeWidth>0?r?r.p(t,o):(r=dr(t),r.c(),r.m(e,n)):r&&(r.d(1),r=null),t[12].symbol?i?i.p(t,o):(i=gr(t),i.c(),i.m(e,null)):i&&(i.d(1),i=null),524288&o[0]&&x(e,"width",tn(t[19])),131072&o[0]&&x(e,"height",tn(t[17])),134217729&o[0]&&x(e,"margin-left",t[0]?tn(t[27]):null),134217729&o[0]&&x(e,"margin-right",t[0]?null:tn(t[27]))},d(t){t&&f(e),r&&r.d(),i&&i.d()}}}function hr(t){let e,n,r,i,o,a,s,l,h,p,g,m;return{c(){e=d("svg"),n=d("defs"),r=d("pattern"),i=d("line"),p=d("rect"),v(i,"x1",o=t[29]/2),v(i,"y1","0"),v(i,"x2",a=t[29]/2),v(i,"y2",t[29]),v(i,"stroke",t[7]),v(i,"stroke-width",s=t[11].strokeWidth),v(r,"id",l="color-legend-fill-pattern-".concat(t[2])),v(r,"patternTransform",h="rotate(".concat(180-(t[30]||0)," 0 0)")),v(r,"patternUnits","userSpaceOnUse"),v(r,"width",t[29]),v(r,"height",t[29]),v(p,"width",g=t[10]||t[19]),v(p,"height",t[17]),v(p,"fill",m="url(#color-legend-fill-pattern-".concat(t[2],")")),v(p,"rx",t[22]),v(p,"ry",t[22]),v(e,"class","legend-color"),x(e,"width",tn(t[10]||t[19])),x(e,"height",tn(t[17])),x(e,"margin-left",t[0]?tn(t[27]):null),x(e,"margin-right",t[0]?null:tn(t[27]))},m(t,o){u(t,e,o),c(e,n),c(n,r),c(r,i),c(e,p)},p(t,n){536870912&n[0]&&o!==(o=t[29]/2)&&v(i,"x1",o),536870912&n[0]&&a!==(a=t[29]/2)&&v(i,"x2",a),536870912&n[0]&&v(i,"y2",t[29]),128&n[0]&&v(i,"stroke",t[7]),2048&n[0]&&s!==(s=t[11].strokeWidth)&&v(i,"stroke-width",s),4&n[0]&&l!==(l="color-legend-fill-pattern-".concat(t[2]))&&v(r,"id",l),1073741824&n[0]&&h!==(h="rotate(".concat(180-(t[30]||0)," 0 0)"))&&v(r,"patternTransform",h),536870912&n[0]&&v(r,"width",t[29]),536870912&n[0]&&v(r,"height",t[29]),525312&n[0]&&g!==(g=t[10]||t[19])&&v(p,"width",g),131072&n[0]&&v(p,"height",t[17]),4&n[0]&&m!==(m="url(#color-legend-fill-pattern-".concat(t[2],")"))&&v(p,"fill",m),4194304&n[0]&&v(p,"rx",t[22]),4194304&n[0]&&v(p,"ry",t[22]),525312&n[0]&&x(e,"width",tn(t[10]||t[19])),131072&n[0]&&x(e,"height",tn(t[17])),134217729&n[0]&&x(e,"margin-left",t[0]?tn(t[27]):null),134217729&n[0]&&x(e,"margin-right",t[0]?null:tn(t[27]))},d(t){t&&f(e)}}}function pr(t){let e,n;return{c(){e=p("div"),v(e,"class",n="legend-color blend-multiply-background ".concat(t[32])),x(e,"width",tn(t[10]||t[19])),x(e,"height",tn(t[17])),x(e,"margin-left",t[0]?null:tn(-(t[10]||t[19])-t[27])),x(e,"margin-right",t[0]?tn(-(t[10]||t[19])-t[27]):null),x(e,"background",t[6]),x(e,"position","relative"),x(e,"z-index","-1")},m(t,n){u(t,e,n)},p(t,r){2&r[1]&&n!==(n="legend-color blend-multiply-background ".concat(t[32]))&&v(e,"class",n),525312&r[0]&&x(e,"width",tn(t[10]||t[19])),131072&r[0]&&x(e,"height",tn(t[17])),134743041&r[0]&&x(e,"margin-left",t[0]?null:tn(-(t[10]||t[19])-t[27])),134743041&r[0]&&x(e,"margin-right",t[0]?tn(-(t[10]||t[19])-t[27]):null),64&r[0]&&x(e,"background",t[6])},d(t){t&&f(e)}}}function dr(t){let e,n,r,i,o,a,s;return{c(){e=d("line"),v(e,"x1",n=t[23][0].x),v(e,"y1",r=t[23][0].y),v(e,"x2",i=t[23][1].x),v(e,"y2",o=t[23][1].y),v(e,"stroke",t[7]),v(e,"stroke-width",a=t[12].strokeWidth),v(e,"stroke-dasharray",s=t[12].dashArray),v(e,"stroke-linecap",t[20])},m(t,n){u(t,e,n)},p(t,l){8388608&l[0]&&n!==(n=t[23][0].x)&&v(e,"x1",n),8388608&l[0]&&r!==(r=t[23][0].y)&&v(e,"y1",r),8388608&l[0]&&i!==(i=t[23][1].x)&&v(e,"x2",i),8388608&l[0]&&o!==(o=t[23][1].y)&&v(e,"y2",o),128&l[0]&&v(e,"stroke",t[7]),4096&l[0]&&a!==(a=t[12].strokeWidth)&&v(e,"stroke-width",a),4096&l[0]&&s!==(s=t[12].dashArray)&&v(e,"stroke-dasharray",s),1048576&l[0]&&v(e,"stroke-linecap",t[20])},d(t){t&&f(e)}}}function gr(t){let e,n,r,i,o,a;return{c(){var s;e=d("path"),v(e,"class","symbol"),v(e,"transform",n="translate("+t[16].x+", "+t[16].y+")"),v(e,"d",t[24]),v(e,"fill",r="hollow"===t[25]?null===(s=t[3].colors)||void 0===s?void 0:s.background:t[7]),v(e,"stroke",i="hollow"===t[25]?t[7]:null),v(e,"stroke-width",o="hollow"===t[25]?t[12].strokeWidth:null),v(e,"opacity",a=t[12].symbol.opacity)},m(t,n){u(t,e,n)},p(t,s){var l;65536&s[0]&&n!==(n="translate("+t[16].x+", "+t[16].y+")")&&v(e,"transform",n),16777216&s[0]&&v(e,"d",t[24]),33554568&s[0]&&r!==(r="hollow"===t[25]?null===(l=t[3].colors)||void 0===l?void 0:l.background:t[7])&&v(e,"fill",r),33554560&s[0]&&i!==(i="hollow"===t[25]?t[7]:null)&&v(e,"stroke",i),33558528&s[0]&&o!==(o="hollow"===t[25]?t[12].strokeWidth:null)&&v(e,"stroke-width",o),4096&s[0]&&a!==(a=t[12].symbol.opacity)&&v(e,"opacity",a)},d(t){t&&f(e)}}}function mr(t){let n,r,i,a,s,l,h,d=t[4](t[21])+"",g=t[4](t[31])+"",b=t[1]&&or(t);function k(t,e){return t[11]?hr:t[12]&&(t[12].strokeWidth>0||t[12].symbol)?fr:ur}let M=k(t),_=M(t);return{c(){n=p("div"),r=p("div"),b&&b.c(),i=m(),_.c(),a=p("div"),s=p("div"),v(a,"class","legend-label"),x(a,"text-shadow",t[1]?t[1].textShadow:null),x(a,"color",t[26]),v(r,"class","legend-no-break"),v(s,"class","legend-label"),x(s,"text-shadow",t[1]?t[1].textShadow:null),x(s,"color",t[26]),v(n,"class","legend-swatch"),v(n,"aria-hidden","true"),w(n,"highlight",t[15]),x(n,"margin-left",t[0]?tn(t[28]):null),x(n,"margin-right",t[0]?null:tn(t[28]))},m(e,o){u(e,n,o),c(n,r),b&&b.m(r,null),c(r,i),_.m(r,null),c(r,a),a.innerHTML=d,c(n,s),s.innerHTML=g,l||(h=[y(n,"mouseenter",t[42]),y(n,"click",t[43]),y(n,"mousemove",t[40]),y(n,"mouseleave",t[41])],l=!0)},p(t,e){t[1]?b?b.p(t,e):(b=or(t),b.c(),b.m(r,i)):b&&(b.d(1),b=null),M===(M=k(t))&&_?_.p(t,e):(_.d(1),_=M(t),_&&(_.c(),_.m(r,a))),2097168&e[0]&&d!==(d=t[4](t[21])+"")&&(a.innerHTML=d),2&e[0]&&x(a,"text-shadow",t[1]?t[1].textShadow:null),67108864&e[0]&&x(a,"color",t[26]),16&e[0]|1&e[1]&&g!==(g=t[4](t[31])+"")&&(s.innerHTML=g),2&e[0]&&x(s,"text-shadow",t[1]?t[1].textShadow:null),67108864&e[0]&&x(s,"color",t[26]),32768&e[0]&&w(n,"highlight",t[15]),268435457&e[0]&&x(n,"margin-left",t[0]?tn(t[28]):null),268435457&e[0]&&x(n,"margin-right",t[0]?null:tn(t[28]))},i:e,o:e,d(t){t&&f(n),b&&b.d(),_.d(),l=!1,o(h)}}}function yr(t,e,n){let r,i,o,a,s,l,c,u,f,h,p,d,g,m,y,v,b;var x;const w=_();let{rtl:k}=e,{buffer:M}=e,{id:E}=e,{themeData:T}=e,{chroma:$}=e,{purifyHtml:O}=e,{blendMultiply:N=!1}=e,{blendMultiplyBackground:S=""}=e;if(N&&!S)throw new Error("Property 'blendMultiplyBackground' missing from legend");let{color:L}=e,{label:C}=e,{key:D}=e,{width:R}=e,{pattern:I}=e,{line:P}=e,{min:z}=e,{max:j}=e,{highlight:F=!1}=e;const U={horizontal:90,vertical:0,"diagonal-up":135,"diagonal-down":45};let B,H,Y;const W={x:0,y:0};return t.$$set=t=>{"rtl"in t&&n(0,k=t.rtl),"buffer"in t&&n(1,M=t.buffer),"id"in t&&n(2,E=t.id),"themeData"in t&&n(3,T=t.themeData),"chroma"in t&&n(34,$=t.chroma),"purifyHtml"in t&&n(4,O=t.purifyHtml),"blendMultiply"in t&&n(5,N=t.blendMultiply),"blendMultiplyBackground"in t&&n(6,S=t.blendMultiplyBackground),"color"in t&&n(7,L=t.color),"label"in t&&n(8,C=t.label),"key"in t&&n(9,D=t.key),"width"in t&&n(10,R=t.width),"pattern"in t&&n(11,I=t.pattern),"line"in t&&n(12,P=t.line),"min"in t&&n(13,z=t.min),"max"in t&&n(14,j=t.max),"highlight"in t&&n(15,F=t.highlight)},t.$$.update=()=>{if(8&t.$$.dirty[0]&&n(22,r=et(T,"vis.base.legend.swatch.borderRadius")),4194304&t.$$.dirty[0]&&n(32,i="50%"===r?"dw-circle":"export-rect"),256&t.$$.dirty[0]&&n(21,o=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const e=t.trim().indexOf(" "),n=t.trim().indexOf("-");return e<0&&n<0?t:n<0||e>0&&e<n?t.slice(0,e):t.slice(0,n+1)}(C)),2097408&t.$$.dirty[0]&&n(31,a=C.slice(o.length)),2048&t.$$.dirty[0]&&n(30,s=I?U[I.type]:0),2048&t.$$.dirty[0]&&n(29,l=I?I.lineGap+I.strokeWidth:0),8&t.$$.dirty[0]&&n(28,c=et(T,"vis.base.legend.text.marginRight",10)),8&t.$$.dirty[0]&&n(27,u=et(T,"vis.base.legend.swatch.marginRight",3)),8&t.$$.dirty[0]&&n(18,y=et(T,"vis.base.legend.swatch.diagonal",!1)),266248&t.$$.dirty[0]&&n(19,f=P?et(T,"vis.d3-lines.legend.swatch.width",16):et(T,"vis.base.legend.swatch.width",et(T,"vis.base.legend.swatch.size",14))),790536&t.$$.dirty[0]&&n(17,h=P?y?f:et(T,"vis.d3-lines.legend.swatch.height",20):et(T,"vis.base.legend.swatch.height",et(T,"vis.base.legend.swatch.size",14))),8&t.$$.dirty[0]&&n(39,p=et(T,"colors.background","#ffffff")),136&t.$$.dirty[0]|264&t.$$.dirty[1]&&n(26,d=et(T,"vis.base.legend.text.useSwatchColor")&&function(t,e,n,r){const[i,o,a]=r(t).lch(),s=r(e).lch()[0];if(r.contrast(t,e)>=n)return t;const l=r.contrast("#000000",e),c=r.contrast("#ffffff",e),u=s>i&&l>=n||s<=i&&c<n;return u?f(0,i,10):f(i,100,10);function f(t,i,s){const l=.5*(t+i),c=r.lch(l,o,a),h=r.contrast(c,e);return Math.abs(h-n)<.2||!s?c.hex():h<n&&u||h>n&&!u?f(t,l,s-1):f(l,i,s-1)}}(L,p,4.5,$)),8&t.$$.dirty[0]&&n(20,g=et(T,"vis.d3-lines.legend.swatch.linecap","round")),1052672&t.$$.dirty[0]&&n(38,m=P&&"butt"!==g?.5*P.strokeWidth:0),4096&t.$$.dirty[0]|16&t.$$.dirty[1]&&n(37,v=(null==P?void 0:P.symbol)?(null===n(35,x=null==P?void 0:P.symbol)||void 0===x?void 0:x.position)||"center":null),4096&t.$$.dirty[0]&&(null==P?void 0:P.symbol)&&n(36,H=2*ir((null==P?void 0:P.symbol.size)||3.5,1,4)),921600&t.$$.dirty[0]|96&t.$$.dirty[1]&&(null==P?void 0:P.symbol)&&(n(16,W.x="left"===v?H/2+P.strokeWidth:"right"===v?f-H/2-P.strokeWidth:f/2,W),n(16,W.y=y&&"left"===v?h-H/2-P.strokeWidth:y&&"right"===v?H/2+P.strokeWidth:h/2,W)),987136&t.$$.dirty[0]|192&t.$$.dirty[1]&&n(23,B=P?[{x:"left"===v?W.x:m,y:y?"left"===v?W.y:h-m:h/2},{x:"right"===v?W.x:f-m,y:y?"right"===v?W.y:m:h/2}]:[{x:0,y:0},{x:0,y:0}]),4096&t.$$.dirty[0]|32&t.$$.dirty[1]&&(null==P?void 0:P.symbol)){const t=pn(),e=P.symbol,r=Object.values(jn).find(t=>t.name===e.shape);if(void 0===r)throw new Error("'".concat(e.shape,"' is not a valid shape"));const i=Math.pow(H/2,2)*Math.PI;r.draw(t,i),n(24,Y=t.toString())}8&t.$$.dirty[0]&&n(25,b=et(T,"vis.d3-lines.symbols.style","fill"))},[k,M,E,T,O,N,S,L,C,D,R,I,P,z,j,F,W,h,y,f,g,o,r,B,Y,b,d,u,c,l,s,a,i,w,$,x,H,v,m,p,function(e){A.call(this,t,e)},function(e){A.call(this,t,e)},()=>w("mouseenter",{key:D,label:C,color:L,min:z,max:j,value:D}),()=>w("mouseenter",{key:D,label:C,color:L,min:z,max:j,value:D})]}class vr extends X{constructor(t){super(),V(this,t,yr,mr,s,{rtl:0,buffer:1,id:2,themeData:3,chroma:34,purifyHtml:4,blendMultiply:5,blendMultiplyBackground:6,color:7,label:8,key:9,width:10,pattern:11,line:12,min:13,max:14,highlight:15},null,[-1,-1])}}function br(t,e,n){const{css:r,getProp:i,typography:o}=Qe(t,e),a="vis.base.legend.caption",s="vis.base.labels.legend",l=i("vis.base.legend.alignment"),c="below"===n;return r(rf||(rf=Bu(["\n        text-align: ",";\n        &.dir-rtl {\n            direction: rtl;\n            text-align: ",";\n        }\n\n        padding-top: ",";\n        padding-bottom: ",";\n\n        width: ",";\n        height: ",";\n\n        .legend-title {\n            position: relative;\n            margin-bottom: ",";\n        }\n        .legend-title,\n        .legend-title span {\n            ","\n        }\n        .legend-title:not(.buffer) > span {\n            position: relative;\n            z-index: 10;\n        }\n        .legend-title.buffer {\n            position: absolute;\n            top: 0;\n            width: 100%;\n            z-index: 1;\n        }\n        text:not(.buffer) {\n            fill: currentColor;\n        }\n        g.group text.label,\n        g.group text.label tspan,\n        g.swatch text,\n        g.swatch text tspan {\n            font-size: ",";\n            font-family: ",";\n        }\n    "])),l,("left"===l?"right":"right"===l?"left":null)||l,tn(c?i("vis.base.legend.padding.bottom",10):i("vis.base.legend.padding.top")),tn(c?i("vis.base.legend.padding.top"):i("vis.base.legend.padding.bottom",10)),tn(i("".concat(s,".width"))),tn(i("".concat(s,".height"))),tn(i("".concat(a,".margin.vertical"),4)),o(et(e,a),{fontWeight:700}),tn(i("vis.base.labels.legend.fontSize")),i("vis.base.labels.legend.typeface"))}function xr(t,e){const{css:n}=Qe(t,e);return n(of||(of=Bu(["\n        /* general styles */\n        svg {\n            overflow: visible;\n            display: block;\n        }\n\n        &.dir-rtl {\n            direction: rtl;\n        }\n\n        /* shared styles */\n        g.group text.label,\n        g.group text.label tspan {\n            dominant-baseline: middle;\n        }\n\n        g.swatch path.tick {\n            shape-rendering: crispEdges;\n        }\n\n        g.swatch text {\n            transition: opacity 0.15s ease-in-out;\n        }\n\n        &.vertical {\n            & g.swatch text,\n            & g.swatch text tspan {\n                text-anchor: start;\n                dominant-baseline: middle;\n            }\n\n            & g.labels text,\n            & g.labels text tspan {\n                text-anchor: start;\n            }\n\n            & .group text.label,\n            & .group text.label tspan {\n                dominant-baseline: middle;\n            }\n\n            &:not(.dir-rtl) {\n                & .group text.label,\n                & .group text.label tspan {\n                    text-anchor: end;\n                }\n            }\n\n            &.dir-rtl {\n                & .group text.label,\n                & .group text.label tspan {\n                    text-anchor: start;\n                }\n            }\n        }\n\n        &.horizontal {\n            & g.swatch text,\n            & g.swatch text tspan {\n                text-anchor: middle;\n                dominant-baseline: hanging;\n            }\n\n            & g.labels text,\n            & g.labels text tspan {\n                dominant-baseline: hanging;\n            }\n        }\n\n        & g.highlighted g.swatch {\n            & text {\n                opacity: 0.3;\n            }\n\n            & rect,\n            & path {\n                opacity: 0.2;\n            }\n\n            &.highlight {\n                & text,\n                & rect,\n                & path {\n                    opacity: 1;\n                }\n            }\n        }\n    "])))}function wr(t){let{colors:e,title:n="",format:r,swatches:i,limits:o}=t;if("function"==typeof e&&o){const[t,e]=[o[0],o[o.length-1]].map(r);return"Continuous color legend".concat(n?', titled "'.concat(n,'"'):"",", ranging from ").concat(t," to ").concat(e,".")}{if(!i||!i.length)return"";const[t,e]=[i[0].label,i[i.length-1].label].map(t=>t.replace("<","less than").replace("â¥","greater or equal than"));return"Color legend with ".concat(i.length," steps ").concat(n?', titled "'.concat(n,'"'):"",", ranging from ").concat(t," to ").concat(e,".")}}function kr(t,e){if(!t)return"";const n=t.map(t=>t.label),r=n.length<=5?"The items are ".concat(n.slice(0,-1).join(", ")," and ").concat(n[n.length-1]):"The first 3 items are ".concat(n.slice(0,2).join(", ")," and ").concat(n[2],". The last one is ").concat(n[n.length-1]);return 1===n.length?e?'Category legend titled "'.concat(e,'" with 1 item, ').concat(n[0],"."):"Category legend with 1 item, ".concat(n[0],"."):(n.length,e?"Category legend with ".concat(n.length,' items, titled "').concat(e,'". ').concat(r,"."):"Category legend with ".concat(n.length," items. ").concat(r,"."))}function Mr(t){let e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:700,r=null,i=!1,o=!0;return{set(a){let s=a;"string"!=typeof a&&(s=JSON.stringify(a)),r!==s&&(e&&clearTimeout(e),e=setTimeout(()=>{o=!1,t(a)},o?n:0)),r=s,i=!0},clear(){i&&null===r||(r=null,o=!0,e&&clearTimeout(e),t(null)),i=!0},get:()=>r}}function _r(t,e){const n="ontouchstart"in window||navigator.maxTouchPoints,r=Mr(t=>{o&&o("string"==typeof t||"number"==typeof t?t:null)},n?0:700),i=e=>{r.clear(),t(e.type)};let o;return{onMouseEnter:n=>{e&&r.set(n.detail.key),t(n.type,n.detail)},onMouseLeave:i,onClick:t=>{n&&t.target instanceof HTMLElement&&t.target.closest("#chart")&&i(new MouseEvent("mouseleave"))},onHighlight:t=>{o=t}}}function Ar(t){const e={size:5,color:t};return Object.assign(Object.assign({},e),{textStroke:"".concat(e.size,"px ").concat(e.color),textShadow:"1px 1px 0px ".concat(e.color,", 0px 1px 0px ").concat(e.color,", -1px 1px 0px ").concat(e.color,", 1px -1px 0px ").concat(e.color,", 0px -1px 0px ").concat(e.color,", -1px -1px 0px ").concat(e.color,", 1px 0px 0px ").concat(e.color,", 0px 0px 0px ").concat(e.color,", -1px 0px 0px ").concat(e.color),svgTextStyles:{fill:e.color,stroke:e.color,"stroke-width":e.size,"stroke-linejoin":"round"}})}function Er(t,e,n){const r=t.slice();return r[34]=e[n],r[36]=n,r}function Tr(t){let e,n,r=t[17],i=[];for(let e=0;e<r.length;e+=1)i[e]=$r(Er(t,r,e));const o=t=>Y(i[t],1,1,()=>{i[t]=null});return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=m()},m(t,r){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,r);u(t,e,r),n=!0},p(t,n){if(5118329&n[0]){let a;for(r=t[17],a=0;a<r.length;a+=1){const o=Er(t,r,a);i[a]?(i[a].p(o,n),H(i[a],1)):(i[a]=$r(o),i[a].c(),H(i[a],1),i[a].m(e.parentNode,e))}for(U(),a=r.length;a<i.length;a+=1)o(a);B()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)H(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)Y(i[t]);n=!1},d(t){h(i,t),t&&f(e)}}}function $r(t){let e,r;const i=[t[34],{id:"".concat(t[22],"-").concat(t[36])},{rtl:t[4]},{themeData:t[8]},{chroma:t[5]},{purifyHtml:t[6]},{buffer:t[18]},{highlight:t[0]?t[0]===t[34].key:t[3].includes(t[34].key)},{blendMultiply:t[11]},{blendMultiplyBackground:t[12]}];let o={};for(let t=0;t<i.length;t+=1)o=n(o,i[t]);return e=new vr({props:o}),e.$on("mouseenter",t[19]),{c(){W(e.$$.fragment)},m(t,n){q(e,t,n),r=!0},p(t,n){const r=4594041&n[0]?function(t,e){const n={},r={},i={$$scope:1};let o=t.length;for(;o--;){const a=t[o],s=e[o];if(s){for(const t in a)t in s||(r[t]=1);for(const t in s)i[t]||(n[t]=s[t],i[t]=1);t[o]=s}else for(const t in a)i[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}(i,[131072&n[0]&&(o=t[34],"object"==typeof o&&null!==o?o:{}),4194304&n[0]&&{id:"".concat(t[22],"-").concat(t[36])},16&n[0]&&{rtl:t[4]},256&n[0]&&{themeData:t[8]},32&n[0]&&{chroma:t[5]},64&n[0]&&{purifyHtml:t[6]},262144&n[0]&&{buffer:t[18]},131081&n[0]&&{highlight:t[0]?t[0]===t[34].key:t[3].includes(t[34].key)},2048&n[0]&&{blendMultiply:t[11]},4096&n[0]&&{blendMultiplyBackground:t[12]}]):{};var o;e.$set(r)},i(t){r||(H(e.$$.fragment,t),r=!0)},o(t){Y(e.$$.fragment,t),r=!1},d(t){G(e,t)}}}function Or(t){let e,n,r,i,o,a=t[7]&&Tr(t);return{c(){e=p("div"),a&&a.c(),v(e,"class",n=["legend-categories",t[15],t[14],t[13],t[2]?"horizontal":"vertical"].join(" ")),w(e,"highlighted",""!==t[0]||t[3].length)},m(n,s){u(n,e,s),a&&a.m(e,null),r=!0,i||(o=y(e,"mouseleave",t[20]),i=!0)},p(t,i){t[7]?a?(a.p(t,i),128&i[0]&&H(a,1)):(a=Tr(t),a.c(),H(a,1),a.m(e,null)):a&&(U(),Y(a,1,1,()=>{a=null}),B()),(!r||57348&i[0]&&n!==(n=["legend-categories",t[15],t[14],t[13],t[2]?"horizontal":"vertical"].join(" ")))&&v(e,"class",n),(!r||57357&i[0])&&w(e,"highlighted",""!==t[0]||t[3].length)},i(t){r||(H(a),r=!0)},o(t){Y(a),r=!1},d(t){t&&f(e),a&&a.d(),i=!1,o()}}}function Nr(t){let e,n,r,i;return e=new tt({props:{title:t[1],buffer:t[18],className:["category-legend",t[2]?"horizontal":"vertical",t[14],t[13],t[16]].join(" "),width:tn(t[9]),height:tn(t[10]),ariaLabel:kr(t[17],t[1]),purifyHtml:t[6],$$slots:{default:[Or]},$$scope:{ctx:t}}}),{c(){W(e.$$.fragment)},m(o,a){q(e,o,a),n=!0,r||(i=y(window,"click",t[21]),r=!0)},p(t,n){const r={};2&n[0]&&(r.title=t[1]),262144&n[0]&&(r.buffer=t[18]),90116&n[0]&&(r.className=["category-legend",t[2]?"horizontal":"vertical",t[14],t[13],t[16]].join(" ")),512&n[0]&&(r.width=tn(t[9])),1024&n[0]&&(r.height=tn(t[10])),131074&n[0]&&(r.ariaLabel=kr(t[17],t[1])),64&n[0]&&(r.purifyHtml=t[6]),457213&n[0]|64&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){G(e,t),r=!1,i()}}}function Sr(t,e,n){let r,i,o,a,s,l,c,u;var f;const h=_();let{title:p=""}=e,{horizontal:d=!0}=e,{highlight:g=!1}=e,{defaultHighlighted:m=[]}=e,{reverse:y=!1}=e,{rtl:v=!1}=e,{emotion:b}=e,{chroma:x}=e,{purifyHtml:w}=e,{swatches:k}=e,{themeData:M={}}=e,{width:A="100%"}=e,{height:E="auto"}=e,{position:T="above"}=e,{buffer:$=!1}=e,{blendMultiply:O=!1}=e,{blendMultiplyBackground:N=""}=e,{highlightedKey:S=""}=e,{highlightedValue:L=null}=e;const{onMouseEnter:C,onMouseLeave:D,onClick:R,onHighlight:I}=_r(h,g);I(t=>{n(0,S=t||""),""===S&&n(23,L=null)});const P=Math.random().toString().replace(".","");return t.$$set=t=>{"title"in t&&n(1,p=t.title),"horizontal"in t&&n(2,d=t.horizontal),"highlight"in t&&n(24,g=t.highlight),"defaultHighlighted"in t&&n(3,m=t.defaultHighlighted),"reverse"in t&&n(25,y=t.reverse),"rtl"in t&&n(4,v=t.rtl),"emotion"in t&&n(26,b=t.emotion),"chroma"in t&&n(5,x=t.chroma),"purifyHtml"in t&&n(6,w=t.purifyHtml),"swatches"in t&&n(7,k=t.swatches),"themeData"in t&&n(8,M=t.themeData),"width"in t&&n(9,A=t.width),"height"in t&&n(10,E=t.height),"position"in t&&n(27,T=t.position),"buffer"in t&&n(28,$=t.buffer),"blendMultiply"in t&&n(11,O=t.blendMultiply),"blendMultiplyBackground"in t&&n(12,N=t.blendMultiplyBackground),"highlightedKey"in t&&n(0,S=t.highlightedKey),"highlightedValue"in t&&n(23,L=t.highlightedValue)},t.$$.update=()=>{256&t.$$.dirty[0]&&n(31,r=et(M,"colors.background","white")),268435456&t.$$.dirty[0]|1&t.$$.dirty[1]&&n(18,i=$&&Ar(r)),32&t.$$.dirty[0]|1&t.$$.dirty[1]&&n(30,o=x(r).lab()[0]<50),33554560&t.$$.dirty[0]&&n(17,a=y?k.slice(0).reverse():k),201326848&t.$$.dirty[0]&&n(16,s=b&&br(b,M,T)),67109120&t.$$.dirty[0]&&n(15,l=b&&function(t,e){const{css:n,getProp:r,typography:i}=Qe(t,e);return n(af||(af=Bu(["\n        line-height: 1.4;\n        ","\n\n        svg {\n            overflow: visible;\n            border-radius: ",";\n            vertical-align: middle;\n            position: relative;\n            z-index: 10;\n        }\n\n        .legend-color {\n            display: inline-block;\n            vertical-align: middle;\n            border-radius: ",";\n            position: relative;\n            z-index: 10;\n        }\n\n        &:not(.dir-rtl) .legend-color {\n            margin-right: 3px;\n        }\n        &.dir-rtl .legend-color {\n            margin-left: 3px;\n        }\n\n        .legend-no-break {\n            white-space: nowrap;\n            display: inline-block;\n            position: relative;\n        }\n\n        .legend-label {\n            display: inline;\n            white-space: normal;\n            vertical-align: middle;\n            position: relative;\n        }\n        .legend-label span {\n            position: relative;\n            z-index: 10;\n        }\n        .legend-label.buffer {\n            position: absolute;\n            right: 0;\n            z-index: 1;\n        }\n\n        .legend-swatch {\n            margin-bottom: 3px;\n            margin-bottom: ",";\n        }\n        &.horizontal:not(.dir-rtl) .legend-swatch {\n            margin-right: 10px;\n        }\n        &.horizontal.dir-rtl .legend-swatch {\n            margin-left: 10px;\n        }\n        &.horizontal .legend-swatch {\n            display: inline;\n        }\n        &.horizontal .legend-swatch .legend-color {\n            display: inline-block;\n        }\n\n        &.highlighted .legend-swatch {\n            opacity: 0.3;\n            transition: opacity 0.15s ease-in-out;\n        }\n        &.highlighted.is-dark .legend-swatch {\n            opacity: 0.4;\n        }\n        &.highlighted .legend-swatch.highlight {\n            opacity: 1;\n        }\n    "])),i(et(e,"vis.base.labels.legend")),tn(r("vis.base.legend.swatch.borderRadius")),tn(r("vis.base.legend.swatch.borderRadius")),tn(r("vis.base.legend.rowSpacing")))}(b,M)),16&t.$$.dirty[0]&&n(14,c=v?"dir-rtl":"dir-ltr"),1073741824&t.$$.dirty[0]&&n(13,u=o?"is-dark":""),545259648&t.$$.dirty[0]&&n(0,S=(null===n(29,f=k.find(t=>{if(null!==L&&t.min&&t.max)return L>=t.min&&L<t.max}))||void 0===f?void 0:f.key)||"")},[S,p,d,m,v,x,w,k,M,A,E,O,N,u,c,l,s,a,i,C,D,R,P,L,g,y,b,T,$,f,o,r]}class Lr extends X{constructor(t){super(),V(this,t,Sr,Nr,s,{title:1,horizontal:2,highlight:24,defaultHighlighted:3,reverse:25,rtl:4,emotion:26,chroma:5,purifyHtml:6,swatches:7,themeData:8,width:9,height:10,position:27,buffer:28,blendMultiply:11,blendMultiplyBackground:12,highlightedKey:0,highlightedValue:23},null,[-1,-1])}}function Cr(t,e,n){const r=t.slice();return r[63]=e[n],r}function Dr(t,e,n){const r=t.slice();return r[66]=e[n],r[68]=n,r}function Rr(t,e,n){const r=t.slice();return r[69]=e[n],r[71]=n,r}function Ir(t,e,n){const r=t.slice();return r[69]=e[n],r[71]=n,r}function Pr(t){let e,n,r,i,o,a,s,l;return{c(){e=d("g"),n=d("path"),i=d("rect"),v(n,"class","triangle"),v(n,"d",t[19]),v(n,"transform",r="translate(".concat(t[18].join(","),")")),x(n,"fill",t[24].svgTextStyles.fill),x(n,"stroke",t[24].svgTextStyles.stroke),x(n,"stroke-width",t[24].svgTextStyles["stroke-width"]),x(n,"stroke-linejoin",t[24].svgTextStyles["stroke-linejoin"]),v(e,"class","highlight"),v(e,"aria-hidden","true"),v(e,"style",t[15]),v(i,"class","buffer"),v(i,"width",o=(t[3]?t[4]:t[12])+t[24].size),v(i,"height",a=(t[3]?t[12]:t[5])+t[24].size),v(i,"x",s=-t[24].size/2),v(i,"y",l=-t[24].size/2),x(i,"fill",t[24].color),x(i,"pointer-events","none")},m(t,r){u(t,e,r),c(e,n),u(t,i,r)},p(t,c){524288&c[0]&&v(n,"d",t[19]),262144&c[0]&&r!==(r="translate(".concat(t[18].join(","),")"))&&v(n,"transform",r),16777216&c[0]&&x(n,"fill",t[24].svgTextStyles.fill),16777216&c[0]&&x(n,"stroke",t[24].svgTextStyles.stroke),16777216&c[0]&&x(n,"stroke-width",t[24].svgTextStyles["stroke-width"]),16777216&c[0]&&x(n,"stroke-linejoin",t[24].svgTextStyles["stroke-linejoin"]),32768&c[0]&&v(e,"style",t[15]),16781336&c[0]&&o!==(o=(t[3]?t[4]:t[12])+t[24].size)&&v(i,"width",o),16781352&c[0]&&a!==(a=(t[3]?t[12]:t[5])+t[24].size)&&v(i,"height",a),16777216&c[0]&&s!==(s=-t[24].size/2)&&v(i,"x",s),16777216&c[0]&&l!==(l=-t[24].size/2)&&v(i,"y",l),16777216&c[0]&&x(i,"fill",t[24].color)},d(t){t&&f(e),t&&f(i)}}}function zr(t){let e,n,r;return{c(){e=d("rect"),v(e,"width",n=t[3]?t[4]:t[12]),v(e,"height",r=t[3]?t[12]:t[5]),x(e,"fill",t[23])},m(t,n){u(t,e,n)},p(t,i){4120&i[0]&&n!==(n=t[3]?t[4]:t[12])&&v(e,"width",n),4136&i[0]&&r!==(r=t[3]?t[12]:t[5])&&v(e,"height",r),8388608&i[0]&&x(e,"fill",t[23])},d(t){t&&f(e)}}}function jr(t){let e,n,r,i=t[66],o=[];for(let e=0;e<i.length;e+=1)o[e]=Fr(Ir(t,i,e));return{c(){e=d("text");for(let t=0;t<o.length;t+=1)o[t].c();v(e,"class",n=["buffer",t[21][t[68]]].join(" ")),v(e,"transform",r="translate(".concat(t[20][t[68]],")")),x(e,"fill",t[24].svgTextStyles.fill),x(e,"stroke",t[24].svgTextStyles.stroke),x(e,"stroke-width",t[24].svgTextStyles["stroke-width"]),x(e,"stroke-linejoin",t[24].svgTextStyles["stroke-linejoin"])},m(t,n){u(t,e,n);for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,null)},p(t,a){if(512&a[0]){let n;for(i=t[66],n=0;n<i.length;n+=1){const r=Ir(t,i,n);o[n]?o[n].p(r,a):(o[n]=Fr(r),o[n].c(),o[n].m(e,null))}for(;n<o.length;n+=1)o[n].d(1);o.length=i.length}2097152&a[0]&&n!==(n=["buffer",t[21][t[68]]].join(" "))&&v(e,"class",n),1048576&a[0]&&r!==(r="translate(".concat(t[20][t[68]],")"))&&v(e,"transform",r),16777216&a[0]&&x(e,"fill",t[24].svgTextStyles.fill),16777216&a[0]&&x(e,"stroke",t[24].svgTextStyles.stroke),16777216&a[0]&&x(e,"stroke-width",t[24].svgTextStyles["stroke-width"]),16777216&a[0]&&x(e,"stroke-linejoin",t[24].svgTextStyles["stroke-linejoin"])},d(t){t&&f(e),h(o,t)}}}function Fr(t){let e,n,r=t[69]+"";return{c(){e=d("tspan"),n=g(r),v(e,"x","0"),v(e,"dy",0===t[71]?0:Gr)},m(t,r){u(t,e,r),c(e,n)},p(t,e){512&e[0]&&r!==(r=t[69]+"")&&b(n,r)},d(t){t&&f(e)}}}function Ur(t){let e,n,r=t[69]+"";return{c(){e=d("tspan"),n=g(r),v(e,"x","0"),v(e,"dy",0===t[71]?0:Gr)},m(t,r){u(t,e,r),c(e,n)},p(t,e){512&e[0]&&r!==(r=t[69]+"")&&b(n,r)},d(t){t&&f(e)}}}function Br(t){let e,n,r,i=t[0]&&t[24]&&jr(t),o=t[66],a=[];for(let e=0;e<o.length;e+=1)a[e]=Ur(Rr(t,o,e));return{c(){i&&i.c(),e=d("text");for(let t=0;t<a.length;t+=1)a[t].c();v(e,"class",n=t[21][t[68]]),v(e,"transform",r="translate(".concat(t[20][t[68]],")"))},m(t,n){i&&i.m(t,n),u(t,e,n);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(e,null)},p(t,s){if(t[0]&&t[24]?i?i.p(t,s):(i=jr(t),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),512&s[0]){let n;for(o=t[66],n=0;n<o.length;n+=1){const r=Rr(t,o,n);a[n]?a[n].p(r,s):(a[n]=Ur(r),a[n].c(),a[n].m(e,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=o.length}2097152&s[0]&&n!==(n=t[21][t[68]])&&v(e,"class",n),1048576&s[0]&&r!==(r="translate(".concat(t[20][t[68]],")"))&&v(e,"transform",r)},d(t){i&&i.d(t),t&&f(e),h(a,t)}}}function Hr(t){let e,n;return{c(){e=d("text"),n=g(t[17]),v(e,"class","buffer"),x(e,"fill",t[24].svgTextStyles.fill),x(e,"stroke",t[24].svgTextStyles.stroke),x(e,"stroke-width",t[24].svgTextStyles["stroke-width"]),x(e,"stroke-linejoin",t[24].svgTextStyles["stroke-linejoin"]),x(e,"pointer-events","none")},m(t,r){u(t,e,r),c(e,n)},p(t,r){131072&r[0]&&b(n,t[17]),16777216&r[0]&&x(e,"fill",t[24].svgTextStyles.fill),16777216&r[0]&&x(e,"stroke",t[24].svgTextStyles.stroke),16777216&r[0]&&x(e,"stroke-width",t[24].svgTextStyles["stroke-width"]),16777216&r[0]&&x(e,"stroke-linejoin",t[24].svgTextStyles["stroke-linejoin"])},d(t){t&&f(e)}}}function Yr(t){let e,n;return{c(){e=d("stop"),v(e,"offset",100*t[63]+"%"),v(e,"stop-color",n=t[31](t[63],t[2]))},m(t,n){u(t,e,n)},p(t,r){4&r[0]&&n!==(n=t[31](t[63],t[2]))&&v(e,"stop-color",n)},d(t){t&&f(e)}}}function Wr(t){let e,n,r,i,a,s,l,p,k,M,_,A,E,T,$,O,N,S,L,C,D,R,I,P=t[0]&&t[24]&&Pr(t),z=t[8]&&zr(t),j=t[9],F=[];for(let e=0;e<j.length;e+=1)F[e]=Br(Dr(t,j,e));let U=t[0]&&t[24]&&Hr(t),B=t[29],H=[];for(let e=0;e<B.length;e+=1)H[e]=Yr(Cr(t,B,e));return{c(){e=d("svg"),n=d("g"),P&&P.c(),r=m(),z&&z.c(),i=d("rect"),l=d("g");for(let t=0;t<F.length;t+=1)F[t].c();k=d("g"),M=d("path"),A=d("g"),U&&U.c(),E=d("text"),T=g(t[17]),O=d("defs"),N=d("linearGradient");for(let t=0;t<H.length;t+=1)H[t].c();v(i,"width",a=t[3]?t[4]:t[12]),v(i,"height",s=t[3]?t[12]:t[5]),x(i,"fill","url(#".concat(t[30],")")),x(i,"mix-blend-mode",t[8]?"screen":null),v(l,"class","labels"),v(l,"aria-hidden","true"),v(l,"transform",p="translate(".concat(t[22],")")),v(M,"class","triangle"),v(M,"d",t[19]),v(M,"transform",_="translate(".concat(t[18].join(","),")")),v(A,"class","text"),v(A,"transform",$="translate(".concat(t[3]?[0,t[12]+12]:[t[6]?-12:t[12]+12,0],")")),v(k,"class","highlight"),v(k,"aria-hidden","true"),v(k,"style",t[15]),w(n,"highlighted",null!==t[13]&&t[10]),v(N,"id",t[30]),v(N,"x2",S=t[3]?1:0),v(N,"y2",L=t[3]?0:1),v(e,"width",C=t[16].width),v(e,"height",D=t[16].height),w(e,"no-transition",t[14])},m(o,a){u(o,e,a),c(e,n),P&&P.m(n,null),c(n,r),z&&z.m(n,null),c(n,i),c(n,l);for(let t=0;t<F.length;t+=1)F[t]&&F[t].m(l,null);c(n,k),c(k,M),c(k,A),U&&U.m(A,null),c(A,E),c(E,T),t[53](n),c(e,O),c(O,N);for(let t=0;t<H.length;t+=1)H[t]&&H[t].m(N,null);R||(I=[y(e,"mouseenter",t[33]),y(e,"mouseleave",t[34]),y(e,"mousemove",t[35])],R=!0)},p(t,o){if(t[0]&&t[24]?P?P.p(t,o):(P=Pr(t),P.c(),P.m(n,r)):P&&(P.d(1),P=null),t[8]?z?z.p(t,o):(z=zr(t),z.c(),z.m(n,i)):z&&(z.d(1),z=null),4120&o[0]&&a!==(a=t[3]?t[4]:t[12])&&v(i,"width",a),4136&o[0]&&s!==(s=t[3]?t[12]:t[5])&&v(i,"height",s),256&o[0]&&x(i,"mix-blend-mode",t[8]?"screen":null),19923457&o[0]){let e;for(j=t[9],e=0;e<j.length;e+=1){const n=Dr(t,j,e);F[e]?F[e].p(n,o):(F[e]=Br(n),F[e].c(),F[e].m(l,null))}for(;e<F.length;e+=1)F[e].d(1);F.length=j.length}if(4194304&o[0]&&p!==(p="translate(".concat(t[22],")"))&&v(l,"transform",p),524288&o[0]&&v(M,"d",t[19]),262144&o[0]&&_!==(_="translate(".concat(t[18].join(","),")"))&&v(M,"transform",_),t[0]&&t[24]?U?U.p(t,o):(U=Hr(t),U.c(),U.m(A,E)):U&&(U.d(1),U=null),131072&o[0]&&b(T,t[17]),4168&o[0]&&$!==($="translate(".concat(t[3]?[0,t[12]+12]:[t[6]?-12:t[12]+12,0],")"))&&v(A,"transform",$),32768&o[0]&&v(k,"style",t[15]),9216&o[0]&&w(n,"highlighted",null!==t[13]&&t[10]),536870916&o[0]|1&o[1]){let e;for(B=t[29],e=0;e<B.length;e+=1){const n=Cr(t,B,e);H[e]?H[e].p(n,o):(H[e]=Yr(n),H[e].c(),H[e].m(N,null))}for(;e<H.length;e+=1)H[e].d(1);H.length=B.length}8&o[0]&&S!==(S=t[3]?1:0)&&v(N,"x2",S),8&o[0]&&L!==(L=t[3]?0:1)&&v(N,"y2",L),65536&o[0]&&C!==(C=t[16].width)&&v(e,"width",C),65536&o[0]&&D!==(D=t[16].height)&&v(e,"height",D),16384&o[0]&&w(e,"no-transition",t[14])},d(n){n&&f(e),P&&P.d(),z&&z.d(),h(F,n),U&&U.d(),t[53](null),h(H,n),R=!1,o(I)}}}function qr(t){let e,n,r,i;return e=new tt({props:{title:t[1],ariaLabel:t[25],buffer:t[24],className:["color-legend","continuous",t[3]?"horizontal":"vertical",t[6]?"dir-rtl":"dir-ltr",t[28],t[27],t[26]].join(" "),width:t[3]?tn(t[4]):void 0,purifyHtml:t[7],$$slots:{default:[Wr]},$$scope:{ctx:t}}}),{c(){W(e.$$.fragment)},m(o,a){q(e,o,a),n=!0,r||(i=y(window,"click",t[32]),r=!0)},p(t,n){const r={};2&n[0]&&(r.title=t[1]),33554432&n[0]&&(r.ariaLabel=t[25]),16777216&n[0]&&(r.buffer=t[24]),469762120&n[0]&&(r.className=["color-legend","continuous",t[3]?"horizontal":"vertical",t[6]?"dir-rtl":"dir-ltr",t[28],t[27],t[26]].join(" ")),24&n[0]&&(r.width=t[3]?tn(t[4]):void 0),128&n[0]&&(r.purifyHtml=t[7]),33554301&n[0]|2048&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){G(e,t),r=!1,i()}}}const Gr=15;function Vr(t,e,n){let r,i,o,a,s,l,c,u,f,h,p,d,g,m,y,v,b,{title:x=""}=e,{colors:w=(()=>"fff")}=e,{limits:k=[0,100]}=e,{format:M=(t=>String(+t.toFixed(2)))}=e,{labels:A}=e,{horizontal:E=!0}=e,{width:$=100}=e,{height:O=200}=e,{position:N="above"}=e,{highlight:S=!1}=e,{rtl:L=!1}=e,{reverse:D=!1}=e,{buffer:R=!1}=e,{emotion:I}=e,{purifyHtml:P}=e,{themeData:z={}}=e,{blendMultiply:j=!1}=e,{blendMultiplyBackground:F=""}=e;const U=new Promise(t=>{b=t}),B=_();let H=!1,Y=!1;const W=[...Array(17).keys()].map(t=>t/16),q="g-".concat(Math.floor(1e6*Math.random()).toString(32));function G(t){return Y?t<.5?u[0]+2*t*(u[1]-u[0]):u[1]+2*(t-.5)*(u[2]-u[1]):u[0]+t*(u[1]-u[0])}let V=[],X=!1,K=!1,{highlightedValue:Z=null}=e,J=null;const Q={x:null,y:null};let tt=null,nt=null;const{onMouseEnter:rt,onMouseLeave:it,onClick:ot,onHighlight:at}=_r(B,S);let st;at(t=>{n(10,X=null!==t)});const lt={width:100,height:100};return t.$$set=t=>{"title"in t&&n(1,x=t.title),"colors"in t&&n(2,w=t.colors),"limits"in t&&n(36,k=t.limits),"format"in t&&n(37,M=t.format),"labels"in t&&n(38,A=t.labels),"horizontal"in t&&n(3,E=t.horizontal),"width"in t&&n(4,$=t.width),"height"in t&&n(5,O=t.height),"position"in t&&n(39,N=t.position),"highlight"in t&&n(40,S=t.highlight),"rtl"in t&&n(6,L=t.rtl),"reverse"in t&&n(41,D=t.reverse),"buffer"in t&&n(0,R=t.buffer),"emotion"in t&&n(42,I=t.emotion),"purifyHtml"in t&&n(7,P=t.purifyHtml),"themeData"in t&&n(43,z=t.themeData),"blendMultiply"in t&&n(8,j=t.blendMultiply),"blendMultiplyBackground"in t&&n(44,F=t.blendMultiplyBackground),"highlightedValue"in t&&n(46,Z=t.highlightedValue)},t.$$.update=()=>{if(6400&t.$$.dirty[1]&&n(28,r=I&&br(I,z,N)),6144&t.$$.dirty[1]&&n(27,i=I&&xr(I,z)),6144&t.$$.dirty[1]&&n(26,o=I&&function(t,e){const{css:n}=Qe(t,e);return n(sf||(sf=Bu(["\n        &.vertical {\n            g.labels text,\n            g.labels text tspan {\n                &.min {\n                    dominant-baseline: hanging;\n                }\n                &.center {\n                    dominant-baseline: middle;\n                }\n                &.max {\n                    dominant-baseline: ideographic;\n                }\n            }\n        }\n        &.horizontal {\n            g.labels text,\n            g.labels text tspan {\n                &.center {\n                    text-anchor: middle;\n                }\n            }\n            &:not(.dir-rtl) g.labels text,\n            &:not(.dir-rtl) g.labels text tspan {\n                &.min {\n                    text-anchor: start;\n                }\n                &.max {\n                    text-anchor: end;\n                }\n            }\n            &.dir-rtl g.labels text,\n            &.dir-rtl g.labels text tspan {\n                &.min {\n                    text-anchor: end;\n                }\n                &.max {\n                    text-anchor: start;\n                }\n            }\n        }\n        g.highlight {\n            display: none;\n            transition: transform 0.4s cubic-bezier(1, 0, 0, 1);\n        }\n        .no-transition g.highlight {\n            transition: none;\n        }\n        .highlighted g.highlight {\n            display: block;\n            & path.triangle {\n                fill: #000;\n            }\n            & text {\n                font-size: 14px;\n            }\n        }\n        .highlighted g.labels text {\n            opacity: 0.3;\n        }\n        &.horizontal .highlighted rect {\n            cursor: text;\n        }\n        &.vertical .highlighted rect {\n            cursor: vertical-text;\n        }\n        &.horizontal g.highlight text,\n        &.horizontal g.highlight text tspan {\n            text-anchor: middle;\n            dominant-baseline: hanging;\n        }\n        &.vertical g.highlight text,\n        &.vertical g.highlight text tspan {\n            dominant-baseline: mathematical;\n        }\n    "])))}(I,z)),72&t.$$.dirty[0]|1024&t.$$.dirty[1]&&n(47,H=L||!E?!D:D),32&t.$$.dirty[1]&&n(48,Y=3===k.length&&void 0!==k[2]),6&t.$$.dirty[0]|96&t.$$.dirty[1]&&n(25,a=wr({colors:w,title:x,format:M,limits:k})),1&t.$$.dirty[0]|4096&t.$$.dirty[1]&&n(24,s=R&&Ar(et(z,"colors.background","white"))),4096&t.$$.dirty[1]&&n(12,l=et(z,"vis.base.legend.ruler.thickness",13)),4096&t.$$.dirty[1]&&n(52,c=et(z,"vis.base.legend.swatch.marginRight",3)),65568&t.$$.dirty[1]&&(u=H?[...k].reverse():[...k]),4096&t.$$.dirty[1]&&n(23,f=et(z,"colors.background","#ffffff")),65760&t.$$.dirty[1]){const t=[...A||k.map(M)];H&&t.reverse(),n(9,V=t.map(t=>[...t.split("<br>")]))}if(4168&t.$$.dirty[0]|2097152&t.$$.dirty[1]&&n(22,h=(E?[0,l+c]:[L?-c:l+c,0]).join(",")),512&t.$$.dirty[0]|131072&t.$$.dirty[1]&&n(21,p=V.map((t,e)=>0===e?"min":1===e&&Y?"center":"max")),568&t.$$.dirty[0]|131072&t.$$.dirty[1]&&n(20,d=V.map((t,e)=>(E?[$*e/(Y?2:1),0]:[0,O*e/(Y?2:1)]).join(","))),72&t.$$.dirty[0]&&n(19,g=E?"M-5,0 L 5,0 L 0,-7 Z":L?"M0,5 L7,0 L 0,-5 Z":"M0,-5 L-7,0 L 0,5 Z"),4168&t.$$.dirty[0]&&n(18,m=E?[0,l+7]:[L?-7:l+7,0]),1024&t.$$.dirty[0]|32768&t.$$.dirty[1]&&null!==Z&&(n(14,K=!X),n(10,X=!0),n(49,J=Z)),294912&t.$$.dirty[1]&&null===Z&&null!==J&&(n(14,K=!1),n(10,X=!1)),56&t.$$.dirty[0]|524288&t.$$.dirty[1]){const t=E?Q.x:Q.y;n(51,tt=null!==t?Math.min(1,Math.max(0,t/(E?$:O))):null)}if(1081344&t.$$.dirty[1]&&n(13,y=null!==Z?Z:null!==tt?G(tt):null),8192&t.$$.dirty[0]|64&t.$$.dirty[1]&&n(17,v=null!==y?M(y):""),56&t.$$.dirty[0]|1081344&t.$$.dirty[1]){const t=null!==Z?function(t){return Y?(H?t>u[1]:t<u[1])?.5*(t-u[0])/(u[1]-u[0]):.5+.5*(t-u[1])/(u[2]-u[1]):(t-u[0])/(u[1]-u[0])}(Z):null!==tt?tt:null;n(15,nt=null!==t?"transform: translate(".concat((E?[t*$,0]:[0,t*O]).map(t=>"".concat(t,"px")),")"):null)}2064&t.$$.dirty[0]&&async function(){if(!st)return;const t=R;n(0,R=!1),await C();const e=st.getBoundingClientRect();n(16,lt.height=e.height,lt),n(16,lt.width=e.width,lt),!E&&L&&st.setAttribute("transform","translate(".concat(e.width-l,",0)")),n(0,R=t),b(null)}()},[R,x,w,E,$,O,L,P,j,V,X,st,l,y,K,nt,lt,v,m,g,d,p,h,f,s,a,o,i,r,W,q,function(t,e){const n=H?1-t:t;return e(Y?n<=.5?2*n*(k[1]-k[0])+k[0]:2*(n-.5)*(k[2]-k[1])+k[1]:n*(k[1]-k[0])+k[0])},ot,function(){S&&n(14,K=!0)},function(t){S&&(n(14,K=!1),n(50,Q.x=null,Q),n(50,Q.y=null,Q),it(t))},async function(t){if(!S)return;const e=t.currentTarget.getBoundingClientRect();if(n(50,Q.x=t.clientX-e.x,Q),n(50,Q.y=t.clientY-e.y,Q),await C(),null===tt||null===y)return;const r=G(tt+(H?.05:-.05)),i=G(tt+(H?-.05:.05));rt(new CustomEvent("mouseenter",{detail:{key:y,min:r,max:i}}))},k,M,A,N,S,D,I,z,F,U,Z,H,Y,J,Q,tt,c,function(t){T[t?"unshift":"push"](()=>{st=t,n(11,st)})}]}class Xr extends X{constructor(t){super(),V(this,t,Vr,qr,s,{title:1,colors:2,limits:36,format:37,labels:38,horizontal:3,width:4,height:5,position:39,highlight:40,rtl:6,reverse:41,buffer:0,emotion:42,purifyHtml:7,themeData:43,blendMultiply:8,blendMultiplyBackground:44,rendered:45,highlightedValue:46},null,[-1,-1,-1])}get rendered(){return this.$$.ctx[45]}}function Kr(t){let e,n=t[4]&&Jr(t);return{c(){n&&n.c(),e=d("rect"),v(e,"width",t[12]),v(e,"height",t[13]),x(e,"fill",t[6]),x(e,"mix-blend-mode",t[4]?"screen":null)},m(t,r){n&&n.m(t,r),u(t,e,r)},p(t,r){t[4]?n?n.p(t,r):(n=Jr(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),4096&r[0]&&v(e,"width",t[12]),8192&r[0]&&v(e,"height",t[13]),64&r[0]&&x(e,"fill",t[6]),16&r[0]&&x(e,"mix-blend-mode",t[4]?"screen":null)},d(t){n&&n.d(t),t&&f(e)}}}function Zr(t){let e,n,r,i,o,a;return{c(){e=d("rect"),v(e,"class","buffer"),v(e,"width",n=t[12]+t[0].size),v(e,"height",r=t[13]+t[0].size),v(e,"x",i=-t[0].size/2),v(e,"y",o=-t[0].size/2),v(e,"style",a=t[14]?"opacity: 0.2 !important;":""),x(e,"fill",t[0].color)},m(t,n){u(t,e,n)},p(t,s){4097&s[0]&&n!==(n=t[12]+t[0].size)&&v(e,"width",n),8193&s[0]&&r!==(r=t[13]+t[0].size)&&v(e,"height",r),1&s[0]&&i!==(i=-t[0].size/2)&&v(e,"x",i),1&s[0]&&o!==(o=-t[0].size/2)&&v(e,"y",o),16384&s[0]&&a!==(a=t[14]?"opacity: 0.2 !important;":"")&&v(e,"style",a),(16384&s[0]||16385&s[0])&&x(e,"fill",t[0].color)},d(t){t&&f(e)}}}function Jr(t){let e;return{c(){e=d("rect"),v(e,"width",t[12]),v(e,"height",t[13]),x(e,"fill",t[5])},m(t,n){u(t,e,n)},p(t,n){4096&n[0]&&v(e,"width",t[12]),8192&n[0]&&v(e,"height",t[13]),32&n[0]&&x(e,"fill",t[5])},d(t){t&&f(e)}}}function Qr(t){let e,n;function r(t,e){return t[0]?ei:ti}let i=r(t),o=i(t),a=t[15]>0&&ni(t);return{c(){o.c(),e=m(),a&&a.c(),n=m()},m(t,r){o.m(t,r),u(t,e,r),a&&a.m(t,r),u(t,n,r)},p(t,s){i===(i=r(t))&&o?o.p(t,s):(o.d(1),o=i(t),o&&(o.c(),o.m(e.parentNode,e))),t[15]>0?a?a.p(t,s):(a=ni(t),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},d(t){o.d(t),t&&f(e),a&&a.d(t),t&&f(n)}}}function ti(t){let e,n;return{c(){e=d("text"),n=g(t[7]),v(e,"transform",t[18]),x(e,"text-anchor",t[3]?t[2]?"start":"end":""),x(e,"dominant-baseline",t[3]?"central":"")},m(r,i){u(r,e,i),c(e,n),t[36](e)},p(t,r){128&r[0]&&b(n,t[7]),262144&r[0]&&v(e,"transform",t[18]),12&r[0]&&x(e,"text-anchor",t[3]?t[2]?"start":"end":""),8&r[0]&&x(e,"dominant-baseline",t[3]?"central":"")},d(n){n&&f(e),t[36](null)}}}function ei(t){let e,n;return{c(){e=d("text"),n=g(t[7]),v(e,"transform",t[18]),x(e,"text-anchor",t[3]?t[2]?"start":"end":""),x(e,"dominant-baseline",t[3]?"central":""),x(e,"fill",t[0].svgTextStyles.fill),x(e,"stroke",t[0].svgTextStyles.stroke),x(e,"stroke-width",t[0].svgTextStyles["stroke-width"]),x(e,"stroke-linejoin",t[0].svgTextStyles["stroke-linejoin"])},m(r,i){u(r,e,i),c(e,n),t[35](e)},p(t,r){128&r[0]&&b(n,t[7]),262144&r[0]&&v(e,"transform",t[18]),12&r[0]&&x(e,"text-anchor",t[3]?t[2]?"start":"end":""),8&r[0]&&x(e,"dominant-baseline",t[3]?"central":""),1&r[0]&&x(e,"fill",t[0].svgTextStyles.fill),1&r[0]&&x(e,"stroke",t[0].svgTextStyles.stroke),1&r[0]&&x(e,"stroke-width",t[0].svgTextStyles["stroke-width"]),1&r[0]&&x(e,"stroke-linejoin",t[0].svgTextStyles["stroke-linejoin"])},d(n){n&&f(e),t[35](null)}}}function ni(t){let e;return{c(){e=d("path"),v(e,"class","tick"),v(e,"d",t[22]()),x(e,"stroke",t[20]),x(e,"stroke-width",t[16])},m(t,n){u(t,e,n)},p(t,n){1048576&n[0]&&x(e,"stroke",t[20]),65536&n[0]&&x(e,"stroke-width",t[16])},d(t){t&&f(e)}}}function ri(t){let n,r,i,a,s;function l(t,e){return t[0]?Zr:Kr}let h=l(t),p=h(t),g=("center"===t[1]||t[9]>0)&&Qr(t);return{c(){n=d("g"),p.c(),r=m(),g&&g.c(),v(n,"class","swatch"),v(n,"aria-hidden","true"),v(n,"transform",i="translate(".concat(t[17].join(),")")),w(n,"highlight",t[14]),w(n,"buffer",t[0])},m(e,i){u(e,n,i),p.m(n,null),c(n,r),g&&g.m(n,null),a||(s=[y(n,"mouseenter",t[37]),y(n,"click",t[38]),y(n,"mousemove",t[33]),y(n,"mouseleave",t[34])],a=!0)},p(t,e){h===(h=l(t))&&p?p.p(t,e):(p.d(1),p=h(t),p&&(p.c(),p.m(n,r))),"center"===t[1]||t[9]>0?g?g.p(t,e):(g=Qr(t),g.c(),g.m(n,null)):g&&(g.d(1),g=null),131072&e[0]&&i!==(i="translate(".concat(t[17].join(),")"))&&v(n,"transform",i),16384&e[0]&&w(n,"highlight",t[14]),1&e[0]&&w(n,"buffer",t[0])},i:e,o:e,d(t){t&&f(n),p.d(),g&&g.d(),a=!1,o(s)}}}function ii(t,e,n){let r,i,o,a,s,l,c,u;const f=_();let{buffer:h}=e,{themeData:p}=e,{horizontal:d}=e,{labelPosition:g="center"}=e,{rtl:m=!1}=e,{rotateLabel:y=!1}=e,{parentWidth:v=0}=e,{chroma:b}=e,{blendMultiply:x=!1}=e,{blendMultiplyBackground:w=""}=e;if(x&&!w)throw new Error("Property 'blendMultiplyBackground' missing from legend");let k,M,E,{color:$}=e,{label:O}=e,{key:N}=e,{index:S}=e,{min:L}=e,{max:C}=e,{width:D}=e,{height:R}=e,{highlight:I=!1}=e;return t.$$set=t=>{"buffer"in t&&n(0,h=t.buffer),"themeData"in t&&n(23,p=t.themeData),"horizontal"in t&&n(24,d=t.horizontal),"labelPosition"in t&&n(1,g=t.labelPosition),"rtl"in t&&n(2,m=t.rtl),"rotateLabel"in t&&n(3,y=t.rotateLabel),"parentWidth"in t&&n(25,v=t.parentWidth),"chroma"in t&&n(26,b=t.chroma),"blendMultiply"in t&&n(4,x=t.blendMultiply),"blendMultiplyBackground"in t&&n(5,w=t.blendMultiplyBackground),"color"in t&&n(6,$=t.color),"label"in t&&n(7,O=t.label),"key"in t&&n(8,N=t.key),"index"in t&&n(9,S=t.index),"min"in t&&n(10,L=t.min),"max"in t&&n(11,C=t.max),"width"in t&&n(12,D=t.width),"height"in t&&n(13,R=t.height),"highlight"in t&&n(14,I=t.highlight)},t.$$.update=()=>{if(2&t.$$.dirty[0]&&n(30,o="tick"===g),1082130432&t.$$.dirty[0]&&n(32,a=o?et(p,"vis.base.legend.ruler.tickWidth",1):1),8388608&t.$$.dirty[0]|2&t.$$.dirty[1]&&n(31,r=et(p,"vis.base.legend.text.itemMarginBottom",a)),8388608&t.$$.dirty[0]&&n(29,i=et(p,"vis.base.legend.swatch.marginRight",3)),8388608&t.$$.dirty[0]&&n(16,u=et(p,"vis.base.legend.ruler.tickWidth",1)),50409988&t.$$.dirty[0]|3&t.$$.dirty[1]&&n(17,k=!d&&m&&v?[v-D,S*(R+u)]:d?[S*(D+a),0]:[0,S*(R+r)]),25165824&t.$$.dirty[0]&&n(28,s=et(p,"vis.base.legend.ruler.labelDistance."+(d?"horizontal":"vertical"),3)),75497472&t.$$.dirty[0]&&n(20,l=et(p,"vis.base.legend.ruler.tickColor",function(t,e){const n=et(t,"colors.background","#ffffff"),r=et(t,"colors.chartContentBaseColor",e.contrast(n,"#000000")<5.5?"#f1f1f1":"#333333"),i={tickText:{secondary:et(t,"colors.bgBlendRatios.tickText.secondary",e(n).luminance()<.5?.6:.4),primary:et(t,"colors.bgBlendRatios.tickText.primary",.2)},series:et(t,"colors.bgBlendRatios.series",0),value:et(t,"colors.bgBlendRatios.value",.2),axis:et(t,"colors.bgBlendRatios.axis",0),gridline:et(t,"colors.bgBlendRatios.gridline",.82)};return{tickText:{secondary:e.mix(r,n,i.tickText.secondary).hex(),primary:e.mix(r,n,i.tickText.primary).hex()},series:e.mix(r,n,i.series).hex(),value:e.mix(r,n,i.value).hex(),axis:e.mix(r,n,i.axis).hex(),gridline:e.mix(r,n,i.gridline).hex(),fallbackBaseColor:r,blendColor:t=>e.mix(r,n,t).hex()}}(p,b).fallbackBaseColor||"#222")),1082130432&t.$$.dirty[0]&&n(15,c=o?et(p,"vis.base.legend.ruler.tickLength",0):0),822128654&t.$$.dirty[0]){let t=[];y?n(18,M="translate(0, ".concat(R+s+c,") rotate(-90)")):"center"===g?t=d?[.5*D,R+i]:[D+i,.5*R]:"tick"===g&&(t=d?[0,R+s+c]:[m?-(c+s):D+s+c,0]),t.length&&n(18,M="translate(".concat(t.join(),")"))}},[h,g,m,y,x,w,$,O,N,S,L,C,D,R,I,c,u,k,M,E,l,f,function(){return"M".concat(d?.5*-u:m?D:0,",").concat(d?0:.5*-u).concat(d?"v":"h").concat((!d&&m?-1:1)*((d?R:D)+c))},p,d,v,b,function(){return!!E&&E.getBoundingClientRect().width>D+2},s,i,o,r,a,function(e){A.call(this,t,e)},function(e){A.call(this,t,e)},function(t){T[t?"unshift":"push"](()=>{E=t,n(19,E)})},function(t){T[t?"unshift":"push"](()=>{E=t,n(19,E)})},()=>f("mouseenter",{key:N,label:O,color:$,min:L,max:C}),()=>f("mouseenter",{key:N,label:O,color:$,min:L,max:C})]}class oi extends X{constructor(t){super(),V(this,t,ii,ri,s,{buffer:0,themeData:23,horizontal:24,labelPosition:1,rtl:2,rotateLabel:3,parentWidth:25,chroma:26,blendMultiply:4,blendMultiplyBackground:5,color:6,label:7,key:8,index:9,min:10,max:11,width:12,height:13,highlight:14,labelFits:27},null,[-1,-1])}get labelFits(){return this.$$.ctx[27]}}function ai(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t=>String(+t.toFixed(0)),i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"center",l=o||!a;i&&(l=!l);const c=t.map((i,o)=>{let a=n?n[o]:0===o?"< ".concat(r(e[1])):o===t.length-1?"â¥ ".concat(r(e[o])):"".concat(r(e[o]),"â").concat(r(e[o+1]));return"tick"===s&&(a=o===(l?t.length-1:0)?"":"".concat(r(e[l?o+1:o]))),{color:i,min:0===o?-1/0:+e[o],max:o===t.length-1?1/0:+e[o+1],label:a,key:a||"swatch_".concat(o)}});return l&&c.reverse(),c}function si(t,e,n){const r=t.slice();return r[45]=e[n],r[46]=e,r[47]=n,r}function li(t,e,n){const r=t.slice();return r[45]=e[n],r[47]=n,r}function ci(t){let e,n;return e=new tt({props:{title:t[1],buffer:t[30],className:["color-legend",t[2]?"horizontal":"vertical",t[27],t[29],t[28]].join(" "),ariaLabel:wr({colors:t[9],title:t[1],format:t[12],swatches:t[21]}),width:t[2]?tn(t[14]):void 0,purifyHtml:t[8],$$slots:{default:[di]},$$scope:{ctx:t}}}),{c(){W(e.$$.fragment)},m(t,r){q(e,t,r),n=!0},p(t,n){const r={};2&n[0]&&(r.title=t[1]),1073741824&n[0]&&(r.buffer=t[30]),939524100&n[0]&&(r.className=["color-legend",t[2]?"horizontal":"vertical",t[27],t[29],t[28]].join(" ")),2101762&n[0]&&(r.ariaLabel=wr({colors:t[9],title:t[1],format:t[12],swatches:t[21]})),16388&n[0]&&(r.width=t[2]?tn(t[14]):void 0),256&n[0]&&(r.purifyHtml=t[8]),1206788229&n[0]|262144&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function ui(t){let e,n;return e=new Lr({props:{title:t[1],horizontal:t[2],highlight:t[3],reverse:t[4],rtl:t[5],emotion:t[6],swatches:ai(t[9],t[10],t[11],t[12],t[4]===t[5]?t[4]:!t[4],t[5],t[2]),themeData:t[13],chroma:t[7],purifyHtml:t[8],width:t[2]?tn(t[14]):"auto",height:t[2]?"auto":tn(t[15]),buffer:t[0],highlightedKey:t[22]||"",position:t[16],blendMultiply:t[17],blendMultiplyBackground:t[18]}}),{c(){W(e.$$.fragment)},m(t,r){q(e,t,r),n=!0},p(t,n){const r={};2&n[0]&&(r.title=t[1]),4&n[0]&&(r.horizontal=t[2]),8&n[0]&&(r.highlight=t[3]),16&n[0]&&(r.reverse=t[4]),32&n[0]&&(r.rtl=t[5]),64&n[0]&&(r.emotion=t[6]),7732&n[0]&&(r.swatches=ai(t[9],t[10],t[11],t[12],t[4]===t[5]?t[4]:!t[4],t[5],t[2])),8192&n[0]&&(r.themeData=t[13]),128&n[0]&&(r.chroma=t[7]),256&n[0]&&(r.purifyHtml=t[8]),16388&n[0]&&(r.width=t[2]?tn(t[14]):"auto"),32772&n[0]&&(r.height=t[2]?"auto":tn(t[15])),1&n[0]&&(r.buffer=t[0]),4194304&n[0]&&(r.highlightedKey=t[22]||""),65536&n[0]&&(r.position=t[16]),131072&n[0]&&(r.blendMultiply=t[17]),262144&n[0]&&(r.blendMultiplyBackground=t[18]),e.$set(r)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function fi(t){let e,n,r=t[21],i=[];for(let e=0;e<r.length;e+=1)i[e]=hi(li(t,r,e));const o=t=>Y(i[t],1,1,()=>{i[t]=null});return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=m()},m(t,r){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,r);u(t,e,r),n=!0},p(t,n){if(1180704900&n[0]|1&n[1]){let a;for(r=t[21],a=0;a<r.length;a+=1){const o=li(t,r,a);i[a]?(i[a].p(o,n),H(i[a],1)):(i[a]=hi(o),i[a].c(),H(i[a],1),i[a].m(e.parentNode,e))}for(U(),a=r.length;a<i.length;a+=1)o(a);B()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)H(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)Y(i[t]);n=!1},d(t){h(i,t),t&&f(e)}}}function hi(t){let e,n;return e=new oi({props:{buffer:t[30],color:t[45].color,label:t[45].label,min:t[45].min,max:t[45].max,index:t[47],horizontal:t[2],width:t[26],height:t[25],themeData:t[13],key:t[45].key,highlight:t[22]===t[45].key,chroma:t[7]}}),e.$on("mouseenter",t[31]),{c(){W(e.$$.fragment)},m(t,r){q(e,t,r),n=!0},p(t,n){const r={};1073741824&n[0]&&(r.buffer=t[30]),2097152&n[0]&&(r.color=t[45].color),2097152&n[0]&&(r.label=t[45].label),2097152&n[0]&&(r.min=t[45].min),2097152&n[0]&&(r.max=t[45].max),4&n[0]&&(r.horizontal=t[2]),67108864&n[0]&&(r.width=t[26]),33554432&n[0]&&(r.height=t[25]),8192&n[0]&&(r.themeData=t[13]),2097152&n[0]&&(r.key=t[45].key),6291456&n[0]&&(r.highlight=t[22]===t[45].key),128&n[0]&&(r.chroma=t[7]),e.$set(r)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function pi(t){let e,n,r=t[47];const i=()=>t[39](e,r),o=()=>t[39](null,r);let a={buffer:!1,color:t[45].color,label:t[45].label,min:t[45].min,max:t[45].max,index:t[47],horizontal:t[2],width:t[26],height:t[25],themeData:t[13],key:t[45].key,highlight:t[22]===t[45].key,chroma:t[7],blendMultiply:t[17],blendMultiplyBackground:t[18]};return e=new oi({props:a}),i(),e.$on("mouseenter",t[31]),{c(){W(e.$$.fragment)},m(t,r){q(e,t,r),n=!0},p(t,n){r!==t[47]&&(o(),r=t[47],i());const a={};2097152&n[0]&&(a.color=t[45].color),2097152&n[0]&&(a.label=t[45].label),2097152&n[0]&&(a.min=t[45].min),2097152&n[0]&&(a.max=t[45].max),4&n[0]&&(a.horizontal=t[2]),67108864&n[0]&&(a.width=t[26]),33554432&n[0]&&(a.height=t[25]),8192&n[0]&&(a.themeData=t[13]),2097152&n[0]&&(a.key=t[45].key),6291456&n[0]&&(a.highlight=t[22]===t[45].key),128&n[0]&&(a.chroma=t[7]),131072&n[0]&&(a.blendMultiply=t[17]),262144&n[0]&&(a.blendMultiplyBackground=t[18]),e.$set(a)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){o(),G(e,t)}}}function di(t){let e,n,r,i,o,a,s,l,p=t[0]&&fi(t),g=t[21],b=[];for(let e=0;e<g.length;e+=1)b[e]=pi(si(t,g,e));const x=t=>Y(b[t],1,1,()=>{b[t]=null});return{c(){e=d("svg"),n=d("g"),p&&p.c(),r=m();for(let t=0;t<b.length;t+=1)b[t].c();v(n,"class",""),w(n,"highlighted",null!==t[22]),v(e,"width",i=t[23].width),v(e,"height",o=t[23].height)},m(i,o){u(i,e,o),c(e,n),p&&p.m(n,null),c(n,r);for(let t=0;t<b.length;t+=1)b[t]&&b[t].m(n,null);t[40](n),a=!0,s||(l=y(e,"mouseleave",t[32]),s=!0)},p(t,s){if(t[0]?p?(p.p(t,s),1&s[0]&&H(p,1)):(p=fi(t),p.c(),H(p,1),p.m(n,r)):p&&(U(),Y(p,1,1,()=>{p=null}),B()),124133508&s[0]|1&s[1]){let e;for(g=t[21],e=0;e<g.length;e+=1){const r=si(t,g,e);b[e]?(b[e].p(r,s),H(b[e],1)):(b[e]=pi(r),b[e].c(),H(b[e],1),b[e].m(n,null))}for(U(),e=g.length;e<b.length;e+=1)x(e);B()}(!a||4194304&s[0])&&w(n,"highlighted",null!==t[22]),(!a||8388608&s[0]&&i!==(i=t[23].width))&&v(e,"width",i),(!a||8388608&s[0]&&o!==(o=t[23].height))&&v(e,"height",o)},i(t){if(!a){H(p);for(let t=0;t<g.length;t+=1)H(b[t]);a=!0}},o(t){Y(p),b=b.filter(Boolean);for(let t=0;t<b.length;t+=1)Y(b[t]);a=!1},d(n){n&&f(e),p&&p.d(),h(b,n),t[40](null),s=!1,l()}}}function gi(t){let e,n,r,i,o,s;const l=[ui,ci],c=[];function h(t,e){return t[20]?0:1}return e=h(t),n=c[e]=l[e](t),{c(){n.c(),r=m()},m(n,l){c[e].m(n,l),u(n,r,l),i=!0,o||(s=y(window,"click",(function(){a(t[20]?null:t[33])&&(t[20]?null:t[33]).apply(this,arguments)})),o=!0)},p(i,o){let a=e;e=h(t=i),e===a?c[e].p(t,o):(U(),Y(c[a],1,1,()=>{c[a]=null}),B(),n=c[e],n?n.p(t,o):(n=c[e]=l[e](t),n.c()),H(n,1),n.m(r.parentNode,r))},i(t){i||(H(n),i=!0)},o(t){Y(n),i=!1},d(t){c[e].d(t),t&&f(r),o=!1,s()}}}function mi(t,e,n){let r,i,o,a,s,l,c,u;var f;const h=_();let p,{title:d=""}=e,{horizontal:g=!0}=e,{highlight:m=!1}=e,{reverse:y=!1}=e,{rtl:v=!1}=e,{emotion:b}=e,{chroma:x}=e,{purifyHtml:w}=e,{colors:k}=e,{breaks:M}=e,{labels:A}=e,{format:E=(t=>t.toFixed(0))}=e,{themeData:$={}}=e,{width:O=100}=e,{height:N=200}=e,{position:S="above"}=e,{buffer:L=!1}=e,{blendMultiply:D=!1}=e,{blendMultiplyBackground:R=""}=e;const I=new Promise(t=>{n(37,p=t)});let P,{highlightedValue:z=null}=e;const{onMouseEnter:j,onMouseLeave:F,onClick:U,onHighlight:B}=_r(h,m);let H;B(t=>{n(22,P=void 0!==t?t:null)});const Y={width:100,height:100};let W=!1;const q=[];return t.$$set=t=>{"title"in t&&n(1,d=t.title),"horizontal"in t&&n(2,g=t.horizontal),"highlight"in t&&n(3,m=t.highlight),"reverse"in t&&n(4,y=t.reverse),"rtl"in t&&n(5,v=t.rtl),"emotion"in t&&n(6,b=t.emotion),"chroma"in t&&n(7,x=t.chroma),"purifyHtml"in t&&n(8,w=t.purifyHtml),"colors"in t&&n(9,k=t.colors),"breaks"in t&&n(10,M=t.breaks),"labels"in t&&n(11,A=t.labels),"format"in t&&n(12,E=t.format),"themeData"in t&&n(13,$=t.themeData),"width"in t&&n(14,O=t.width),"height"in t&&n(15,N=t.height),"position"in t&&n(16,S=t.position),"buffer"in t&&n(0,L=t.buffer),"blendMultiply"in t&&n(17,D=t.blendMultiply),"blendMultiplyBackground"in t&&n(18,R=t.blendMultiplyBackground),"highlightedValue"in t&&n(35,z=t.highlightedValue)},t.$$.update=()=>{8193&t.$$.dirty[0]&&n(30,r=L&&Ar(et($,"colors.background","white"))),73792&t.$$.dirty[0]&&n(29,i=b&&br(b,$,S)),8256&t.$$.dirty[0]&&n(28,o=b&&xr(b,$)),32&t.$$.dirty[0]&&n(27,a=v?"dir-rtl":"dir-ltr"),7732&t.$$.dirty[0]&&n(21,s=ai(k,M,A,E,y,v,g,"center")),8192&t.$$.dirty[0]&&n(38,l=et($,"vis.base.legend.ruler.thickness",13)),25092&t.$$.dirty[0]&&n(26,c=g?Math.floor(O/k.length)-1:et($,"vis.base.legend.swatch.width",20)),8196&t.$$.dirty[0]|128&t.$$.dirty[1]&&n(25,u=g?l:et($,"vis.base.legend.swatch.height",20)),2097152&t.$$.dirty[0]|48&t.$$.dirty[1]&&n(22,P=(null===n(36,f=s.find(t=>{if(null!==z&&t.min&&t.max)return z>=t.min&&z<t.max}))||void 0===f?void 0:f.key)||null),2637824&t.$$.dirty[0]&&async function(){if(!H||W)return;const t=L;n(0,L=!1),await C();const e=H.getBoundingClientRect();n(23,Y.height=e.height,Y),n(23,Y.width=e.width,Y),n(0,L=t),p(null)}(),2113536&t.$$.dirty[0]&&async function(){n(20,W=!1),await C();const t=q.filter(t=>!!t),e=t.map(t=>t.labelFits());n(20,W=g&&e.some(t=>t)||1===t.length)}(),1048576&t.$$.dirty[0]|64&t.$$.dirty[1]&&W&&p(null)},[L,d,g,m,y,v,b,x,w,k,M,A,E,$,O,N,S,D,R,H,W,s,P,Y,q,u,c,a,o,i,r,j,F,U,I,z,f,p,l,function(t,e){T[t?"unshift":"push"](()=>{q[e]=t,n(24,q)})},function(t){T[t?"unshift":"push"](()=>{H=t,n(19,H)})}]}class yi extends X{constructor(t){super(),V(this,t,mi,gi,s,{title:1,horizontal:2,highlight:3,reverse:4,rtl:5,emotion:6,chroma:7,purifyHtml:8,colors:9,breaks:10,labels:11,format:12,themeData:13,width:14,height:15,position:16,buffer:0,blendMultiply:17,blendMultiplyBackground:18,rendered:34,highlightedValue:35},null,[-1,-1])}get rendered(){return this.$$.ctx[34]}}function vi(t,e,n){const r=t.slice();return r[46]=e[n],r[47]=e,r[48]=n,r}function bi(t,e,n){const r=t.slice();return r[46]=e[n],r[48]=n,r}function xi(t){let e,n,r=t[12],i=[];for(let e=0;e<r.length;e+=1)i[e]=wi(bi(t,r,e));const o=t=>Y(i[t],1,1,()=>{i[t]=null});return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=m()},m(t,r){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,r);u(t,e,r),n=!0},p(t,n){if(12810332&n[0]){let a;for(r=t[12],a=0;a<r.length;a+=1){const o=bi(t,r,a);i[a]?(i[a].p(o,n),H(i[a],1)):(i[a]=wi(o),i[a].c(),H(i[a],1),i[a].m(e.parentNode,e))}for(U(),a=r.length;a<i.length;a+=1)o(a);B()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)H(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)Y(i[t]);n=!1},d(t){h(i,t),t&&f(e)}}}function wi(t){let e,n;return e=new oi({props:{color:t[46].color,label:t[46].label,min:t[46].min,max:t[46].max,index:t[48],horizontal:t[2],width:t[17],height:t[16],buffer:t[22],themeData:t[6],key:t[46].key,labelPosition:"tick",rotateLabel:t[11],rtl:t[3],parentWidth:t[14].width,highlight:t[13]===t[46].key,chroma:t[4]}}),e.$on("mouseenter",t[23]),{c(){W(e.$$.fragment)},m(t,r){q(e,t,r),n=!0},p(t,n){const r={};4096&n[0]&&(r.color=t[46].color),4096&n[0]&&(r.label=t[46].label),4096&n[0]&&(r.min=t[46].min),4096&n[0]&&(r.max=t[46].max),4&n[0]&&(r.horizontal=t[2]),131072&n[0]&&(r.width=t[17]),65536&n[0]&&(r.height=t[16]),4194304&n[0]&&(r.buffer=t[22]),64&n[0]&&(r.themeData=t[6]),4096&n[0]&&(r.key=t[46].key),2048&n[0]&&(r.rotateLabel=t[11]),8&n[0]&&(r.rtl=t[3]),16384&n[0]&&(r.parentWidth=t[14].width),12288&n[0]&&(r.highlight=t[13]===t[46].key),16&n[0]&&(r.chroma=t[4]),e.$set(r)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function ki(t){let e,n,r=t[48];const i=()=>t[39](e,r),o=()=>t[39](null,r);let a={color:t[46].color,label:t[46].label,min:t[46].min,max:t[46].max,index:t[48],horizontal:t[2],width:t[17],height:t[16],buffer:!1,themeData:t[6],key:t[46].key,labelPosition:"tick",rotateLabel:t[11],rtl:t[3],parentWidth:t[14].width,highlight:t[13]===t[46].key,chroma:t[4],blendMultiply:t[8],blendMultiplyBackground:t[9]};return e=new oi({props:a}),i(),e.$on("mouseenter",t[23]),{c(){W(e.$$.fragment)},m(t,r){q(e,t,r),n=!0},p(t,n){r!==t[48]&&(o(),r=t[48],i());const a={};4096&n[0]&&(a.color=t[46].color),4096&n[0]&&(a.label=t[46].label),4096&n[0]&&(a.min=t[46].min),4096&n[0]&&(a.max=t[46].max),4&n[0]&&(a.horizontal=t[2]),131072&n[0]&&(a.width=t[17]),65536&n[0]&&(a.height=t[16]),64&n[0]&&(a.themeData=t[6]),4096&n[0]&&(a.key=t[46].key),2048&n[0]&&(a.rotateLabel=t[11]),8&n[0]&&(a.rtl=t[3]),16384&n[0]&&(a.parentWidth=t[14].width),12288&n[0]&&(a.highlight=t[13]===t[46].key),16&n[0]&&(a.chroma=t[4]),256&n[0]&&(a.blendMultiply=t[8]),512&n[0]&&(a.blendMultiplyBackground=t[9]),e.$set(a)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){o(),G(e,t)}}}function Mi(t){let e,n,r,i,o,a,s,l,p=t[0]&&xi(t),g=t[12],b=[];for(let e=0;e<g.length;e+=1)b[e]=ki(vi(t,g,e));const x=t=>Y(b[t],1,1,()=>{b[t]=null});return{c(){e=d("svg"),n=d("g"),p&&p.c(),r=m();for(let t=0;t<b.length;t+=1)b[t].c();v(n,"class",""),w(n,"highlighted",null!==t[13]),v(e,"width",i=t[14].width),v(e,"height",o=t[14].height)},m(i,o){u(i,e,o),c(e,n),p&&p.m(n,null),c(n,r);for(let t=0;t<b.length;t+=1)b[t]&&b[t].m(n,null);t[40](n),a=!0,s||(l=y(e,"mouseleave",t[24]),s=!0)},p(t,s){if(t[0]?p?(p.p(t,s),1&s[0]&&H(p,1)):(p=xi(t),p.c(),H(p,1),p.m(n,r)):p&&(U(),Y(p,1,1,()=>{p=null}),B()),8649564&s[0]){let e;for(g=t[12],e=0;e<g.length;e+=1){const r=vi(t,g,e);b[e]?(b[e].p(r,s),H(b[e],1)):(b[e]=ki(r),b[e].c(),H(b[e],1),b[e].m(n,null))}for(U(),e=g.length;e<b.length;e+=1)x(e);B()}(!a||8192&s[0])&&w(n,"highlighted",null!==t[13]),(!a||16384&s[0]&&i!==(i=t[14].width))&&v(e,"width",i),(!a||16384&s[0]&&o!==(o=t[14].height))&&v(e,"height",o)},i(t){if(!a){H(p);for(let t=0;t<g.length;t+=1)H(b[t]);a=!0}},o(t){Y(p),b=b.filter(Boolean);for(let t=0;t<b.length;t+=1)Y(b[t]);a=!1},d(n){n&&f(e),p&&p.d(),h(b,n),t[40](null),s=!1,l()}}}function _i(t){let e,n,r,i;return e=new tt({props:{title:t[1],buffer:t[22],className:["color-legend","ruler",t[2]?"horizontal":"vertical",t[18],t[20],t[19]].join(" "),ariaLabel:t[21],width:t[2]?tn(t[7]):void 0,purifyHtml:t[5],$$slots:{default:[Mi]},$$scope:{ctx:t}}}),{c(){W(e.$$.fragment)},m(o,a){q(e,o,a),n=!0,r||(i=y(window,"click",t[25]),r=!0)},p(t,n){const r={};2&n[0]&&(r.title=t[1]),4194304&n[0]&&(r.buffer=t[22]),1835012&n[0]&&(r.className=["color-legend","ruler",t[2]?"horizontal":"vertical",t[18],t[20],t[19]].join(" ")),2097152&n[0]&&(r.ariaLabel=t[21]),132&n[0]&&(r.width=t[2]?tn(t[7]):void 0),32&n[0]&&(r.purifyHtml=t[5]),4456285&n[0]|524288&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){G(e,t),r=!1,i()}}}function Ai(t,e,n){let r,i,o,a,s,l,c,u,f;var h;const p=_();let d,{title:g=""}=e,{horizontal:m=!0}=e,{highlight:y=!1}=e,{reverse:v=!1}=e,{rtl:b=!1}=e,{emotion:x}=e,{chroma:w}=e,{purifyHtml:k}=e,{colors:M}=e,{breaks:A}=e,{labels:E}=e,{format:$=(t=>t.toFixed(0))}=e,{themeData:O={}}=e,{width:N=100}=e,{height:S=200}=e,{position:L="above"}=e,{buffer:D=!1}=e,{blendMultiply:R=!1}=e,{blendMultiplyBackground:I=""}=e;const P=new Promise(t=>{d=t});let z,{highlightedValue:j=null}=e;const{onMouseEnter:F,onMouseLeave:U,onClick:B,onHighlight:H}=_r(p,y);let Y;H(t=>{n(13,z=void 0!==t?t:null)});const W={width:100,height:100};let q=!1;const G=[];return t.$$set=t=>{"title"in t&&n(1,g=t.title),"horizontal"in t&&n(2,m=t.horizontal),"highlight"in t&&n(26,y=t.highlight),"reverse"in t&&n(27,v=t.reverse),"rtl"in t&&n(3,b=t.rtl),"emotion"in t&&n(28,x=t.emotion),"chroma"in t&&n(4,w=t.chroma),"purifyHtml"in t&&n(5,k=t.purifyHtml),"colors"in t&&n(29,M=t.colors),"breaks"in t&&n(30,A=t.breaks),"labels"in t&&n(31,E=t.labels),"format"in t&&n(32,$=t.format),"themeData"in t&&n(6,O=t.themeData),"width"in t&&n(7,N=t.width),"height"in t&&n(33,S=t.height),"position"in t&&n(34,L=t.position),"buffer"in t&&n(0,D=t.buffer),"blendMultiply"in t&&n(8,R=t.blendMultiply),"blendMultiplyBackground"in t&&n(9,I=t.blendMultiplyBackground),"highlightedValue"in t&&n(36,j=t.highlightedValue)},t.$$.update=()=>{65&t.$$.dirty[0]&&n(22,r=D&&Ar(et(O,"colors.background","white"))),1744830478&t.$$.dirty[0]|3&t.$$.dirty[1]&&n(21,i=wr({colors:M,title:g,format:$,swatches:ai(M,A,E,$,v,b,m,"center")})),268435520&t.$$.dirty[0]|8&t.$$.dirty[1]&&n(20,o=x&&br(x,O,L)),268435520&t.$$.dirty[0]&&n(19,a=x&&xr(x,O)),8&t.$$.dirty[0]&&n(18,s=b?"dir-rtl":"dir-ltr"),1744830476&t.$$.dirty[0]|3&t.$$.dirty[1]&&n(12,l=ai(M,A,E,$,v,b,m,"tick")),64&t.$$.dirty[0]&&n(38,c=et(O,"vis.base.legend.ruler.thickness",13)),536871044&t.$$.dirty[0]|128&t.$$.dirty[1]&&n(17,u=m?Math.floor(N/M.length)-1:c),536870916&t.$$.dirty[0]|132&t.$$.dirty[1]&&n(16,f=m?c:Math.floor(S/M.length)-1),4096&t.$$.dirty[0]|96&t.$$.dirty[1]&&n(13,z=(null===n(37,h=l.find(t=>{if(null!==j&&t.min&&t.max)return j>=t.min&&j<t.max}))||void 0===h?void 0:h.key)||null),7296&t.$$.dirty[0]&&async function(){if(!Y)return;const t=D;n(0,D=!1),await C();const e=Y.getBoundingClientRect();n(14,W.height=e.height,W),n(14,W.width=e.width,W),n(0,D=t),d(null)}(),4224&t.$$.dirty[0]&&async function(){n(11,q=!1),await C();const t=G.filter(t=>!!t).map(t=>t.labelFits());n(11,q=m&&t.some(t=>t))}()},[D,g,m,b,w,k,O,N,R,I,Y,q,l,z,W,G,f,u,s,a,o,i,r,F,U,B,y,v,x,M,A,E,$,S,L,P,j,h,c,function(t,e){T[t?"unshift":"push"](()=>{G[e]=t,n(15,G)})},function(t){T[t?"unshift":"push"](()=>{Y=t,n(10,Y)})}]}class Ei extends X{constructor(t){super(),V(this,t,Ai,_i,s,{title:1,horizontal:2,highlight:26,reverse:27,rtl:3,emotion:28,chroma:4,purifyHtml:5,colors:29,breaks:30,labels:31,format:32,themeData:6,width:7,height:33,position:34,buffer:0,blendMultiply:8,blendMultiplyBackground:9,rendered:35,highlightedValue:36},null,[-1,-1])}get rendered(){return this.$$.ctx[35]}}function Ti(t){return"string"!=typeof t?t:parseFloat(t.replace("px",""))}t.CategoryLegend=Lr,t.ContinuousLegend=Xr,t.RangeLegend=yi,t.RulerLegend=Ei,t.categoryLegendWrapper=function(t,e){const n=new Lr({target:t,props:Object.assign(Object.assign({},e),{themeData:e.themeData||e.theme,swatches:e.swatches.map(t=>Object.assign(Object.assign({},t),{width:"width"in t?Ti(t.width):null}))})});return{on:function(t,e){n.$on(t,t=>{e(t.detail)})},highlight:t=>{n.$$set&&n.$$set({highlightedKey:t||""})},container:t}},t.colorLegendWrapper=function(t,e){let n=null;switch(void 0===e.horizontal&&(e.horizontal=!0),function(t){return"function"==typeof t.colors?"continuous":t.ruler?"ruler":Array.isArray(t.colors)&&t.horizontal?"range":Array.isArray(t.colors)?"category":"winner"}(e)){case"continuous":n=new Xr({target:t,props:Object.assign(Object.assign({},e),{themeData:e.themeData||e.theme})});break;case"ruler":n=new Ei({target:t,props:Object.assign(Object.assign({},e),{themeData:e.themeData||e.theme})});break;case"category":n=new Lr({target:t,props:Object.assign(Object.assign({},e),{themeData:e.themeData||e.theme,swatches:ai(e.colors,e.breaks,e.labels,e.format,!1,e.rtl,e.horizontal),reverse:e.reverse,height:"auto"})});break;case"range":n=new yi({target:t,props:Object.assign(Object.assign({},e),{themeData:e.themeData||e.theme})});break;default:t.innerHTML="winner tk"}return{on:function(t,e){null==n||n.$on(t,t=>{e(t.detail)})},highlight:t=>{(null==n?void 0:n.$$set)&&n.$$set({highlightedValue:"number"==typeof t?t:null})},container:t,rendered:null==n?void 0:n.rendered}},t.highlightTimer=Mr}(e)}(0,lf);var cf,uf=lf;dw.visualization.register("d3-lines","base",(function(){let t=!0;const e={};let n,r,i,o=!1;function a(){o=!0}function s(e,r){const{numeral:o,dayjs:s,chroma:l}=r.libraries(),{purifyHtml:c}=dw.utils;if(t){try{const t=r.chart();Pu.initLocales(t.locales.dayjs);const e=t.locales.dayjs;e&&"en"!==e.name&&s.locale(e),t.onDatasetChange(a)}catch(t){}t=!1}e.innerHTML="";const u=r.chart(),f=r.type(),h=r.size();if(function(t,e,n){let{visualize:r}=e;if(void 0===r["text-annotations"]&&(r["text-annotations"]=[]),r["text-annotations"].forEach(t=>{void 0===t.mobileFallback&&(t.mobileFallback=!1,t.text=t.text.replace(/<br\s*\/?>(\\n|\n)?|(\\n|\n)/g,"<br/>"))}),void 0===r["range-annotations"]&&(r["range-annotations"]=[]),void 0===r["custom-colors"]&&(r["custom-colors"]={}),r["range-annotations"].length>0&&void 0===r["range-annotations"][0].display&&r["range-annotations"].reverse(),r["range-annotations"].forEach(t=>{void 0===t.y0&&(t.y0=t.x0),void 0===t.y1&&(t.y1=t.x1),void 0===t.display&&(t.display=t.x0===t.x1?"line":"range"),void 0===t.strokeWidth&&(t.strokeWidth=1),void 0===t.strokeType&&(t.strokeType="solid")}),void 0===r["tooltip-use-custom-formats"]||r["tooltip-x-format"]||(r["tooltip-x-format"]=r["x-tick-format"]&&"auto"!==r["x-tick-format"]?r["x-tick-format"]:"ll"),r["tooltip-number-format"]&&void 0===r["tooltip-use-custom-formats"]&&(r["tooltip-use-custom-formats"]=!0),r["fill-between"]){const t=n.columns().filter(t=>"number"===t.type());if(2===t.length){const e={from:t[0].name(),to:t[1].name(),color:r["area-fill-color-between"]||"#cccccc",opacity:.2};r["custom-area-fills"]=Array.isArray(r["custom-area-fills"])?[...r["custom-area-fills"],e]:[e]}}if(delete r["fill-between"],delete r["area-fill-color-between"],r["fill-below"]){const t=n.columns().filter(t=>"number"===t.type());if(1===t.length){const e={from:t[0].name(),to:pu,color:r["area-fill-color-below"]||"#cccccc",opacity:.2};r["custom-area-fills"]=Array.isArray(r["custom-area-fills"])?[...r["custom-area-fills"],e]:[e]}}delete r["fill-below"],delete r["area-fill-color-below"],void 0!==r["tooltip-use-custom-formats"]&&(!1===r["tooltip-use-custom-formats"]&&(r["tooltip-number-format"]=null,r["tooltip-x-format"]=null),delete r["tooltip-use-custom-formats"]),r["color-category"]&&r["color-category"].map&&Object.keys(r["color-category"].map).length&&!Object.keys(r["custom-colors"]||{}).length&&(r["custom-colors"]=r["color-category"].map,delete r["color-category"].map)}(u.get("type"),u.get("metadata"),r.dataset),function(t,e){let{visualize:n}=e;n["custom-colors"]&&Object.keys(n["custom-colors"]).length>0&&(n.lines||(n.lines={}),Object.entries(n["custom-colors"]).forEach(t=>{let[e,r]=t;e in n.lines||(n.lines[e]={}),"color"in n.lines[e]||(n.lines[e].color=r)})),delete n["custom-colors"];const r={0:"style0",1:"style1",2:"style2",3:"style3",4:"invisible"};n["line-widths"]&&Object.keys(n["line-widths"]).length>0&&(n.lines||(n.lines={}),Object.entries(n["line-widths"]).forEach(t=>{let[e,i]=t;e in n.lines||(n.lines[e]={}),"width"in n.lines[e]||(n.lines[e].width=r[i])})),delete n["line-widths"],n["line-dashes"]&&Object.keys(n["line-dashes"]).length>0&&(n.lines||(n.lines={}),Object.entries(n["line-dashes"]).forEach(t=>{let[e,i]=t;e in n.lines||(n.lines[e]={}),"dash"in n.lines[e]||(n.lines[e].dash=r[i])})),delete n["line-dashes"]}(u.get("type"),u.get("metadata"),r.dataset),Tt(h)<=0)return void r.renderingComplete();const p=u.translate,d="rtl"===r.textDirection,g=r.axes(!0),m="date"===g.x.type()?g.x.type(!0).precision():null,y={year:"YYYY",quarter:"YYYY-MM-DD",month:"YYYY-MM-DD",week:"YYYY-MM-DD",day:"YYYY-MM-DD"},v="date"===g.x.type()&&y[m]?t=>s(t).format(y[m]):t=>t,b=r.theme();let x=ju(b),w=Ls(b),k=Uu(b),M=Fu(b,T);const _={plusMinus:aa(b,"vis.base.format.plusMinusCharacter","Â±"),minus:aa(b,"vis.base.format.minusCharacter","â")},A=aa(b,"vis.base.legend.position","top"),E=u.createPostEvent();var T="lines"===f,$="area"===f,O=st(e),N=dw.utils.clone(u.get("metadata")),S=u.dataset(!0);const L={xAxis:fu(r,g.y[0]?g.y[0].name():""),yAxis:fu(r,g.x.name())},C=!!g.y.filter(t=>t.values().filter(t=>Go(t)).length).length;if(0===S.numRows()||!C)return r.showError(u.translate("insufficient-data-lines").replace("%chartid%",u.get("id"))),void r.renderingComplete();const D=g.y.filter(t=>t.values().filter(t=>Go(t)&&t<=0).length).length;var R=r.colorMap();const I={t:0,l:0,r:3,b:0,annotationKeyMarginBottom:0,gridTop:0,gridBottom:0,xGridLeft:0,yGridLeft:0,xGridRight:0,yGridRight:0,directLabels:0,colorKeyMarginBottom:0,colorKeyMarginTop:0,bufferTop:6},P={outerWidth:h[0],outerHeight:h[1]};let z={},j=Nt();var F=0,U=0;let B;const H="ontouchstart"in window||navigator.msMaxTouchPoints,Y=function(t){let e,n,r,i;t="string"==typeof t?function(t){const e={};return(t.match(/[^\x20\t\r\n\f]+/g)||[]).forEach(t=>e[t]=!0),e}(t):Object.assign({},t);let o=[],a=[],s=-1;const l=function(){for(i=i||t.once,r=e=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&t.stopOnFalse&&(s=o.length,n=!1);t.memory||(n=!1),e=!1,i&&(o=n?[]:"")},c={add:function(){if(o){n&&!e&&(s=o.length-1,a.push(n));for(var r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];!function e(n){n.forEach((function(n){ea(n)?t.unique&&c.has(n)||o.push(n):n&&n.length&&"string"!=typeof n&&e(n)}))}(i),n&&!e&&l()}return this},remove:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.forEach((function(t){for(var e;(e=o.indexOf(t,e))>-1;)o.splice(e,1),e<=s&&s--})),this},has:function(t){return t?o.indexOf(t)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||e||(o=n=""),this},locked:function(){return!!i},fireWith:function(t,n){return i||(n=[t,(n=n||[]).slice?n.slice():n],a.push(n),e||l()),this},fire:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return c.fireWith(this,e),this},fired:function(){return!!r}};return c}("stopOnFalse"),W=function(t,e,n){var r,i,o,a,s,l=function(){var c=Qo()-i;e>c?r=setTimeout(l,e-c):(r=null,n||(a=t.apply(s,o)),r||(o=s=null))},c=function(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var o=Array(e+1);for(i=0;i<e;i++)o[i]=arguments[i];return o[e]=r,t.apply(this,o)}}((function(c){return s=this,o=c,i=Qo(),r||(r=setTimeout(l,e),n&&(a=t.apply(s,o))),a}));return c.cancel=function(){clearTimeout(r),r=o=s=null},c}(()=>Y.fire(),50);var q=!1,G=!1;const V=T&&!D&&"log"===r.get("scale-y"),K=Dt("x");var Z="text"===g.x.type(),J=function(){if(Z)return[0,g.x.length-1];let t=xt(g.x.values().filter((t,e)=>g.y.find(t=>hu(t.val(e),"number"))));const e=g.x.type(!0),n=r.get("custom-range-x",["",""]).map(String),i=dw.column("x",n,e.name()).values(),o=i.map(t=>hu(t,e.name()));return 2===o.filter(Boolean).length&&(q=e.toNum(i[1])<e.toNum(i[0])),q&&i.reverse(),t=t.map((t,e)=>o[e]?i[e]:t),xt(t.concat(K))}();const Q=g.x.values().map(t=>!!Z||!!hu(t,g.x.type())&&t>=J[0]&&t<=J[1]);var tt=function(t,e){let n=function(t,e){return function t(e,n,r,i){if(i=i||[],n||0===n){if(n<=0)return i.concat(e)}else n=1/0;for(var o=i.length,a=0,s=Ho(e);a<s;a++){var l=e[a];if(Yo(l)&&(Xo(l)||Zo(l)))if(n>1)t(l,n-1,r,i),o=i.length;else for(var c=0,u=l.length;c<u;)i[o++]=l[c++];else r||(i[o++]=l)}return i}(t,e,!1)}(g.y.map((function(t){return t.values().filter((t,n)=>e[n])}))).filter(Go);if($&&r.get("stack-areas",!0)){if(r.get("stack-to-100"))return[0,100];n=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}(g.y[0].length).map((function(t){return function(t,e){var n,r=t.length,i=-1,o=0;for(1;++i<r;)(n=+t[i])&&(o+=n);return o}(g.y.map((function(n){var r=n.val(t);return e[t]&&Go(r)?r:0})))}))}if(r.get("custom-range-y")){const t=r.get("custom-range-y").map(t=>Go(t)?parseFloat(t):null),e=null===t[0]^null===t[1],i=null!==t[0]&&null!==t[1];(e||i)&&(n=n.concat(t).filter((function(n){return e&&null===t[0]?n<=t[1]:e&&null===t[1]?n>=t[0]:n>=Tt(t)&&n<=function(t,e){var n,r,i=t.length,o=-1;for(1;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&n>r&&(r=n);return r}(t)}))),G=2===t.filter(t=>null!==t).length&&t[1]<t[0]}($||function(t){let{vis:e,dataset:n}=t;return bu({vis:e,dataset:n}).filter(t=>xu(t)).length}({vis:r,dataset:S}))&&n.push(0);let i=xt(n);const[o,a]=i;if(!r.get("custom-range-y",[])[0]&&!t){const t=o<0&&a<0;(o>0&&a>0&&o/a<=.5||t&&a/o<=.5)&&(i=xt([0,o,a]))}return t&&0===i[0]&&(i[0]=.001),i}(V,Q);const et={x:("date"===g.x.type()?Mi():on()).domain(J),y:(V?dn():on()).domain(tt)},nt={left:d?"right":"left",right:d?"left":"right"}[r.get("y-grid-label-align","left")]||(d?"right":"left"),rt="left"===nt,it="right"===nt;var ot,at;Ot();var lt=function(){const t=fe(aa(b,"colors.background","#ffffff")).l,e=g.y.filter(t=>t.values().filter(Go).length).map((function(e,n){let r=e.values().map((t,e)=>({v:t,_i:e})).filter((t,e)=>Q[e]).map(t=>{let{v:r,_i:i}=t;return{x:Z?i:g.x.val(i),y:r,dy:0,col:e,columnIndex:n}});if(!r.length)return!1;if(0===r.filter(ft("y",Go)).length)return!1;Z||$||(r=r.sort(ht(ft("x"))));let i=R(St(n,e.name())),o=1;"#"===i.substr(0,1)&&i.length>7&&(o=parseInt(i.substr(7,2),16)/255,i=i.substr(0,7));const a={id:e.name(),title:e.title(),column:e,values:r,first:r.filter(ft("y",Go))[0],last:Jo(r.filter(ft("y",Go))),bgContrast:Math.abs((t-fe(i).l)*o)};if(q){const t=a.last;a.last=a.first,a.first=t}return a.columnIndex=n,a})).filter(t=>t);return T?e.sort(ht("bgContrast")):"keep"!==r.get("sort-areas","keep")?e.sort((function(t,e){return(t.last.y-e.last.y)*("asc"===r.get("sort-areas","keep")?1:-1)})):e}();if(!lt.length)return r.showError(u.translate("insufficient-data-lines").replace("%chartid%",u.get("id"))),void r.renderingComplete();Y.add((function(){S=u.dataset(!0),R=r.colorMap(),j=Nt(),w=Ls(b),_.minus=aa(b,"vis.base.format.minusCharacter","â"),_.plusMinus=aa(b,"vis.base.format.plusMinusCharacter","Â±"),M=Fu(b,T),k=Uu(b),x=ju(b);const t=Rt(),e=t&&rt?M.insideLabels:0,n=t&&it?M.insideLabels:0;et.x.range(q?[P.width,0]:[0,P.width]),et.y.range(G?[0,P.height]:[P.height,0]),et.x.domain(J).domain([et.x.invert(d?P.width+M.standard:0-M.standard),et.x.invert(d?0-M.standard:P.width+M.standard)]).range([e,P.width-n]),ot=xt(et.x.range()),at=xt(et.y.range()),lt.slice(0).sort(ht("columnIndex")).forEach((t,e)=>{St(e,t.id)})}));let ct=r.get("x-tick-format","auto");"auto"===ct&&(ct="number"===g.x.type()?function(t){const e=Math.abs(t[1]-t[0]);return e<1?"0,0.00[0]":e<3?"0,0.0[0]":e<1e4?"0,0.[0]":e>1e6||Math.abs(t[0])>1e5||Math.abs(t[1])>1e5?"0,0.[0]a":"0,0"}(et.x.domain()):"date"===g.x.type()?function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"day";const n=Math.abs(t[1].getTime()-t[0].getTime());return"year"===e?n>5*Au?"YYYY~~'YY":n>3*Au?"YYYY":"YYYY|MMM":"quarter"===e?n>6*_u?"YYYY|[Q]Q":"YYYY [Q]Q|MMM":"week"===e?"YYYY|[W]wo":n<48e4?"LTS":n<Mu?"LT":n<5*Mu?"dddd|LT":n<3*_u?"MMMM|D":n<Au?"MMM|D":"YYYY|MMM|D"}(et.x.domain()):"");const ut=r.get("tooltip-x-format",ct),pt="date"===g.x.type()?t=>t?s(t).format(ut.replace(/\|/g," ")).split("~~")[0]:"":"number"===g.x.type()?t=>wu(o,t,{format:ut,minusChar:_.minus,plusMinusChar:_.plusMinus,...L.yAxis}):t=>t,dt=r.get("tooltip-number-format",r.get("y-grid-format","0,0.[00]")),gt=t=>wu(o,t,{format:"auto"===dt?"0,0.[00]":dt,minusChar:_.minus,plusMinusChar:_.plusMinus,...L.xAxis}),{svgRoot:mt,tooltipLayer:yt}=function(){const t={},e=p("accessibility / ".concat($?r.get("stack-areas",!0)?"stacked-area-chart":"area-chart":"line-chart"," / ").concat(lt.length>1?"multiple":"single")).replace("%count%",lt.length);return[["svgRoot",O.append("svg.svg-main").attr("role","graphics-datachart").attr("aria-label",e).st({width:"100%"})],["tooltipLayer",O.append("svg.tooltip-layer").attr("aria-hidden",!0).st({width:"100%"})]].forEach(e=>{let[n,r]=e;const i=r.append("g").append("g");Y.add((function(){r.at({width:P.outerWidth,height:P.outerHeight}),i.translate([I.l,I.t])})),t[n]=i}),t}(),vt=function(){const t=O.append("div.d3l-main");return Y.add((function(){t.style("left",I.l+"px").style("top",I.t+"px")})),t}();var bt;bt=mt.append("rect.bg"),Y.add((function(){bt.at({width:P.outerWidth,height:P.outerHeight})}));const wt=mt.append("g"),kt=mt.append("g"),Mt=mt.append("g"),_t=uf.highlightTimer(t=>{if(t){var e,n,r=kt.selectAll($?"path.area":"g.lines g.line, g.line-symbols g, g.lbl-connect-lines path").style("opacity",(function(e){return e.id===t?Pt():.15}));$||r.filter((function(e){return e.id===t})).each((function(){this.parentNode.append(this)})),null===(e=i)||void 0===e||e.highlight(t),vt.selectAll(".d3l-line-label").style("opacity",(function(e){return e.id===t?1:.15})),null===(n=i)||void 0===n||n.highlight(t),E("highlight.set",{column:t})}else{var o;const t=kt.selectAll($?"path.area":"g.lines g.line, g.line-symbols g, g.lbl-connect-lines path").style("opacity",Pt());$||(t.data(lt,t=>t.id).order(),kt.selectAll("g.line-symbols g").data(lt,t=>t.id).order()),vt.selectAll(".d3l-line-label,.d3l-item").style("opacity",1),null===(o=i)||void 0===o||o.highlight(""),E("highlight.clear")}},H?0:700);!function(){const t=vu(g.y,r.get("lines",{}),b),e=zu(b),n=vt.append("div.d3l-color-key");Y.add((function(){if(n.html(""),B="top"===r.get("labeling","top")||"right"===r.get("labeling","top")&&P.outerWidth<=x||$&&"right"===r.get("labeling","top"),"right"===r.get("labeling","top")&&T&&nt===(d?"left":"right")&&(B=!0),n.classed("d3l-hidden",!B),B){const o=r.get("line-symbols-shape","circle"),a=r.get("line-symbols")&&"multiple"===o,s=parseFloat(r.get("line-symbols-size",3.5)),f=r.get("line-symbols-shape-multiple",{}),h={};for(const t in f)if(Object.hasOwnProperty.call(f,t)){const e=f[t];h[t]=gu[e]}const p=r.get("line-symbols-on","last"),g={position:"first"===p?d?"right":"left":"last"===p?d?"left":"right":"center",opacity:r.get("line-symbols-opacity",1),size:s},m=function(){const t={dash_style1:{width_style0:"0.5, 4",width_style1:"0.25, 5",width_style2:"0.0001, 6",width_style3:"0.5, 2"},dash_style2:{width_style0:"3, 6",width_style1:"4, 8",width_style2:"5, 10",width_style3:"2, 4"},dash_style3:{width_style0:"6, 6",width_style1:"8, 8",width_style2:"10, 10",width_style3:"4, 4"}};return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"style0",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"style0";return aa(t,"dash_".concat(e,".width_").concat(n),"none")}}(),y=r.axes().y.filter(t=>S.column(t).values().filter(Go).length).map(t=>{for(var e=null,n=0;n<lt.length;n++)if(lt[n].id===t){e=lt[n];break}return e}).filter(t=>t&&zt(t.id)).map((n,i)=>{let s=R(St(i,n.id));if($){const t=r.get("area-opacity",.5);s=l(s).alpha(t)}const c={...g,shape:h[n.id]||"circle"},u={strokeWidth:e[t[n.id].width],dashArray:m(t[n.id].dash,t[n.id].width),symbol:a&&h[n.id]&&c||"multiple"!==o&&"invisible"===t[n.id].width&&"every"===r.get("line-symbols-on")&&{...g,shape:mu[o]}};return{key:n.id,label:n.title,color:s,line:T&&u}}).filter(t=>!!$||t.line&&(t.line.strokeWidth||t.line.symbol));i=uf.categoryLegendWrapper(n.node(),{emotion:u.emotion,chroma:l,purifyHtml:c,themeData:b,swatches:y,position:"above",rtl:d}),i.on("mouseenter",t=>{let{value:e}=t;_t.set(e)}),i.on("mouseexit",()=>{_t.clear()})}let o=0;B&&("bottom"===A&&vt.style("bottom",0),n.style("width",P.outerWidth+"px"),o=u.getElementBounds(n.node()).height);const a=Math.round(o+k.bottom+k.top);var s=B&&"top"===A?a:0,f=B&&"bottom"===A?a:0;if(s!==I.colorKeyMarginTop||f!==I.colorKeyMarginBottom)return I.colorKeyMarginTop=s,I.colorKeyMarginBottom=f,Ot(),!1;const h=O.select(".annotation-keys:not(.hide)").node(),p=h?u.getElementBounds(h).height+20:0;B&&n.style(A,("top"===A?-(I.gridTop+o):p+k.bottom)+"px").style("left",-I.l+"px").style("opacity",1)}))}();const At=r.get("text-annotations",[]).length;var Et;return n=function(t){let{vis:e,htmlRoot:n,updateCallback:r,scales:i,size:o,$chart:a,rtl:s,margin:l,marginsChanged:c,annotationLayer:u,ariaLabel:f,chroma:h,purifyHtml:p}=t;const d=e.chart().inEditor()&&window.parent!==window&&window.parent.dw&&window.parent.dw.backend&&window.parent.dw.backend.hooks,g=e.chart().flags().isEditingAllowed,m=d&&g?function(){const{results:t}=window.parent.dw.backend.hooks.call("get-annotation-controls");if(t&&t.length)return window.__registerAnnotationControls=void 0,t[t.length-1];window.__registerAnnotationControls=function(t){u.$set({editMode:!0}),t.syncAnnotationLayer(u)}}():null,y=fa(e.get("text-annotations",[])),v=fa(e.get("range-annotations",[]));if(!y.length&&!v.length&&!d)return;const b=e.axes(!0),x="number"===b.x.type(),w="date"===b.x.type();y.forEach(t=>{x?t.x=+t.x:w&&(t.x=uu(t.x)),t.y=+t.y});const k=(t,e)=>(t=w?uu(t):t,[i.x(t),i.y(e)].map(t=>isNaN(+t)?void 0:+t.toFixed(1))),M=(t,e)=>(t=i.x.invert(t),e=i.y.invert(e),x?t=t.toFixed(4):w&&(t=nr("%Y/%m/%d %H:%M")(t)),[t,e=e.toFixed(4)]),_=n.append("div.annotations").style("width","".concat(o.width,"px")).style("height","".concat(o.height,"px")),A=a.append("div.annotation-keys");if(r.add((function(){const{height:t}=e.chart().getElementBounds(A.node()),n=t>0?20:0;t+n!==l.annotationKeyMarginBottom&&(l.annotationKeyMarginBottom=t+n,A.style("margin-top",-t+"px"),c())})),u)try{u.$destroy()}catch(t){}return u=new cu({target:a.select(".annotations").node(),props:{textAnnotations:y,rangeAnnotations:v,dataToPx:k,pxToData:M,theme:e.theme(),cm:e.colorMap(),visWidth:o.width,visHeight:o.height,annotationKeysSel:A,ariaLabel:f,rtl:s,mirrorX:s,chroma:h,purifyHtml:p}}),r.add(()=>{_.style("width","".concat(o.width,"px")).style("height","".concat(o.height,"px")),u.$set({dataToPx:k,pxToData:M,visWidth:o.width,visHeight:o.height,theme:e.theme(),cm:e.colorMap()})}),m&&(u.$set({editMode:!0}),m.syncAnnotationLayer(u)),u}({vis:r,htmlRoot:vt,updateCallback:Y,scales:et,size:P,$chart:O,margin:I,rtl:d,chroma:l,purifyHtml:c,marginsChanged:Ot,annotationLayer:n,ariaLabel:At>0?p("accessibility / annotations / "+(At>1?"multiple":"single")).replace("%count%",At):""}),Et=r.get("x-grid","off"),Y.add((async function(){let t=!1;const e=aa(b,"vis.d3-lines.axes.gridlines.verticalAxis",!1);let n,i=et.x;Z&&(i=on().domain([0,g.x.values().length-1]).range([et.x(J[0]),et.x(J[1])]),n=t=>g.x.values()[t]),!Z&&K.length&&(t=K);const a=await Pu.xGridWrapper({visId:"d3-lines",className:"grid-x",belowChart:wt,aboveChart:Mt,tickPosition:"bottom",scale:i,scaleType:g.x.type(),gridLines:"on"===Et,tickLines:"ticks"===Et,baseLine:e&&!Rt()?r.get("y-grid-label-align","left"):"on"===Et&&"zero",theme:b,tickLabelMultiply:L.yAxis.multiply,tickLabelUnit:[L.yAxis.prepend,L.yAxis.append],plotSize:[P.width,P.height],tickLabelFormat:r.get("x-tick-format","auto"),ticks:{major:{values:t,spacing:60}},emotion:u.emotion,numeral:o,translate:p,customFormatFunction:n,chroma:l,updateMargins:!1,rtl:d});await new Promise(t=>setTimeout(t,100)),(a.right+2).toFixed(1)===I.xGridRight.toFixed(1)&&a.left===I.xGridLeft||(I.xGridRight=a.right+2,I.xGridLeft=a.left,Ot()),a.bottom!==I.gridBottom&&(I.gridBottom=a.bottom,Ot())})),function(t){var e=r.get("y-grid-subdivide",!0)&&V;O.classed("y-grid-subdivide",e),Y.add((async function(){const n=Rt();O.classed("grid-labels-inside",n),O.classed("grid-labels-right",it);const i=Dt("y"),a=!!i.length&&i,s=r.get("stack-areas",!0),c=$&&s&&r.get("stack-to-100"),f=await Pu.yGridWrapper({className:"grid-y",belowChart:wt,aboveChart:Mt,tickPosition:nt,visId:"d3-lines",scale:et.y,theme:b,scaleType:V?"log":"number",plotSize:[P.width,P.height],secondary:!0,gridLines:"on"===t,tickLines:"ticks"===t,tickLabelsInside:n,tickLabelFormat:c?"0.[0]%":r.get("y-grid-format","auto"),tickLabelUnit:c?["",""]:[L.xAxis.prepend,L.xAxis.append],tickLabelMultiply:c?1:L.xAxis.multiply,ticks:{major:{values:a,spacing:40},minor:{count:V&&e?9:0}},rtl:d,emotion:u.emotion,numeral:o,translate:p,chroma:l,updateMargins:!1});await new Promise(t=>setTimeout(t,100)),f.top!==I.gridTop&&(I.gridTop=f.top,Ot()),f.left===I.yGridLeft&&f.right===I.yGridRight||(I.yGridLeft=f.left,I.yGridRight=f.right,Ot())}))}(r.get("y-grid","on"),r.get("y-grid-labels","auto")),T&&function(t){let{vis:e,svgChart:n,updateCallback:r,includeXValues:i,scales:o,axes:a,dataset:s,ordinalScale:l,cm:c,getPaletteColor:u}=t;const f=bu({vis:e,dataset:s});if(!f.length)return!1;var h=Ri().curve(Cs(e.get("interpolation"))).defined((function(t){return Go(t.y1)&&Go(t.y2)})).x(t=>o.x(t.x)).y0(t=>o.y(t.y1)).y1(t=>o.y(t.y2)),p=f.map(t=>{let e=[];return s.eachRow(n=>{if(!i[n])return;const r=t.from===pu?0:s.column(t.from).val(n),o=t.to===pu?0:s.column(t.to).val(n);e.push({x:l?n:a.x.val(n),y1:r,y2:o})}),"text"!==a.x.type()&&(e=e.sort((t,e)=>t.x>e.x?1:-1)),{color:"color"in t?u(t.color):"#999999",opacity:t.opacity||.2,interpolation:t.interpolation,data:e}}),d=n.appendMany("path.area-fill",p);r.add((function(){d.attr("d",t=>(h.curve(Cs(t.interpolation||e.get("interpolation"))),h(t.data))).style("fill",t=>c(t.color)).style("opacity",t=>t.opacity)}))}({vis:r,dataset:S,svgChart:kt,updateCallback:Y,axes:g,scales:et,ordinalScale:Z,includeXValues:Q,cm:R,getPaletteColor:Ct}),$&&function(){const t=Ri().curve(Cs(r.get("interpolation","linear"))).defined((function(t){return Go(t.y1)&&Go(t.y2)&&$t(t.x)})).x(ft("x",et.x)).y0(ft("y1",et.y)).y1(ft("y2",et.y)),e=Di().curve(Cs(r.get("interpolation","linear"))).defined((function(t){return Go(t.y1)&&Go(t.y2)&&$t(t.x)})).x(ft("x",et.x)).y(ft("y1",et.y)),n=r.get("stack-areas",!0);var i=function(t,e,n){var r=Array(Math.max(0,t));e=Bo(e,void 0,1);for(var i=0;i<t;i++)r[i]=e(i);return r}(g.y[0].length,Lo(0)),o=lt.map((function(t,e){var r=S.column(t.id);const o=r.values().map((t,e)=>({v:t,_i:e})).filter((t,e)=>Q[e]).map((function(t,r){let{v:o,_i:a}=t;var s={x:Z?a:g.x.val(a),y1:Go(o)?i[a]+o:i[a],y2:i[a],_i:a};return lt[e].values[r].dy=i[a],n&&(i[a]+=Go(o)?o:0),s}));return{id:r.name(),col:r,data:"text"===g.x.type()?o:o.sort(ht("x"))}}));r.get("stack-areas",!0)&&r.get("stack-to-100")&&o.forEach(t=>{t.data.forEach(t=>{Go(t.y1)&&(t.y1=t.y1/i[t._i]*100),Go(t.y2)&&(t.y2=t.y2/i[t._i]*100)})});const a=kt.selectAll("path.area").data(o).enter().append("path.area").attr("role","graphics-dataregion").attr("aria-label",t=>t.values?p("accessibility / area-values").replace("%count%",t.values.filter(t=>null!==t.y1&&null!==t.y2).length).replace("%name%",t.id):"");a.on("click",t=>{E("area.click",t.id)}),a.on("mouseenter",t=>{E("area.mouseenter",t.id)}),a.on("mouseleave",t=>{E("area.mouseleave",t.id)});const s=("area-separator-color",l=aa(b,"colors.background","#ffffff"),Ct(r.get("area-separator-color",l)));var l,c=kt.selectAll("path.line").data(r.get("area-separator-lines")?o.slice(0,-1):[]).enter().append("path.line").style("stroke",R(s));Y.add((function(){a.attr("d",e=>t(e.data)).style("opacity",r.get("area-opacity",.5)).style("fill",(function(t,e){return R(St(e,t.id))})),c.attr("d",t=>e(t.data))}))}(),T&&function(){const t=kt.append("g.lines"),e=vu(g.y,r.get("lines",{}),b),n=t.selectAll("g.line").data(lt.filter(t=>"invisible"!==e[t.id].width)).enter().append("g.line"),i=Di().curve(Cs(r.get("interpolation","linear"))).defined((function(t){return Go(t.y)&&!(V&&t.y<=0)&&$t(t.x)})).x(ft("x",et.x)).y(ft("y",et.y)),o=n.append("path").attr("role","graphics-dataline").attr("aria-datascales","x-axis, y-axis").attr("aria-dataproperty","x,y").attr("aria-label",t=>p("accessibility / line-values").replace("%count%",t.values.filter(t=>null!==t.y).length).replace("%name%",t.id)).attr("aria-datavariables",t=>"".concat(r.axes(!0).x.name(),", ").concat(t.id)).attr("aria-datavaluearray",t=>t.values.filter(t=>null!==t.y).map(t=>"[".concat(JSON.stringify(v(t.x)),", ").concat(JSON.stringify(t.y),"]")).join(","));o.on("click",t=>{E("line.click",t.id)}),o.on("mouseenter",t=>{E("line.mouseenter",t.id)}),o.on("mouseleave",t=>{E("line.mouseleave",t.id)}),Y.add((function(){const t=vu(g.y,r.get("lines",{}),b);o.attr("d",t=>i(t.values)).style("stroke",(function(t,e){return R(St(e,t.id))})).attr("class",(function(e){return"line-style-width-"+t[e.id].width+" line-style-dash-"+(t[e.id].dash||"style0")}))}))}(),T&&function(){var t=r.get("line-symbols"),e=r.get("line-symbols-on","last"),n=r.get("line-symbols-shape","circle"),i=r.get("line-symbols-shape-multiple",{});const o=kt.append("g.line-symbols"),a=aa(b,"vis.d3-lines.symbols.style","fill"),s=aa(b,"vis.d3-lines.symbols.outline");if(t){const t=o.selectAll("g").data(lt).enter().append("g"),l=r.axes(!0),c=t.selectAll("path.symbol").data((function(t){return("every"===e?t.values.filter(ft("y",Go)):"first"===e?[t.first]:"last"===e?[t.last]:[t.first,t.last]).map((function(e){return e.id=t.id,e}))})).enter().append("path.symbol").attr("role","graphics-dataunit").attr("aria-datascales","x-axis, y-axis").attr("aria-datavariables",t=>"".concat(l.x.name(),", ").concat(t.id)).attr("aria-datavalues",t=>"".concat(JSON.stringify(v(t.x)),", ").concat(JSON.stringify(t.y))).attr("d",t=>function(t,e,n){return"multiple"!==e?du[e]:du[gu[n[t.id]||0]]}(t,n,i)),u=r.get("line-symbols-size",3.5),f=vu(l.y,r.get("lines",{}),b);Y.add((function(){const e=zu(b);c.attr("transform",(function(t){return"translate("+[et.x(t.x),et.y(t.y)]+") scale("+r.get("line-symbols-size",3.5)+")"})).style("opacity",r.get("line-symbols-opacity",1)),t.style("fill",(function(t,e){return"fill"===a?R(St(e,t.id)):"invisible"!==f[t.id].width?b.colors.background:"transparent"})).style("stroke","hollow"===a&&function(t,e){return R(St(e,t.id))}).style("stroke-width","hollow"===a?function(t){return e[f[t.id].width]/u}:!!s&&(s.width||1)/u)})),c.filter(t=>t.y===tt[1]).node()&&u>I.t&&(I.bufferTop=u,Ot())}}(),function(){if("right"===r.get("labeling","top")&&T&&nt!==(d?"left":"right")){const t=vt.append("div.d3l-line-labels"),e=lt.filter(t=>zt(t.id)),n=t.selectAll("div.d3l-line-label.connected-label.label").data(e).enter().append("div.d3l-line-label.connected-label.label").attr("data-column",ft("id")).attr("aria-hidden",!0).attr("data-row",-1).on("mouseenter",(function(t){_t.set(t.id)})).on("mouseleave",(function(){_t.clear()})),i=n.append("span");Y.add((function(){i.html((function(t){return r.dataset.column(t.column.name()).title()}));var o=0;+r.get("label-margin",0)>0?o=+r.get("label-margin",0):n.style("width","auto").select("span").each((function(){o=Math.max(o,u.getElementBounds(this).width)}));var a=P.outerWidth>x,s=r.get("connector-lines",!0);if(U=0,n.style("width",o+"px").each((function(t){t.lh=u.getElementBounds(this).height})),t.classed("d3l-hidden",!a),a&&(U=Math.round(o+10)),U!==I.directLabels)return I.directLabels=U,void Ot();e.forEach((function(t){t.ly=et.y(t.last.y),t._direct=!1,t._show=!0})),It(e.filter(ft("_show")),"ly",0,P.height,"lh"),n.style("display",(function(t){return t._show?"block":"none"})).filter(ft("_show")).style("left",(function(t){return(t._direct?et.x(t.last.x)+5:d?-o:P.width)+"px"})).style("top",(function(t){return t.ly-5+"px"})),r.get("label-colors")&&n.select("span").style("color",(function(t,e){return Lt(R(St(e,t.id)))})),kt.select("g.lbl-connect-lines").remove(),a&&s&&kt.append("g.lbl-connect-lines").selectAll("path").data(e.filter((function(t){var e=et.x(t.last.x)-(d?0:P.width),n=t.ly_d;return Math.sqrt(e*e+n*n)>10}))).enter().append("path").style("stroke",(function(t,e){return R(St(e,t.id))})).attr("d",(function(t){return"M"+[et.x(t.last.x),et.y(t.last.y)]+"L"+[d?3:P.width-3,t.ly]}))}))}else if(T&&r.get("line-value-labels",!1)&&nt!==(d?"left":"right")){const t=vt.append("div.d3l-line-labels.last-value-labels").selectAll("div.d3l-line-label.last.connected-label.label").data(lt).enter().append("div.d3l-line-label.connected-label.label").attr("data-column",ft("id")).attr("data-row",-1).on("mouseenter",(function(t){_t.set(t.id)})).on("mouseleave",(function(){_t.clear()})),e=t.append("span");Y.add((function(){e.html((function(t){return gt(t.last.y).replace(" ","&nbsp;")}));var n=0;if(+r.get("label-margin",0)>0?n=+r.get("label-margin",0):t.style("width","auto").select("span").each((function(){n=Math.max(n,u.getElementBounds(this).width)})),U=0,t.style("width",n+"px").each((function(t){t.lh=u.getElementBounds(this).height})),U=Math.round(n+10),I.directLabels!==U)return I.directLabels=U,void Ot();lt.forEach((function(t){t.ly=et.y(t.last.y),t._direct=!1,t._show=!0})),It(lt.filter(ft("_show")),"ly",0,P.height,"lh"),t.style("display",(function(t){return t._show?"block":"none"})).filter(ft("_show")).style("left",(function(t){return(t._direct?et.x(t.last.x)+5:d?-n:P.width)+"px"})).style("top",(function(t){return t.ly-5+"px"})),r.get("label-colors")&&t.select("span").style("color",(function(t,e){return Lt(R(St(e,t.id)))}))}))}}(),function(t){if(!1===N.visualize["show-tooltips"])return;let e=aa(b,"vis.d3-lines.labels.tooltip.fontSize",Ss(b,"fontSize",12)),n=Math.round(1.1*e);const i=B&&"top"===A?k.bottom+10:I.t;var o=mt.select("rect.bg"),a=yt.append("g.tooltip").attr("aria-hidden",!0);a.append("text.tooltip.bg"),a.append("text.tooltip.fg");var s=a.append("line").attr("y1",-13).attr("y2",-5).style("stroke-width",$?3:1);$||a.append("circle").attr("r",5).style("stroke",w.fallback);var l=a.selectAll("text"),f=l.tspans(t?["","",""]:["",""],n);function h(t,e,r){t.innerHTML="";let i=e.trim().split(/<br *\/?>|\n/g);i=i.filter(t=>""!==t),st(t).tspans(i).attr("dy",(t,e)=>0===e&&r?0:n)}function p(){a.classed("show",!1),_t.clear()}mt.on("mousemove",(function(){const e=u.getRelativeMousePosition(X,o.node());if(b(e[0],ot,10)&&b(e[1],at,20)){let o=-1,u=9999999;if(lt[0].values.forEach((function(t,n){var r=Math.abs(et.x(t.x)-e[0]);r<u&&(o=n,u=r)})),o<0)return;const b=$&&r.get("stack-to-100");var m=lt.map((function(t,n){const i=lt.reduce((t,e)=>t+e.values[o].y,0),a=dw.utils.clone(t.values[o]);b&&(a.y=a.y/i*100,a.dy=a.dy/i*100);const s=$&&r.get("stack-areas",!0),l=e[1];return{i:n,d:t,item:a,dst:isNaN(a.y)||!zt(t.id)?9999999:Math.abs(et.y(a.y*(s?.5:1)+a.dy)-l)}})).filter(t=>!Number.isNaN(t.dst)).sort(ht("dst"));if(m[0].dst<100){const r=d?e[0]/P.width>=.4:e[0]/P.width<.6;var y=lt[m[0].i].values[o];const u=b?m[0].item:lt[m[0].i].values[o];if(!zt(y.col.name())||null===u.y||""===u.y)return;E("tooltip",{x:y.x,y:y.y,col:y.col.name()}),_t.set(y.col.name());var v=et.y(u.y+u.dy);if(f.style("text-anchor",r?"start":"end"),f.each((function(e,n){if(t){if(0===n){const t=ta(c(y.col.title(),["br"]));return this.textContent=t,void(Z&&/<br *\/?>|\n/g.test(t)&&h(this,t,!0))}n--}const r=0===n?pt(Z?c(g.x.val(y.x),["br"]):y.x):null===y.y?"0":gt(y.y);this.textContent=r,0===n&&Z&&/<br *\/?>|\n/g.test(r)&&h(this,r,!t)})),t){const t=Lt(R(St(y.columnIndex,y.col.name())));a.select("text.tooltip.fg tspan:first-child").style("fill",t)}const p=l.nodes()[0],x=Array.from(p.getElementsByTagName("tspan")).filter(t=>0===t.children.length).length;let w=e[1]>60;if($){const t=(n+1)*(x-1),e=.5*(et.y(u.dy)+v)+t,i=Math.max(0,e-et.y.range()[0]);s.at({y1:et.y(u.dy)-v,y2:0}),l.translate([(r?10:-10)*(d?-1:1),.5*(et.y(u.dy)-v)-i])}else{const e=n*(x+1)+(w?2:5);!w&&v+e>et.y.range()[0]&&(w=!0),w&&v-e<et.y.range()[1]-i&&(w=!1),s.at(w?{y1:-n,y2:-5}:{y1:5,y2:n+3}),l.translate([r?-3:3,w?-x*n-(t?3:2):2*n+2])}a.translate([et.x(y.x),v]),a.classed("show",!0)}else p()}else p();function b(t,e,n){return n=n||0,t>=e[0]-n&&t<=e[1]+n}})).on("mouseleave",(function(){p()})),Y.add(()=>{e=aa(b,"vis.d3-lines.labels.tooltip.fontSize",Ss(b,"fontSize",12)),n=Math.round(1.1*e),a.select("text.tooltip.bg").style("stroke",b.colors.background),a.select("text.tooltip.fg").style("fill",w.tooltipText),s.style("stroke",w.fallback),a.select("circle").style("stroke",w.fallback)})}(lt.length>1),Y.fire(!0),setTimeout(()=>{r.renderingComplete()},20),{update:function(t){var e=(r=t).size();if(P.outerWidth=e[0],P.outerHeight=e[1],P.outerHeight<=0||P.outerWidth<=0)return F=0,void r.renderingComplete();P.width=P.outerWidth-I.l-I.r,P.height=P.outerHeight-I.t-I.b,F=0,Y.fire(),r.renderingComplete()},settings:function(){return N}};function $t(t){return"date"===g.x.type()?Wo(t):"number"===g.x.type()?Go(t):void 0!==t}function Ot(){if(F++>15)return;I.b=I.gridBottom+I.annotationKeyMarginBottom+I.colorKeyMarginBottom,I.t=Math.max(I.colorKeyMarginTop+I.gridTop,I.bufferTop);const t=[I.xGridLeft,I.yGridLeft],e=[I.xGridRight,I.yGridRight];(d?t:e).push(I.directLabels),I.l=Math.max(...t),I.r=Math.max(...e),P.width=P.outerWidth-I.l-I.r,P.height=P.outerHeight-I.t-I.b,W()}function Nt(){const t=vu(g.y,r.get("lines",{}),b),e=r.get("base-color",0),n={customColors:Object.fromEntries(Object.entries(t).filter(t=>{let[,e]=t;return"color"in e}).map(t=>{let[e,{color:n}]=t;return[e,n]})),selectedColor:e,keys:r.keys().map(t=>c(t,[])),permute:!0};return r.get("variate-colors",!1)&&(n.positiveColor=!0,n.negativeColor=!0,n.neutralColor=!0),z={},function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Error("cant create getColor function without theme"),{selectedColor:e=0,customColors:n={},keys:r=[],permute:i,includeBaseColor:o=!0,lightnessRange:a=[30,90],positiveColor:s=!1,negativeColor:l=!1,negativeColorValue:c=null,neutralColor:u=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const f=t.colors.palette,h=Cu(e,f),p="number"==typeof e?e:f.indexOf(e);c=Cu(c,f);const d=r.length-Object.keys(n).filter(t=>""!==n[t].toString()&&r.includes(t)).length,g=[];if(n&&Object.keys(n).length){const t={};Object.keys(n).forEach(e=>{String(n[e]).length&&(t[e]=isNaN(n[e])?n[e]:f[n[e]%f.length])}),Object.keys(t).length&&g.push($u(t))}var m;(s||l||u)&&g.push(Ou(s?t.colors.positive:h,l?null!==(m=c)&&void 0!==m?m:t.colors.negative:h,u?t.colors.neutral:s?t.colors.positive:h));const{mode:y}=t.colors;if(y&&d>0&&(y.rotateLimit>=d&&p>-1?g.push(Nu(f,p)):y.shades&&y.shades[h]&&g.push(Su(y.shades[h],d))),d>0){i=void 0===i?d>4:i,a=d<=3?[30,60]:a;let t=Eu(h,d,o,a);i&&(t=Tu(t)),g.push(Lu(t))}const v=(t,e,n)=>{let r=null;return g.find(i=>(r=i({key:t,i:e,value:n}),null!=r)),null==r&&(r=h),r};return v}(b,n)}function St(t,e){const n=c(e,[]);return z[n]||(z[n]=j(n,t,function(t){var e="equal";return r.dataset.eachColumn(n=>{n.name()===t&&(e=n.values()[n.values().length-1]-n.values()[0])}),e}(e))),z[n]}function Lt(t){let e=1;t.match(/^#[0-9a-f]{8}$/i)&&(e=parseInt(t.slice(-2),16)/255,t=t.slice(0,-2));const n=fe(t),r=fe(aa(b,"colors.background")).l>50;return n.l=r?Math.min(n.l*e,50):Math.max(n.l*e,65),n}function Ct(t){const e=b.colors.palette;return Vo(t)?e[t%e.length]:t}function Dt(t){const e="x"===t?g.x:g.y[0];if(!e)return[];const n=e.type();return dw.column("",r.get("custom-ticks-".concat(t),"").split(","),n).values().filter(t=>hu(t,n))}function Rt(){const t=r.get("y-grid-labels","auto");return"inside"===t||"auto"===t&&P.outerWidth<=x}function It(t,e,n,r,i){var o=[];t.forEach((function(t){o.push({node:t,y:t[e],dy:0,oy:t[e],h:i?t[i]:0})}));var a=0;!function t(){var e=!1;o.forEach((function(t,n){o.forEach((function(r,i){if(i>n){var o,a,s=t.y,l=r.y,c=5+.5*t.h+.5*r.h;Math.abs(s-l)<c&&(e=!0,o=.35*(Math.abs(s-l)-c),a=s<l,t.dy+=a?o:-o,r.dy-=a?o:-o)}}))})),e&&o.forEach((function(t){t.y=Math.min(Math.max(n,t.y+t.dy),r),t.dy=0})),e&&++a<10&&t()}(),o.forEach((function(t){t.node[e+"_d"]=t.y-t.oy,t.node[e]=t.y}))}function Pt(){return $?r.get("area-opacity",.5):1}function zt(t){if($)return!0;const e="invisible"!==vu(g.y,r.get("lines",{}),b)[t].width,n=r.get("line-symbols-shape",{}),i=r.get("line-symbols-shape-multiple",{}),o=r.get("line-symbols",!1)&&("multiple"!==n||i[t]||"every"===r.get("line-symbols-on"));return e||o}}return{type:function(){return"lines"},render:function(t){const n=this,i=n.chart().get("metadata");i.visualize||(i.visualize={});const a=e.context||{};e.context=a;const l=n.chart(),c=n.theme();var u,f;r&&t.classList.remove(r),t.classList["rtl"===n.textDirection?"add":"remove"]("dir-rtl"),r=function(t,e,n){const{css:r,getProp:i,typography:o}=function(t,e){const n=function(t){let e="";for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(const n of t)e+=n+(r.length?r.shift():"");return e.split("\n").filter(t=>t).filter(t=>!t.includes("%UNDEFINED%")).join("\n")};function r(t,e,n){return aa(t,e,void 0===n?"%UNDEFINED%":n)}return{getProp:(t,n)=>r(e,t,n),getObjProp:r,typography:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.entries(Os).filter(n=>{let[r]=n;return _a(t,r)||_a(e,r)}).map(n=>{let[r,{prop:i,tsf:o=ba}]=n;const a=aa(t,r,e[r]);return"".concat(i,": ").concat(o(a),";")}).join("\n")},css:function(){return t.css(n(...arguments))},cssTemplate:n,UNDEFINED_STYLE:"%UNDEFINED%"}}(t,e);return r(cf||(a=["\n        ","\n        .d3l-line-labels span {\n            ","\n        }\n\n        .d3l-line-labels.last-value-labels span {\n            ","\n        }\n\n        g.tooltip {\n            font-size: ",";\n            fill: ",";\n        }\n\n        svg g.line-symbols {\n            stroke: ",";\n        }\n\n        .line-style-dash-style1,\n        .line-style-dash-style2,\n        .line-style-dash-style3 {\n            stroke-linecap: ","!important;\n        }\n\n        svg .lines .line path.line-style-dash-style0 {\n            stroke-linecap: ",";\n        }\n\n        .legend-key .key-line {\n            stroke-linecap: ",";\n        }\n\n        .line-style-width-style0 {\n            stroke-width: ",";\n        }\n        .line-style-width-style1 {\n            stroke-width: ",";\n        }\n        .line-style-width-style2 {\n            stroke-width: ",";\n        }\n        .line-style-width-style3 {\n            stroke-width: ",";\n        }\n        .line-style-width-invisible {\n            stroke-width: ",";\n        }\n\n        ","\n    "],s||(s=a.slice(0)),cf=Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(s)}}))),"center"===aa(e,"vis.base.legend.alignment")?"\n    .d3l-color-key:not(.d3l-hidden) {\n        display: inline-flex !important;\n        justify-content: center;\n        width: 100%;\n        flex-wrap: wrap;\n    }\n    .d3l-color-key:not(.d3l-hidden) div {\n        position: relative;\n    }":"",o(aa(e,"vis.d3-lines.labels.direct",{})),o(aa(e,"vis.d3-lines.labels.lastValue",{})),i("vis.d3-lines.labels.tooltip.fontSize"),i("vis.d3-lines.labels.tooltip.color"),i("vis.d3-lines.symbols.outline.color"),i("vis.d3-lines.lines.linecap.dashed","round"),i("vis.d3-lines.lines.linecap.normal","round"),i("vis.d3-lines.legend.swatch.linecap","round"),Ns(i("vis.d3-lines.lines.widths.style0",2)),Ns(i("vis.d3-lines.lines.widths.style1",3)),Ns(i("vis.d3-lines.lines.widths.style2",4)),Ns(i("vis.d3-lines.lines.widths.style3",1)),Ns(0),n?"\n        .d3l-key.legend-key div {\n            border-radius: ".concat(i("vis.base.legend.swatch.borderRadius"),";\n        }\n        path.area {\n            mix-blend-mode: ").concat(i("vis.d3-area.areas.blendMode"),";\n        }"):"");var a,s}(l.emotion,c,"area"===this.type()),t.classList.add(r),a.vis&&!o&&(u=i,f=a.vis.settings(),function(t,e,n){var r,i;if(e=Bo(e,void 0),Yo(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var o=jo(t);for(r=0,i=o.length;r<i;r++)e(t[o[r]],o[r],t)}}([u=dw.utils.clone(u),f=dw.utils.clone(f)],(function(t){delete t.visualize["just-update"],delete t.visualize["custom-colors"],delete t.visualize["line-widths"],delete t.visualize["line-dashes"],delete t.visualize["area-opacity"],delete t.visualize["line-symbols-size"],delete t.visualize["line-symbols-opacity"],delete t.publish})),Uo(u,f))?a.vis.update(n):(a.vis=s(t,n),o=!1)},keys:function(){return this.axes(!0).y.map((function(t){return t.name()}))},reset:function(){},supportsSmartRendering:()=>!0}}),...dw.visualization.hasVisHash?["c93fe1a1"]:[]),dw.visualization.register("d3-area","d3-lines",(function(){return{type:function(){return"area"}}}),...dw.visualization.hasVisHash?["c93fe1a1"]:[])}();

